package io.vertigo.dynamo.task.data.domain


create Task TkCarCount {
    className : "io.vertigo.dynamox.task.TaskEngineSelect"
    request : "select count(*) from super_hero	"
	attribute count {domain : STyInteger  cardinality:"1" inOut :"out"}
}

	
create Task TkSuperHeroLoadByName {
    className : "io.vertigo.dynamox.task.TaskEngineSelect"
    request : "<%if (name !=null) {%>select * from super_hero where name = #name# <%} else {%>select * from super_hero <%}%>"
	attribute name {domain : STyString  cardinality:"?" inOut :"in"}
	attribute result {domain : STyDtSuperHero  cardinality:"*" inOut :"out"}
}


create Task TkSuperHeroCountByName {
    className : "io.vertigo.dynamox.task.TaskEngineSelect"
    request : "select count(*) from super_hero where name=#name# "
	attribute name {domain : STyString  cardinality:"1" inOut :"in"}
	attribute count {domain : STyInteger  cardinality:"1" inOut :"out"}
}


create Task TkLoadSuperHeroNames {
    className : "io.vertigo.dynamox.task.TaskEngineSelect"
    request : "select distinct name from super_hero"
	attribute names {domain : STyString  cardinality:"*" inOut :"out"}
}


create Task TkUpdateSuperHeroNames {
    className : "io.vertigo.dynamox.task.TaskEngineProc"
    request : "update  super_hero set name =#newName# where name=#oldName#"
	attribute oldName {domain : STyString  cardinality:"1" inOut :"in"}		
	attribute newName {domain : STyString  cardinality:"1" inOut :"in"}	
}

