(function(y,ne){typeof exports=="object"&&typeof module!="undefined"?module.exports=ne():typeof define=="function"&&define.amd?define(ne):(y=typeof globalThis!="undefined"?globalThis:y||self,y.VertigoUi=ne())})(this,function(){"use strict";var y=(e,t)=>{const n=e.__vccOpts||e;for(const[a,s]of t)n[a]=s;return n};const ne={props:{botUrl:{type:String,required:!0},devMode:{type:Boolean,default:!1},minTimeBetweenMessages:{type:Number,default:1e3},botAvatar:{type:String,required:!0},botName:{type:String,required:!0}},data:function(){return{convId:42,inputConfig:{modeTextarea:!1,responseText:"",responsePattern:"",showRating:!1,rating:0,buttons:[]},prevInputConfig:{},lastPayload:null,processing:!1,error:!1,messages:[],keepAction:!1,menu:!1,lastUserInteraction:0,watingMessagesStack:[]}},created:function(){this.askBot("/start"),this.convId=Math.random()},methods:{postAnswerBtn:function(e){this.messages.push({text:[e.title],sent:!0,bgColor:"primary",textColor:"white"}),this._scrollToBottom(),this.askBot(e.payload)},postAnswerText:function(){var e=this.inputConfig.responseText.trim().replace(/(?:\r\n|\r|\n)/g,"<br>");this.messages.push({text:e!==""?[e]:null,rating:this.inputConfig.rating>0?this.inputConfig.rating:null,sent:!0,bgColor:"primary",textColor:"white"}),this._scrollToBottom();var t=this.inputConfig.responsePattern===""?e.replace(/(")/g,'"'):this.inputConfig.responsePattern.replace("#",e.replace(/(")/g,'\\"'));this.askBot(t)},_scrollToBottom:function(){this.$refs.scroller&&this.$refs.scroller.setScrollPosition(this.$refs.scroller.scrollHeight,400)},askBot:function(e){this.prevInputConfig=JSON.parse(JSON.stringify(this.inputConfig)),this.reinitInput(),this.lastPayload=e,this.processing=!0,this.lastUserInteraction=Date.now(),this.$http.post(this.botUrl,{sender:this.convId,message:e}).then(function(t){t.data.forEach(function(n){this.watingMessagesStack.push(n)},this),this._displayMessages()}.bind(this)).catch(function(){this.error=!0,this.processing=!1,this._scrollToBottom()}.bind(this))},_displayMessages:function(){if(this.watingMessagesStack.length>0){var e=this.watingMessagesStack.shift(),t=this.lastUserInteraction-Date.now()+this.minTimeBetweenMessages;this.sleep(t).then(function(){this._processResponse(e),this.lastUserInteraction=Date.now(),this._displayMessages()}.bind(this))}else this.processing=!1,this.keepAction&&(this.inputConfig=this.prevInputConfig,this.inputConfig.responseText="",this.keepAction=!1),this.sleep(1).then(function(){this.$refs.input.focus()}.bind(this))},_processResponse:function(e){var t=this.messages[this.messages.length-1];t&&!t.sent?t.text.push(e.text):this.messages.push({avatar:this.botAvatar,text:[e.text],bgColor:"grey-4"}),e.buttons&&e.buttons.forEach(function(n){if(n.title.startsWith("#")){var a=n.title.substring(1);a==="textarea"&&(this.inputConfig.modeTextarea=!0),a==="eval"&&(this.inputConfig.showRating=!0),a==="keep_action"&&(this.keepAction=!0),n.payload&&(this.inputConfig.responsePattern=n.payload)}else this.inputConfig.buttons.push(n)},this),this._scrollToBottom()},restart:function(){this.messages.push({text:[this.$q.lang.vui.chatbot.restartMessage],bgColor:"orange"}),this._scrollToBottom(),this.$http.post(this.botUrl,'{"sender":"'+this.convId+'","message":"/restart"}').then(function(){this.askBot("/start")}.bind(this))},reinitInput:function(){this.inputConfig.modeTextarea=!1,this.inputConfig.responsePattern="",this.inputConfig.responseText="",this.inputConfig.showRating=!1,this.inputConfig.rating=0,this.inputConfig.buttons=[],this.error=!1},sleep:function(e){return new Promise(function(t){setTimeout(t,e)})}}},Le=window.Vue.renderList,Pe=window.Vue.Fragment,k=window.Vue.openBlock,de=window.Vue.createElementBlock,Q=window.Vue.resolveComponent,z=window.Vue.createVNode,G=window.Vue.withCtx,L=window.Vue.createBlock,H=window.Vue.createCommentVNode,Ae=window.Vue.toDisplayString,F=window.Vue.createElementVNode,nt=window.Vue.withKeys,ot={class:"bot"},at={class:"q-pr-md"},st={class:"sys-chat"},it={class:"q-pb-sm"},rt={class:"sys-chat non-selectable"},lt={class:"text-blue-2 q-caption"},ct={class:"row docs-btn"},dt={class:"message-processing sys-chat non-selectable"},ut={class:"non-selectable"},pt={class:"message-response row docs-btn q-pl-sm non-selectable"};function mt(e,t,n,a,s,o){const r=Q("q-rating"),i=Q("q-chat-message"),u=Q("q-btn"),l=Q("q-spinner-dots"),c=Q("q-scroll-area"),p=Q("q-input");return k(),de("div",ot,[z(c,{class:"bg-grey-2 col-grow row q-pa-sm",ref:"scroller"},{default:G(()=>[F("div",at,[(k(!0),de(Pe,null,Le(e.messages,(d,v)=>(k(),de("div",{key:v},[d.rating?(k(),L(i,{class:"animate-fade",key:"msgRating-"+v,sent:d.sent,"bg-color":d.bgColor,avatar:d.avatar},{default:G(()=>[z(r,{modelValue:d.rating,"onUpdate:modelValue":m=>d.rating=m,max:5,style:{"font-size":"2rem"},readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["sent","bg-color","avatar"])):H("",!0),d.text?(k(),L(i,{class:"animate-fade",key:"msg-"+v,label:d.label,sent:d.sent,"text-color":d.textColor,"bg-color":d.bgColor,name:d.name,avatar:d.avatar,text:d.text,stamp:d.stamp},null,8,["label","sent","text-color","bg-color","name","avatar","text","stamp"])):H("",!0)]))),128)),F("div",st,[e.error?(k(),L(i,{key:0,class:"animate-fade","bg-color":"orange-4","text-color":"black",size:"12"},{default:G(()=>[F("div",it,Ae(e.$q.lang.vui.chatbot.errorMessage),1),z(u,{class:"full-width",onClick:t[0]||(t[0]=d=>o.askBot(e.lastPayload)),label:e.$q.lang.vui.chatbot.tryAgain,color:"white","text-color":"black"},null,8,["label"])]),_:1})):H("",!0)]),F("div",rt,[e.inputConfig.buttons.length>0?(k(),L(i,{key:0,class:"animate-fade","bg-color":"primary",size:"12"},{default:G(()=>[F("div",lt,Ae(e.$q.lang.vui.suggestedAnswers),1),F("div",ct,[(k(!0),de(Pe,null,Le(e.inputConfig.buttons,(d,v)=>(k(),L(u,{class:"full-width",key:"repChatBtn-"+v,onClick:m=>o.postAnswerBtn(d),label:d.title,color:"white","text-color":"black"},null,8,["onClick","label"]))),128))])]),_:1})):H("",!0)]),F("div",dt,[e.processing?(k(),L(i,{key:0,class:"animate-fade","bg-color":"grey-4"},{default:G(()=>[z(l,{size:"2em"})]),_:1})):H("",!0)]),F("div",ut,[e.inputConfig.showRating?(k(),L(i,{key:0,class:"animate-fade","bg-color":"primary",sent:""},{default:G(()=>[z(r,{modelValue:e.rating,"onUpdate:modelValue":t[1]||(t[1]=d=>e.rating=d),max:4,style:{"font-size":"2rem"}},null,8,["modelValue"])]),_:1})):H("",!0)])])]),_:1},512),F("div",pt,[z(p,{type:e.inputConfig.modeTextarea?"textarea":"text",ref:"input",onKeyup:t[2]||(t[2]=nt(d=>e.inputConfig.modeTextarea||e.inputConfig.responseText.trim()===""&&e.inputConfig.rating===0?!1:o.postAnswerText(),["enter"])),"max-height":100,class:"col-grow",modelValue:e.inputConfig.responseText,"onUpdate:modelValue":t[3]||(t[3]=d=>e.inputConfig.responseText=d),placeholder:e.$q.lang.vui.chatbot.inputPlaceholder,disable:e.processing||e.error,loading:e.processing},null,8,["type","modelValue","placeholder","disable","loading"]),z(u,{round:"",color:"primary",icon:"send",onClick:t[4]||(t[4]=d=>o.postAnswerText()),disable:e.processing||e.inputConfig.responseText.trim()===""&&e.inputConfig.rating===0},null,8,["disable"]),n.devMode===!0?(k(),L(u,{key:0,round:"",color:"red",icon:"refresh",onClick:o.restart},null,8,["onClick"])):H("",!0)])])}var ht=y(ne,[["render",mt]]);const ft={data:function(){return{text:"",commandParamsValues:[],commands:[],commandAutocompleteOptions:[],isCommandCommited:!1,selectedCommand:{},isExecuted:!1,commandResult:{},paramsAutocompleteOptions:[]}},props:{baseUrl:{type:String,default:"/"}},methods:{searchCommands:function(e,t,n){if(this.$data.text=e,this.$data.selectedCommand={},e.length<1){n();return}this.$http.post(this.baseUrl+"api/vertigo/commands/_search",{prefix:e}).then(function(a){this.$data.commands=a.data,t(function(){this.$data.commandAutocompleteOptions=this.$data.commands.map(function(s){return{label:s.commandName,sublabel:s.descpription,value:s.commandName,command:s}})}.bind(this)),this.$data.commands.length>0&&this.chooseCommand(this.$data.commands[0],!1)}.bind(this))},selectCommand:function(e){this.chooseCommand(e.command,!0)},chooseCommand:function(e,t){this.$data.selectedCommand=e,this.$data.selectedCommand.commandParams?this.$data.commandParamsValues=this.$data.selectedCommand.commandParams.map(function(){return{value:""}}):this.$data.commandParamsValues=[],this.$data.isCommandCommited=t},commitCommand:function(e){if(this.$data.selectedCommand&&this.$data.selectedCommand.commandName)switch(e.keyCode){case 9:case 13:this.$data.isCommandCommited=!0,e.preventDefault()}},executeCommand:function(){if(this.$data.commandParamsValues.every(function(t){return t})){var e=this.$data.commandParamsValues.map(function(t){return t.value});this.$http.post(this.baseUrl+"api/vertigo/commands/_execute",{command:this.$data.selectedCommand.commandName,params:e}).then(function(t){this.$data.isExecuted=!0,this.$data.commandResult=t.data}.bind(this))}else return!1},handleEnter:function(e){e===this.$data.selectedCommand.commandParams.length-1&&this.$data.commandParamsValues[e].value&&this.executeCommand()},autocompleteParam:function(e,t,n,a,s){if(n.length<1){s();return}this.$http.get(this.baseUrl+"api/vertigo/commands/params/_autocomplete",{params:{terms:n,entityClass:e.paramType.actualTypeArguments[0]}}).then(function(o){a(function(){var r=this.$data.paramsAutocompleteOptions.slice();r[t]=o.data.map(function(i){return{label:i.label,value:i.urn}}),this.$data.paramsAutocompleteOptions=r}.bind(this))}.bind(this))},selectParam:function(e,t){var n=this.$data.commandParamsValues.slice();n[t]=e,this.$data.commandParamsValues=n},getParamValue(e){var t=this.$data.commandParamsValues[e];if(t&&t.value)return t},backIfNeeded:function(e,t){t&&!this.$data.commandParamsValues[0].value&&this.back()},back:function(){this.$data.commandParamsValues=[],this.$data.commands=[],this.$data.isCommandCommited=!1,this.$data.selectedCommand={},this.$data.isExecuted=!1,this.$data.commandResult={},this.$data.paramsAutocompleteOptions=[],this.$nextTick(function(){this.$refs.commandInput.updateInputValue(this.$data.text)})},reset:function(){this.back(),this.$data.text=""}}},oe=window.Vue.toDisplayString,q=window.Vue.openBlock,P=window.Vue.createElementBlock,Ne=window.Vue.createCommentVNode,ue=window.Vue.resolveComponent,Oe=window.Vue.withCtx,pe=window.Vue.createBlock,Ue=window.Vue.createElementVNode,gt=window.Vue.renderList,Ie=window.Vue.Fragment,X=window.Vue.withKeys,Se=window.Vue.createVNode,wt=window.Vue.createTextVNode,vt={key:0,style:{"line-height":"40px",opacity:"0.5",position:"fixed"}},_t={class:"bg-grey-4 text-center vertical-middle text-bold q-px-md",style:{"line-height":"40px"}},$t={key:0,class:"row col items-center q-py-xs"},bt={key:1,class:"col"},yt={key:1,class:"row col items-center"},Ct={class:"col shadow-2 bg-secondary text-white q-px-md",style:{"line-height":"40px"}};function Vt(e,t,n,a,s,o){const r=ue("q-select"),i=ue("q-input"),u=ue("q-separator"),l=ue("q-btn");return q(),P("div",null,[e.isCommandCommited?(q(),P("div",{key:1,class:"row col-12 justify-between bg-white round-borders overflow-hidden shadow-2 text-black",onKeyup:t[0]||(t[0]=X((...c)=>o.executeCommand&&o.executeCommand(...c),["enter"]))},[Ue("div",_t,oe(e.selectedCommand.commandName),1),e.isExecuted?(q(),P("div",yt,[Ue("div",Ct,oe(e.commandResult.display),1),e.commandResult.targetUrl?(q(),pe(l,{key:0,type:"a",href:n.baseUrl+e.commandResult.targetUrl,flat:""},{default:Oe(()=>[wt(oe(e.$q.lang.vui.commands.linkLabel),1)]),_:1},8,["href"])):Ne("",!0),Se(l,{onClick:o.reset,flat:"",icon:"cancel",size:"sm",round:""},null,8,["onClick"])])):(q(),P("div",$t,[e.selectedCommand.commandParams&&e.selectedCommand.commandParams.length>0?(q(!0),P(Ie,{key:0},gt(e.selectedCommand.commandParams,(c,p)=>(q(),P(Ie,{key:c},[c.paramType.rawType==="io.vertigo.commons.command.GenericUID"?(q(),pe(r,{key:0,class:"col q-px-xs","use-chips":"","bg-color":"white",dense:"",borderless:"","use-input":"","input-debounce":"300",value:o.getParamValue(p),options:e.paramsAutocompleteOptions[p],autofocus:p===0,"dropdown-icon":"search",onKeydown:X(function(d){o.backIfNeeded(d,p===0)},["delete"]),onKeyup:X(function(d){o.backIfNeeded(d,p===0)},["esc"]),onFilter:d=>o.autocompleteParam(c,p,e.val,e.update,e.abort),onInput:d=>o.selectParam(e.newValue,p),style:{height:"32px"}},null,8,["value","options","autofocus","onKeydown","onKeyup","onFilter","onInput"])):(q(),pe(i,{key:1,class:"col q-px-xs",color:"secondary",borderless:"",modelValue:e.commandParamsValues[p].value,"onUpdate:modelValue":d=>e.commandParamsValues[p].value=d,onKeydown:X(d=>o.backIfNeeded(e.event,p===0),["delete"]),onKeyup:[X(d=>o.backIfNeeded(e.event,p===0),["esc"]),X(d=>o.handleEnter(p),["enter"])],autofocus:p===0,dense:"",style:{height:"32px"}},null,8,["modelValue","onUpdate:modelValue","onKeydown","onKeyup","autofocus"])),Se(u,{vertical:""})],64))),128)):(q(),P("div",bt,oe(e.$q.lang.vui.commands.executeCommand),1)),Se(l,{onClick:o.executeCommand,flat:"",icon:"play_arrow",size:"sm",round:""},null,8,["onClick"])]))],32)):(q(),pe(r,{key:0,placeholder:e.$q.lang.vui.commands.globalPlaceholder,outlined:"","bg-color":"white",dense:"",ref:"commandInput",autofocus:"","dropdown-icon":"search",onBlur:o.reset,"use-input":"","input-debounce":"300","hide-selected":"",onKeydown:o.commitCommand,options:e.commandAutocompleteOptions,onFilter:o.searchCommands,onInput:o.selectCommand},{default:Oe(()=>[e.text!==""&&e.selectedCommand.commandName&&e.selectedCommand.commandName.startsWith(e.text)?(q(),P("span",vt,oe(e.selectedCommand.commandName),1)):Ne("",!0)]),_:1},8,["placeholder","onBlur","onKeydown","options","onFilter","onInput"]))])}var St=y(ft,[["render",Vt]]);const ke=window.Quasar,kt={props:{concept:{type:String},id:{type:String},icon:{type:String,default:"comment"},iconNone:{type:String,default:"add_comment"},baseUrl:{type:String,default:"/api/",required:!0},connectedAccount:{type:String}},data:function(){return{list:[],count:0,commentDrawer:!1,commentTextArea:""}},created:function(){this.fetchCommentsList()},methods:{fetchCommentsList:function(){this.$http.get(this.baseUrl+"x/comment/api/comments?concept="+this.concept+"&id="+this.id).then(function(e){this.list=e.data,this.count=this.list.length}.bind(this))},publishComment:function(){var e={msg:this.commentTextArea};e.msg&&(e.concept=this.concept,e.id=this.id,this.$http.post(this.baseUrl+"x/comment/api/comments?concept="+this.concept+"&id="+this.id,e).then(function(){this.commentTextArea="",this.fetchCommentsList()}.bind(this)))},updateComment:function(e){this.$http.put(this.baseUrl+"x/comment/api/comments/"+e.uuid,e).then(function(){this.commentTextArea="",this.fetchCommentsList()}.bind(this))},toDelay:function(e){let t=ke.date.getDateDiff(Date.now(),e,"days");return t>0?t+" days":(t=ke.date.getDateDiff(Date.now(),e,"hours"),t>0?t+" hours":(t=ke.date.getDateDiff(Date.now(),e,"minutes"),t>0?t+" min":"Now"))}}},ae=window.Vue.toDisplayString,me=window.Vue.createTextVNode,S=window.Vue.resolveComponent,$=window.Vue.withCtx,K=window.Vue.openBlock,he=window.Vue.createBlock,qe=window.Vue.createCommentVNode,_=window.Vue.createVNode,qt=window.Vue.renderList,Dt=window.Vue.Fragment,je=window.Vue.createElementBlock,ze=window.Vue.createElementVNode,xt=window.Vue.normalizeClass,Et=["src"];function Ft(e,t,n,a,s,o){const r=S("q-badge"),i=S("q-btn"),u=S("big"),l=S("q-item-label"),c=S("q-input"),p=S("q-item-section"),d=S("q-item"),v=S("q-separator"),m=S("q-avatar"),f=S("q-icon"),C=S("q-popup-edit"),ee=S("q-list"),E=S("q-drawer");return K(),je("span",null,[_(i,{round:"",size:"lg",color:"primary",textColor:"white",icon:e.count>0?n.icon:n.iconNone,onClick:t[0]||(t[0]=h=>e.commentDrawer=!e.commentDrawer),class:"on-left"},{default:$(()=>[e.count>0?(K(),he(r,{key:0,floating:"",small:"",color:"red",style:{right:"-.4em",top:"-.4em"}},{default:$(()=>[me(ae(e.count),1)]),_:1})):qe("",!0)]),_:1},8,["icon"]),_(E,{overlay:"",behavior:"mobile",width:600,modelValue:e.commentDrawer,"onUpdate:modelValue":t[2]||(t[2]=h=>e.commentDrawer=h),side:"right",style:{top:"58px"}},{default:$(()=>[_(ee,null,{default:$(()=>[_(l,{header:""},{default:$(()=>[_(u,null,{default:$(()=>[me(ae(e.$q.lang.vui.comments.title),1)]),_:1})]),_:1}),_(d,null,{default:$(()=>[_(p,null,{default:$(()=>[_(c,{class:"col",type:"textarea",autogrow:"",modelValue:e.commentTextArea,"onUpdate:modelValue":t[1]||(t[1]=h=>e.commentTextArea=h),label:e.$q.lang.vui.comments.inputLabel,"stack-label":""},null,8,["modelValue","label"])]),_:1}),_(p,{side:""},{default:$(()=>[_(i,{color:"primary",round:"",icon:"send",title:e.$q.lang.vui.comments.actionLabel,"aria-label":e.$q.lang.vui.comments.actionLabel,onClick:o.publishComment},null,8,["title","aria-label","onClick"])]),_:1})]),_:1}),_(v),(K(!0),je(Dt,null,qt(e.list,h=>(K(),he(d,{key:h.uuid,class:xt(["items-start",{"cursor-pointer":h.author==n.connectedAccount}])},{default:$(()=>[_(p,{avatar:""},{default:$(()=>[_(m,null,{default:$(()=>[ze("img",{src:n.baseUrl+"x/accounts/api/"+h.author+"/photo"},null,8,Et)]),_:2},1024)]),_:2},1024),_(p,null,{default:$(()=>[_(l,null,{default:$(()=>[me(ae(h.authorDisplayName),1)]),_:2},1024),ze("div",null,ae(h.msg),1)]),_:2},1024),_(p,{side:""},{default:$(()=>[_(l,{stamp:""},{default:$(()=>[me(ae(o.toDelay(new Date(h.creationDate))),1)]),_:2},1024),h.author==n.connectedAccount?(K(),he(f,{key:0,name:"edit"})):qe("",!0)]),_:2},1024),h.author==n.connectedAccount?(K(),he(C,{key:0,buttons:!0,onSave:te=>o.updateComment(h),"label-cancel":e.$q.lang.vui.comments.cancel,"label-set":e.$q.lang.vui.comments.save},{default:$(()=>[_(c,{type:"textarea",autogrow:"",modelValue:h.msg,"onUpdate:modelValue":te=>h.msg=te,dense:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["onSave","label-cancel","label-set"])):qe("",!0)]),_:2},1032,["class"]))),128))]),_:1})]),_:1},8,["modelValue"])])}var Bt=y(kt,[["render",Ft]]);const Tt={props:{activeSkills:{type:Array,required:!0}},data:function(){return{extensions:[]}},created:function(){var e=[{name:"vertigo-audit",label:"Audit",description:"Trace every single aspect of your app through exhaustive logging capabilities.",color:"#F7578C",icon:"fas fa-clipboard-list",enabled:!1},{name:"vertigo-dashboard",label:"Dashboard",description:"Monitor you system to make sure your app meets the customer requirements.",color:"#742774",icon:"fas fa-chart-line",enabled:!1},{name:"vertigo-geo",label:"Geo",description:"Enhance your data by enabling geographic functions and tools.",icon:"fas fa-globe",color:"#0E2947",enabled:!1},{name:"vertigo-ledger",label:"Ledger",description:"Use a blockchain to enforce secure transactions in your app !",icon:"fas fa-link",color:"#00AC5C",enabled:!1},{name:"vertigo-orchestra",label:"Orchestra",description:"Manage jobs and monitor their status with this powerfull control tower.",color:"#FC636B",icon:"fas fa-tasks",enabled:!1},{name:"vertigo-quarto",label:"Quarto",description:"Generate slick documents and reports using the Quarto template engine.",color:"#0747A6",icon:"fas fa-file-invoice",enabled:!1},{name:"vertigo-social",label:"Social",description:"Ensure real time communication and collaboration between your app users.",color:"#FF3366",icon:"far fa-comments",enabled:!1},{name:"vertigo-stella",label:"Stella",description:"Enable multi-node task dispatching for your app and assign specific tasks to each node.",color:"#0066FF",icon:"fas fa-network-wired",enabled:!1}];e.forEach(function(t){t.enabled=this.$props.activeSkills.indexOf(t.name)>-1}.bind(this)),this.extensions=e},methods:{getIconStyle:function(e){return"border: 3px solid "+e+"; background-color: "+e+"; color: white; padding: 5px; width: 70px; height: 70px;"}}},Mt=window.Vue.renderList,Lt=window.Vue.Fragment,De=window.Vue.openBlock,xe=window.Vue.createElementBlock,se=window.Vue.resolveComponent,Pt=window.Vue.normalizeStyle,W=window.Vue.createVNode,fe=window.Vue.withCtx,He=window.Vue.toDisplayString,ie=window.Vue.createElementVNode,At={class:"row q-col-gutter-md"},Nt={class:"row col items-center"},Ot={class:"q-subheading text-bold"},Ut=ie("div",{class:"col"},null,-1),It={class:"row col q-body-2 text-justify"};function jt(e,t,n,a,s,o){const r=se("q-icon"),i=se("q-item-section"),u=se("q-toggle"),l=se("q-item"),c=se("q-card");return De(),xe("div",At,[(De(!0),xe(Lt,null,Mt(e.extensions,p=>(De(),xe("div",{class:"col-xs-12 col-lg-6 col-xl-4",key:p.name},[W(c,null,{default:fe(()=>[W(l,{class:"bg-white",style:{height:"100px"}},{default:fe(()=>[W(i,{avatar:""},{default:fe(()=>[W(r,{name:p.icon,size:"40px",style:Pt(o.getIconStyle(p.color))},null,8,["name","style"])]),_:2},1024),W(i,null,{default:fe(()=>[ie("div",Nt,[ie("div",Ot,He(p.label),1),Ut,ie("div",null,[W(u,{disable:"",readonly:"",color:"positive",modelValue:p.enabled,"onUpdate:modelValue":d=>p.enabled=d},null,8,["modelValue","onUpdate:modelValue"])])]),ie("div",It,He(p.description),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]))),128))])}var zt=y(Tt,[["render",jt]]);const Ht={props:{facets:Array,selectedFacets:Object,contextKey:String,maxValues:{type:Number,default:5}},computed:{},data:function(){return{expandedFacets:[]}},methods:{facetByCode(e){return this.facets.filter(function(t){return t.code===e})[0]},facetValueByCode(e,t){return this.facetByCode(e).values.filter(function(n){return n.code===t})[0]},facetLabelByCode(e){return this.facetByCode(e).label},facetMultipleByCode(e){return this.facetByCode(e).multiple},facetValueLabelByCode(e,t){var n=this.facetValueByCode(e,t);return n?n.label:t},isFacetValueSelected(e,t){return this.selectedFacets[e].includes(t)},isFacetSelected(e){return this.selectedFacets[e]?this.selectedFacets[e].length>0:!1},isAnyFacetValueSelected(){return Object.keys(this.selectedFacets).some(function(e){return!this.facetMultipleByCode(e)}.bind(this))},expandFacet(e){this.isFacetExpanded(e)||this.$data.expandedFacets.push(e)},reduceFacet(e){this.isFacetExpanded(e)&&this.$data.expandedFacets.splice(this.$data.expandedFacets.indexOf(e),1)},isFacetExpanded(e){return this.$data.expandedFacets.includes(e)},selectedInvisibleFacets(e){return this.selectedFacets[e].filter(t=>!this.facetValueByCode(e,t)).map(t=>{var n={};return n.code=t,n.label=t,n.count=0,n})},visibleFacets(e,t){return this.isFacetExpanded(e)?t:t.slice(0,this.maxValues)}}},re=window.Vue.renderList,Z=window.Vue.Fragment,b=window.Vue.openBlock,B=window.Vue.createElementBlock,T=window.Vue.toDisplayString,A=window.Vue.createTextVNode,N=window.Vue.resolveComponent,V=window.Vue.withCtx,O=window.Vue.createBlock,Y=window.Vue.createCommentVNode,U=window.Vue.createVNode,Yt={class:"facets"},Rt={key:0,class:"selectedFacets q-pb-md"};function Jt(e,t,n,a,s,o){const r=N("q-chip"),i=N("big"),u=N("q-item-label"),l=N("q-checkbox"),c=N("q-item-section"),p=N("q-item"),d=N("q-btn"),v=N("q-list");return b(),B("div",Yt,[o.isAnyFacetValueSelected()?(b(),B("div",Rt,[(b(!0),B(Z,null,re(n.selectedFacets,(m,f)=>(b(),B("div",{key:f},[o.facetMultipleByCode(f)?Y("",!0):(b(!0),B(Z,{key:0},re(m,C=>(b(),O(r,{clickable:"",class:"q-mb-sm",key:C.code,onClick:ee=>e.$emit("toogle-facet",f,C,n.contextKey),"icon-right":"cancel"},{default:V(()=>[A(T(o.facetLabelByCode(f))+": "+T(o.facetValueLabelByCode(f,C)),1)]),_:2},1032,["onClick"]))),128))]))),128))])):Y("",!0),(b(!0),B(Z,null,re(n.facets,m=>(b(),O(v,{key:m.code,class:"facetValues q-py-none",dense:""},{default:V(()=>[m.multiple||!o.isFacetSelected(m.code)?(b(),B(Z,{key:0},[U(u,{header:""},{default:V(()=>[U(i,null,{default:V(()=>[A(T(m.label),1)]),_:2},1024)]),_:2},1024),(b(!0),B(Z,null,re(o.selectedInvisibleFacets(m.code),f=>(b(),O(p,{key:f.code,class:"facetValue q-ml-md",clickable:"",onClick:C=>e.$emit("toogle-facet",m.code,f.code,n.contextKey)},{default:V(()=>[m.multiple?(b(),O(c,{key:0,side:""},{default:V(()=>[U(l,{dense:"",value:!0,onInput:C=>e.$emit("toogle-facet",m.code,f.code,n.contextKey)},null,8,["onInput"])]),_:2},1024)):Y("",!0),U(c,null,{default:V(()=>[A(T(f.label),1)]),_:2},1024),U(c,{side:""},{default:V(()=>[A(T(f.count),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128)),(b(!0),B(Z,null,re(o.visibleFacets(m.code,m.values),f=>(b(),O(p,{key:f.code,class:"facetValue q-ml-md",clickable:"",onClick:C=>e.$emit("toogle-facet",m.code,f.code,n.contextKey)},{default:V(()=>[m.multiple?(b(),O(c,{key:0,side:""},{default:V(()=>[U(l,{dense:"",value:o.isFacetValueSelected(m.code,f.code),onInput:C=>e.$emit("toogle-facet",m.code,f.code,n.contextKey)},null,8,["value","onInput"])]),_:2},1024)):Y("",!0),U(c,null,{default:V(()=>[A(T(f.label),1)]),_:2},1024),U(c,{side:""},{default:V(()=>[A(T(f.count),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128)),m.values.length>n.maxValues&&!o.isFacetExpanded(m.code)?(b(),O(d,{key:0,flat:"",onClick:f=>o.expandFacet(m.code)},{default:V(()=>[A(T(e.$q.lang.vui.facets.showAll),1)]),_:2},1032,["onClick"])):Y("",!0),m.values.length>n.maxValues&&o.isFacetExpanded(m.code)?(b(),O(d,{key:1,flat:"",onClick:f=>o.reduceFacet(m.code)},{default:V(()=>[A(T(e.$q.lang.vui.facets.showLess),1)]),_:2},1032,["onClick"])):Y("",!0)],64)):Y("",!0)]),_:2},1024))),128))])}var Qt=y(Ht,[["render",Jt]]);const Gt={props:{value:{type:Object}},data:function(){return{inputObject:this.$props.value?this.$props.value:{}}},watch:{value:function(e){this.$data.inputObject=e||{},this.updateJson()}},beforeMount(){this.updateJson()},methods:{updateJson(){var e;this.$props.value&&(e=JSON.stringify({lon:this.$data.inputObject.lon,lat:this.$data.inputObject.lat}),this.$set(this.$props.value,"_v_inputValue",e)),this.$emit("input",this.$data.inputObject)}}},Xt=window.Vue.resolveComponent,Ye=window.Vue.createVNode,Kt=window.Vue.openBlock,Wt=window.Vue.createElementBlock,Zt={class:"row"};function en(e,t,n,a,s,o){const r=Xt("q-input");return Kt(),Wt("div",Zt,[Ye(r,{label:"Longitude","stack-label":"",modelValue:e.inputObject.lon,"onUpdate:modelValue":t[0]||(t[0]=i=>e.inputObject.lon=i),modelModifiers:{number:!0},onInput:o.updateJson},null,8,["modelValue","onInput"]),Ye(r,{label:"Latitude","stack-label":"",modelValue:e.inputObject.lat,"onUpdate:modelValue":t[1]||(t[1]=i=>e.inputObject.lat=i),modelModifiers:{number:!0},onInput:o.updateJson},null,8,["modelValue","onInput"])])}var tn=y(Gt,[["render",en]]);const nn={props:{baseUrl:{type:String,default:"/"}},data:function(){return{text:"",handles:[]}},methods:{searchHandles:function(e){e&&this.$http.post(this.baseUrl+"api/vertigo/handle/_search",{prefix:e}).then(function(t){this.$data.handles=t.data}.bind(this))}}},le=window.Vue.resolveComponent,ge=window.Vue.createVNode,we=window.Vue.withCtx,on=window.Vue.renderList,an=window.Vue.Fragment,Ee=window.Vue.openBlock,Re=window.Vue.createElementBlock,sn=window.Vue.toDisplayString,rn=window.Vue.createTextVNode,ln=window.Vue.resolveDirective,cn=window.Vue.createBlock,dn=window.Vue.withDirectives;function un(e,t,n,a,s,o){const r=le("q-icon"),i=le("q-input"),u=le("q-item-section"),l=le("q-item"),c=le("q-list"),p=ln("ripple");return Ee(),Re("div",null,[ge(i,{placeholder:e.$q.lang.vui.handles.placeholder,modelValue:e.text,"onUpdate:modelValue":t[0]||(t[0]=d=>e.text=d),debounce:300,onInput:o.searchHandles,autofocus:"",outlined:"","bg-color":"white",dense:""},{prepend:we(()=>[ge(r,{name:"search"})]),_:1},8,["placeholder","modelValue","onInput"]),ge(c,{bordered:"",dense:"",separator:""},{default:we(()=>[(Ee(!0),Re(an,null,on(e.handles,d=>dn((Ee(),cn(l,{clickable:"",onClick:v=>e.VUi.methods.goTo(n.baseUrl+"hw/"+d.code),key:d.code},{default:we(()=>[ge(u,null,{default:we(()=>[rn(sn(d.code),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[p]])),128))]),_:1})])}var pn=y(nn,[["render",un]]);const mn={props:{value:{type:String,required:!0},readonly:{type:Boolean,required:!0},cols:{type:Number,default:2}},data:function(){return{jsonAsObject:JSON.parse(this.$props.value)}},watch:{value:function(e){this.$data.jsonAsObject=JSON.parse(e)}},methods:{updateJson(){this.$emit("input",JSON.stringify(this.$data.jsonAsObject))}}},hn=window.Vue.renderList,fn=window.Vue.Fragment,ce=window.Vue.openBlock,Fe=window.Vue.createElementBlock,Je=window.Vue.resolveComponent,Qe=window.Vue.createBlock;window.Vue.createCommentVNode;const gn=window.Vue.toDisplayString,wn=window.Vue.createElementVNode,vn=window.Vue.withCtx,_n=window.Vue.normalizeClass,$n={class:"row"};function bn(e,t,n,a,s,o){const r=Je("q-input"),i=Je("q-field");return ce(),Fe("div",$n,[(ce(!0),Fe(fn,null,hn(e.jsonAsObject,(u,l)=>(ce(),Fe("div",{key:l,class:_n("col-"+12/n.cols)},[n.readonly?(ce(),Qe(i,{key:1,label:l,orientation:"vertical","stack-label":"",borderless:"",readonly:""},{default:vn(()=>[wn("span",null,gn(u),1)]),_:2},1032,["label"])):(ce(),Qe(r,{key:0,label:l,orientation:"vertical","stack-label":"",modelValue:e.jsonAsObject[l],"onUpdate:modelValue":c=>e.jsonAsObject[l]=c,onInput:o.updateJson},null,8,["label","modelValue","onUpdate:modelValue","onInput"]))],2))),128))])}var yn=y(mn,[["render",bn]]);const ve=window.Quasar,Cn={props:{icon:{type:String,default:"notifications"},iconNone:{type:String,default:"notifications_none"},typeIconMap:{type:Object,default:function(){return{}}},baseUrl:{type:String,default:"/api/",required:!0}},data:function(){return{firstCall:!0,list:[],hasNew:!1,wasError:!1,count:0,timer:""}},created:function(){this.fetchNotificationsList(),this.timer=setInterval(this.fetchNotificationsList,5e3)},methods:{fetchNotificationsList:function(){this.$http.get(this.baseUrl+"x/notifications/api/messages",{timeout:5*1e3}).then(function(e){this.updateNotificationsData(e.data),this.wasError&&(clearInterval(this.timer),this.timer=setInterval(this.fetchNotificationsList,5e3)),this.wasError=!1}.bind(this)).catch(function(){this.wasError||(clearInterval(this.timer),this.timer=setInterval(this.fetchNotificationsList,6e4)),this.wasError=!0}.bind(this))},updateNotificationsData:function(e){const t=e.sort(function(o,r){return r.creationDate-o.creationDate});var n=[],a=this.list[0];if(!a)n=t;else for(var s=0;s<t.length;s++)if(t[s].uuid!=a.uuid){if(t[s].creationDate<a.creationDate)break;n.push(t[s])}this.list=t,this.count=t.length,this.hasNew=n.length>0,this.firstCall||n.forEach(function(o){this.$q.notify({type:"info",icon:this.toIcon(o.type),message:o.title,detail:o.content,timeout:3e3,position:"bottom-right"})}.bind(this)),this.firstCall=!1},cancelAutoUpdate:function(){clearInterval(this.timer)},toIcon:function(e){var t=this.typeIconMap[e];return t||"mail"},toDelay:function(e){let t=ve.date.getDateDiff(Date.now(),e,"days");return t>0?t+" "+this.$q.lang.vui.notifications.days:(t=ve.date.getDateDiff(Date.now(),e,"hours"),t>0?t+" "+this.$q.lang.vui.notifications.hours:(t=ve.date.getDateDiff(Date.now(),e,"minutes"),t>0?t+" "+this.$q.lang.vui.notifications.minutes:(t=ve.date.getDateDiff(Date.now(),e,"seconds"),t+" "+this.$q.lang.vui.notifications.seconds)))}},beforeDestroy:function(){clearInterval(this.timer)}},_e=window.Vue.toDisplayString,$e=window.Vue.createTextVNode,I=window.Vue.resolveComponent,D=window.Vue.withCtx,be=window.Vue.openBlock,Be=window.Vue.createBlock,Vn=window.Vue.createCommentVNode,Sn=window.Vue.renderList,kn=window.Vue.Fragment,qn=window.Vue.createElementBlock,M=window.Vue.createVNode;function Dn(e,t,n,a,s,o){const r=I("q-badge"),i=I("q-icon"),u=I("q-item-section"),l=I("q-item-label"),c=I("q-item"),p=I("q-list"),d=I("q-menu"),v=I("q-btn");return be(),Be(v,{round:"",dense:"",color:e.hasNew?"primary":"white",textColor:e.hasNew?"white":"primary",icon:e.count>0?n.icon:n.iconNone,class:"on-left"},{default:D(()=>[e.count>0?(be(),Be(r,{key:0,color:"red","text-color":"white",floating:""},{default:D(()=>[$e(_e(e.count),1)]),_:1})):Vn("",!0),M(d,{class:"notifications"},{default:D(()=>[M(p,{style:{width:"300px"}},{default:D(()=>[(be(!0),qn(kn,null,Sn(e.list,m=>(be(),Be(c,{key:m.uuid,tag:"a",href:m.targetUrl},{default:D(()=>[M(u,{avatar:""},{default:D(()=>[M(i,{name:o.toIcon(m.type),size:"2rem"},null,8,["name"])]),_:2},1024),M(u,null,{default:D(()=>[M(l,null,{default:D(()=>[$e(_e(m.title),1)]),_:2},1024),M(l,{caption:"",lines:"3"},{default:D(()=>[$e(_e(m.content),1)]),_:2},1024)]),_:2},1024),M(u,{side:"",top:""},{default:D(()=>[M(l,{caption:""},{default:D(()=>[$e(_e(o.toDelay(new Date(m.creationDate))),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["href"]))),128))]),_:1})]),_:1})]),_:1},8,["color","textColor","icon"])}var xn=y(Cn,[["render",Dn]]);const Ge=window.Quasar,x=window.ol,En={props:{id:{type:String,required:!0},initialZoomLevel:{type:Number},initialCenter:{type:Object}},methods:{onMapLoad:function(e){var t=this;function n(){t.olMap?(e(t.olMap),t.postInit()):setTimeout(n,50)}n()},postInit(){this.$props.initialZoomLevel&&this.olMap.getView().setZoom(this.$props.initialZoomLevel)}},mounted:function(){var e=new x.View,t=new x.layer.Tile({preload:4,source:new x.source.OSM});this.olMap=new x.Map({interactions:x.interaction.defaults({onFocusOnly:!0}),target:this.$props.id,layers:[t],loadTilesWhileAnimating:!0,view:e}),this.$props.initialCenter&&this.olMap.getView().setCenter(x.proj.fromLonLat([this.$props.initialCenter.lon,this.$props.initialCenter.lat])),this.olMap.on("moveend",function(n){var a=n.map.getView().calculateExtent(),s=x.proj.transformExtent(a,"EPSG:3857","EPSG:4326"),o=x.extent.getTopLeft(s),r=x.extent.getBottomRight(s);Ge.debounce(this.$emit("moveend",o,r),300)}.bind(this)),setTimeout(function(){this.olMap.on("click",function(n){n.stopPropagation(),Ge.debounce(this.$emit("click",x.proj.transform(n.coordinate,"EPSG:3857","EPSG:4326")),300)}.bind(this))}.bind(this),300)}},Fn=window.Vue.toHandlers,Bn=window.Vue.renderSlot,Tn=window.Vue.openBlock,Mn=window.Vue.createElementBlock,Ln=["id"];function Pn(e,t,n,a,s,o){return Tn(),Mn("div",{id:n.id},[Bn(e.$slots,"default",Fn(e.$listeners))],8,Ln)}var An=y(En,[["render",Pn]]);const ye=window.Quasar,g=window.ol,Nn={props:{id:{type:String,required:!0},list:{type:Array},cluster:{type:Array},object:{type:Object},baseUrl:{type:String},field:{type:String,required:!0},nameField:{type:String},markerColor:{type:String,default:"#000000"},markerFont:{type:String,default:"Material Icons"},markerIcon:{type:String,default:"place"},markerSize:{type:Number,default:30},clusterCircleSize:{type:Number,default:20},clusterColor:{type:String,default:"#fff"},clusterCircleBorderColor:{type:String,default:"#000000"},clusterTextColor:{type:String,default:"#000000"},clusterTextSize:{type:Number,default:12},clusterTextFont:{type:String,default:"sans-serif"}},data:function(){return{popupDisplayed:!1,objectDisplayed:{},items:[],clusters:[],olMap:{},vectorSource:{},base32:"0123456789bcdefghjkmnpqrstuvwxyz"}},watch:{list:function(e){this.$data.items=e,this.$data.vectorSource.clear(),this.$data.vectorSource.addFeatures(this.features)},cluster:function(e){this.$data.items=[],this.$data.clusters=[];for(var t=0;t<e.length;t++)e[t].totalCount==1?this.$data.items=this.$data.items.concat(e[t].list):this.$data.clusters.push({geoHash:e[t].code,geoLocation:this.decode(e[t].code),totalCount:e[t].totalCount});this.$data.vectorSource.clear(),this.$data.vectorSource.addFeatures(this.features)},"object.geoLocation":function(){this.$data.vectorSource.clear(),this.$data.vectorSource.addFeatures(this.features)}},computed:{features:function(){var e=this.$props.field,t=this.$data.items.filter(function(a){return a[e]!=null}).map(function(a){var s;if(typeof a[e]=="string"||a[e]instanceof String?s=JSON.parse(a[e]):s=a[e],s!=null){var o=new g.Feature({geometry:new g.geom.Point(g.proj.fromLonLat([s.lon,s.lat]))});return this.$props.nameField&&(o.set("name",a[this.$props.nameField]),o.set("innerObject",a),o.set("totalCount",a.totalCount)),o}return null}.bind(this)),n=this.$data.clusters.filter(function(a){return a[e]!=null}).map(function(a){var s;if(typeof a[e]=="string"||a[e]instanceof String?s=JSON.parse(a[e]):s=a[e],s!=null){var o=new g.Feature({geometry:new g.geom.Point(g.proj.fromLonLat([s.lon,s.lat]))});return this.$props.nameField&&(o.set("name",a[this.$props.nameField]),o.set("innerObject",a),o.set("totalCount",a.totalCount)),o}return null}.bind(this));return t.concat(n)}},methods:{fetchList:function(e,t){this.$http.get(this.baseUrl+'_geoSearch?topLeft="'+e.lat+","+e.lon+'"&bottomRight="'+t.lat+","+t.lon+'"',{timeout:5*1e3}).then(function(n){this.$data.items=n.data,this.$data.vectorSource.clear(),this.$data.vectorSource.addFeatures(this.features)}.bind(this))},decode:function(e){const t=this.bounds(e),n=t.sw.lat,a=t.sw.lon,s=t.ne.lat,o=t.ne.lon;let r=(n+s)/2,i=(a+o)/2;return r=r.toFixed(Math.floor(2-Math.log(s-n)/Math.LN10)),i=i.toFixed(Math.floor(2-Math.log(o-a)/Math.LN10)),{lat:Number(r),lon:Number(i)}},bounds:function(e){if(e.length==0)throw new Error("Invalid geohash");e=e.toLowerCase();let t=!0,n=-90,a=90,s=-180,o=180;for(let i=0;i<e.length;i++){const u=e.charAt(i),l=this.$data.base32.indexOf(u);if(l==-1)throw new Error("Invalid geohash");for(let c=4;c>=0;c--){const p=l>>c&1;if(t){const d=(s+o)/2;p==1?s=d:o=d}else{const d=(n+a)/2;p==1?n=d:a=d}t=!t}}return{sw:{lat:n,lon:s},ne:{lat:a,lon:o}}}},mounted:function(){this.$parent.onMapLoad(function(e){if(this.$data.olMap=e,this.$data.items=[],this.$data.clusters=[],this.$props.list)this.$data.items=this.$props.list;else if(this.$props.cluster)for(var t=0;t<this.$props.cluster.length;t++)this.$props.cluster[t].totalCount==1?this.$data.items=this.$data.items.concat(this.$props.cluster[t].list):this.$data.clusters.push({geoHash:this.$props.cluster[t].code,geoLocation:this.decode(this.$props.cluster[t].code),totalCount:this.$props.cluster[t].totalCount});else this.$props.object&&(this.$data.items=[this.$props.object]);this.$data.vectorSource=new g.source.Vector({features:this.features});var n=new g.source.Cluster({source:this.$data.vectorSource,distance:2*this.$props.clusterCircleSize}),a=new g.layer.Vector({source:n}),s=new g.style.Style({text:new g.style.Text({font:this.$props.markerSize+"px "+this.$props.markerFont,text:this.$props.markerIcon,fill:new g.style.Fill({color:this.$props.markerColor}),offsetY:0})}),o={};if(a.setStyle(function(i){for(var u=0,l=i.get("features"),c=0;c<l.length;c++){var p=l[c].get("totalCount");u+=p||1}if(!u||u==1)return s;var d=o[u];return d||(d=new g.style.Style({image:new g.style.Circle({radius:this.$props.clusterCircleSize,stroke:new g.style.Stroke({color:this.$props.clusterCircleBorderColor}),fill:new g.style.Fill({color:this.$props.clusterColor})}),text:new g.style.Text({text:u.toString(),font:this.$props.clusterTextSize+"px "+this.$props.clusterTextFont,fill:new g.style.Fill({color:this.$props.clusterTextColor})})}),o[u]=d),d}.bind(this)),this.olMap.addLayer(a),this.features.length>0&&this.olMap.getView().fit(a.getSource().getSource().getExtent(),this.olMap.getSize()),this.olMap.on("moveend",function(i){var u=i.map.getView().calculateExtent(),l=g.proj.transformExtent(u,"EPSG:3857","EPSG:4326"),c=g.extent.getTopLeft(l),p=g.extent.getBottomRight(l);this.baseUrl&&ye.debounce(this.fetchList({lat:c[0],lon:c[1]},{lat:p[0],lon:p[1]}),300),ye.debounce(this.$emit("moveend",c,p),300)}.bind(this)),this.$props.nameField){var r=new g.Overlay({element:this.$el.querySelector("#"+this.$props.id+"Popup"),positioning:"bottom-center",stopEvent:!1,offset:[0,-20]});this.olMap.addOverlay(r),this.olMap.on("click",function(i){var u=this.olMap.forEachFeatureAtPixel(i.pixel,function(c){return c});if(u&&u.get("features").length==1){var l=u.getGeometry().getCoordinates();r.setPosition(l),this.$data.popupDisplayed=!0,this.$data.objectDisplayed=u.get("features")[0].get("innerObject"),i.stopPropagation(),ye.debounce(this.$emit("click",g.proj.transform(l,"EPSG:3857","EPSG:4326")),300)}else this.$data.popupDisplayed=!1}.bind(this)),this.olMap.on("pointermove",function(i){if(i.dragging){this.$data.popupDisplayed=!1;return}var u=this.olMap.getEventPixel(i.originalEvent),l=this.olMap.hasFeatureAtPixel(u);this.olMap.getTargetElement().style.cursor=l?"pointer":""}.bind(this))}else this.olMap.on("click",function(i){var u=this.olMap.forEachFeatureAtPixel(i.pixel,function(c){return c});if(u&&u.get("features").length==1){var l=u.getGeometry().getCoordinates();i.stopPropagation(),ye.debounce(this.$emit("click",g.proj.transform(l,"EPSG:3857","EPSG:4326")),300)}}.bind(this))}.bind(this))}},On=window.Vue.renderSlot,Un=window.Vue.toDisplayString,Xe=window.Vue.createElementVNode,In=window.Vue.resolveComponent,jn=window.Vue.withCtx,Ke=window.Vue.openBlock,zn=window.Vue.createBlock,Hn=window.Vue.createCommentVNode,Yn=window.Vue.createElementBlock,Rn=["id"],Jn=["id"],Qn={class:"text-subtitle2"};function Gn(e,t,n,a,s,o){const r=In("q-card");return Ke(),Yn("div",{id:n.id},[Xe("div",{id:n.id+"Popup"},[e.popupDisplayed?(Ke(),zn(r,{key:0,class:"q-px-md"},{default:jn(()=>[On(e.$slots,"card",{objectDisplayed:e.objectDisplayed},()=>[Xe("div",Qn,Un(e.objectDisplayed[n.nameField]),1)])]),_:3})):Hn("",!0)],8,Jn)],8,Rn)}var Xn=y(Nn,[["render",Gn]]);const Kn=window.Quasar,Wn={props:{value:{type:String,required:!0},list:{type:Array,required:!0},keyField:{type:String,required:!0},labelField:{type:String,required:!0},parentKeyField:{type:String,required:!0},subTreeKey:{type:String,required:!1}},data:function(){return{selectedNode:this.$props.value,expandedNodes:[this.$props.value]}},watch:{value:function(e){this.$data.selectedNode=e}},methods:{handleSelected:function(e){this.$emit("input",this.$data.selectedNode),e&&this.$refs.menu.hide()},handleExpanded:function(){Kn.debounce(this.$refs.menu.updatePosition,500)()},getSelectedLabel:function(){return this.$data.selectedNode?this.$props.list.find(function(t){return t[this.$props.keyField]===this.$data.selectedNode}.bind(this))[this.$props.labelField]:null},convertListToTree:function(e,t){var n={},a,s=[],o;for(o=0;o<e.length;o+=1)n[e[o][this.$props.keyField]]=o,e[o].children=[];for(o=0;o<e.length;o+=1)a=e[o],a[this.$props.parentKeyField]?e[n[a[this.$props.parentKeyField]]].children.push(a):s.push(a);return t?[e[n[t]]]:s}}},Ce=window.Vue.resolveComponent,Te=window.Vue.createVNode,Zn=window.Vue.toDisplayString,eo=window.Vue.createElementVNode,Ve=window.Vue.withCtx,to=window.Vue.normalizeProps,no=window.Vue.guardReactiveProps,oo=window.Vue.openBlock,ao=window.Vue.createBlock,so={class:"self-center full-width no-outline",tabindex:"0"};function io(e,t,n,a,s,o){const r=Ce("q-icon"),i=Ce("q-tree"),u=Ce("q-menu"),l=Ce("q-field");return oo(),ao(l,to(no(e.$attrs)),{append:Ve(()=>[Te(r,{name:"arrow_drop_down"})]),control:Ve(()=>[eo("div",so,Zn(o.getSelectedLabel()),1)]),default:Ve(()=>[Te(u,{breakpoint:600,fit:"",ref:"menu"},{default:Ve(()=>[Te(i,{nodes:o.convertListToTree(e.$props.list,e.$props.subTreeKey),"node-key":e.$props.keyField,"label-key":e.$props.labelField,expanded:e.expandedNodes,"onUpdate:expanded":o.handleExpanded,selected:e.selectedNode,"onUpdate:selected":o.handleSelected},null,8,["nodes","node-key","label-key","expanded","onUpdate:expanded","selected","onUpdate:selected"])]),_:1},512)]),_:1},16)}var ro=y(Wn,[["render",io]]);const R=window.Vue,lo=window.Quasar;var co={bind:function(e,t){const n=t.value.topOffset,a=t.value.topOffsetEl,s=t.value.leftOffset,o=t.value.leftOffsetEl,r=e.querySelector(".mini");for(var i=0;i<e.childNodes.length;i++){var u=e.childNodes[i];u.classList&&!u.classList.contains("mini")&&u.classList.add("not-mini")}R.minifyHandler=function(){var l=R.minifyComputeOffset(n,a,0,"TOP"),c=R.minifyComputeOffset(s,o,0,"LEFT"),p=r.getBoundingClientRect().height-l,d=e.getBoundingClientRect().height;window.pageYOffset>d-p?(r.classList.add("visible"),r.style.top=0,r.style.paddingTop=l+"px",r.style.paddingLeft=c+"px"):(r.classList.remove("visible"),r.style.top=-p-l+"px")},R.minifyComputeOffset=function(l,c,p,d){var v=p;if(l)v=l;else if(c){var m=document.querySelector(c);d==="LEFT"?v=m.getBoundingClientRect().width+m.getBoundingClientRect().x:d==="TOP"&&(v=m.getBoundingClientRect().height+m.getBoundingClientRect().y)}return v},window.addEventListener("scroll",R.minifyHandler),window.addEventListener("resize",lo.throttle(R.minifyHandler,50))},componentUpdated:function(){for(var n=50;n<1e3;n+=n)setTimeout(R.minifyHandler,n)},unbind:function(e){window.removeEventListener("scroll"),window.removeEventListener("resize");for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];n.classList&&n.classList.remove("not-mini")}}};const j=window.Vue,J=window.Quasar;var uo={bind:function(e,t){const n=t.value.debug?t.value.debug:!1,a=t.value.offset?t.value.offset:0,s=t.value.padding?t.value.padding:24,o=t.value.scanner?t.value.scanner:a+30,r=e.querySelectorAll("a");r[0].classList.add("active");const i=J.scroll.getScrollTarget(document.querySelector(r[0].hash));let u;n&&(u=document.createElement("HR"),u.style.position="absolute",u.style.top=o+"px",u.style.border="none",u.style.borderTop="red solid 1px",u.style.width="100%",u.style.zIndex="10000",document.querySelector("body").appendChild(u)),j.scrollSpyHandler=function(){window.pageYOffset>a?(e.style.top=a+s+"px",e.style.width=e.parentElement.getBoundingClientRect().width+"px",e.classList.add("fixed")):(e.classList.remove("fixed"),e.style.top=null,e.style.width=null);for(var c=J.scroll.getVerticalScrollPosition(i),p=j.computeBreakPoints(c),d=0;d<r.length;d++)p[d]<=c&&(d>=r.length-1||c<p[d+1])?r[d].classList.add("active"):r[d].classList.remove("active")},j.scrollTo=function(c){c.preventDefault();const p=c.target.hash,d=document.querySelector(p);for(var v=J.scroll.getVerticalScrollPosition(i)+d.getBoundingClientRect().top-o,m=J.scroll.getVerticalScrollPosition(i),f=j.computeBreakPoints(m),C=0;C<r.length;C++)if(r[C].hash==p){v=f[C];break}var ee=200;J.scroll.setVerticalScrollPosition(i,v,ee)},j.computeBreakPoints=function(c){var p=[];for(let h=0;h<r.length;h++){const te=r[h].hash,tt=document.querySelector(te);tt&&p.push(c+tt.getBoundingClientRect().top)}const d=window.innerHeight||document.documentElement.clientHeight,f=J.scroll.getScrollHeight(i)-d-d+o,C=p[p.length-1]-o-f,ee=d-o;var E=[];E.push(0);for(let h=1;h<r.length;h++){if(p[h]>f){const te=p[h]-f-o;E[h]=f+te/C*ee}else E[h]=p[h]-o;E[h]=Math.round(E[h])}return n&&(u.style.top=E[E.length-1]+"px"),E},e.classList.add("scroll-spy-nav");for(var l=0;l<r.length;l++)r[l].addEventListener("click",j.scrollTo);window.addEventListener("scroll",j.scrollSpyHandler),window.addEventListener("resize",J.throttle(j.scrollSpyHandler,50))},unbind:function(e){e.classList.remove("scroll-spy-nav"),window.removeEventListener("scroll"),window.removeEventListener("resize");const t=e.querySelectorAll("a");for(var n=0;n<t.length;n++)t.removeEventListener("click")}};function po(e,t){return new Date(e)-new Date(t)}function We(e){return Object.prototype.toString.call(e)==="[object Date]"}function Ze(e){return typeof e=="number"&&isFinite(e)}const w=window.Quasar;var et={onAjaxError:function(e){let t={type:"negative",message:"Network Error.",multiLine:!0,icon:"warning",timeout:2500};Object.prototype.hasOwnProperty.call(e,"message")&&(t.message=e.message),e.status===401?(t.message="UnAuthorized, you may login with an authorized account",this.$root.$emit("logout")):e.status===403?t.message="Forbidden, your havn&quote;t enought rights":e.status===404?t.message="API Route is Missing or Undefined":e.status===405?t.message="API Route Method Not Allowed":e.status===422?(t.message="",Object.keys(e.data).forEach(function(n){this.$data.uiMessageStack[n]=e.data[n]}.bind(this))):e.status>=500&&(t.message="Server Error"),e.statusText&&(t.message=e.statusText),Object.prototype.hasOwnProperty.call(e,"data")&&(Object.prototype.hasOwnProperty.call(e.data,"message")&&e.data.message&&e.data.message.length>0?t.message=e.data.message:Object.prototype.hasOwnProperty.call(e.data,"globalErrors")&&e.data.globalErrors&&e.data.globalErrors.length>0&&(t.message=e.data.globalErrors.join(`<br/>
 `))),t.message.length>0&&this.$q.notify(t)},getSafeValue:function(e,t,n){return this.$data.vueData[e]&&this.$data.vueData[e][t]?this.$data.vueData[e][t][n]:null},transformListForSelection:function(e,t,n){return this.$data.vueData[e].map(function(a){return{value:a[t],label:a[n].toString()}})},paginationAndSortHandler:function(e){var t=e.pagination;let n=this.$data.componentStates,a=this.$data.vueData;var s=n[t.componentId].pagination;(s.sortBy!=t.sortBy||s.descending!=t.descending)&&t.sortBy&&(t.sortUrl?(t.page=1,this.$http.post(t.sortUrl,this.objectToFormData({sortFieldName:t.sortBy,sortDesc:t.descending,CTX:this.$data.vueData.CTX})).then(function(o){a[t.listKey]=o.data.model[t.listKey],this.$data.vueData.CTX=o.data.model.CTX}.bind(this))):this.$refs[t.componentId].sortMethod.apply(this.$refs[t.componentId],[a[t.listKey],t.sortBy,t.descending])),n[t.componentId].pagination=t},paginatedData:function(e,t){var a=this.$data.componentStates[t].pagination;if(a.rowsPerPage!=0){var s=(a.page-1)*a.rowsPerPage,o=a.page*a.rowsPerPage;return this.$data.vueData[e].slice(s,o)}return this.$data.vueData[e]},sortCiAi:function(e,t,n){const a=this.colList.find(i=>i.name===t);if(a===void 0||a.field===void 0)return e;const s=n===!0?-1:1,o=typeof a.field=="function"?i=>a.field(i):i=>i[a.field],r=new Intl.Collator;return e.sort((i,u)=>{let l=o(i),c=o(u);return l==null?-1*s:c==null?1*s:a.sort!==void 0?a.sort(l,c,i,u)*s:Ze(l)===!0&&Ze(c)===!0?(l-c)*s:We(l)===!0&&We(c)===!0?po(l,c)*s:typeof l=="boolean"&&typeof c=="boolean"?(l-c)*s:([l,c]=[l,c].map(p=>(p+"").toLocaleString()),r.compare(l,c)*s)})},selectedFunction:function(e,t,n){this.$data.vueData[e][t]=n.value},searchAutocomplete:function(e,t,n,a,s,o,r,i){if(o.length<2){i();return}this.$http.post(s,this.objectToFormData({terms:o,list:e,valueField:t,labelField:n,CTX:this.$data.vueData.CTX})).then(function(u){var l=u.data.map(function(c){return{value:c[t],label:c[n].toString()}});r(function(){this.$data.componentStates[a].options=l}.bind(this))}.bind(this)).catch(function(u){this.$q.notify(u.response.status+":"+u.response.statusText),r([])})},loadAutocompleteById:function(e,t,n,a,s,o,r){!this.$data.vueData[o][r]||this.$data.componentStates[a].options.filter(function(i){return i.value===this.$data.vueData[o][r]}.bind(this)).length>0||(this.$data.componentStates[a].loading=!0,this.$data.componentStates[a].options.push({value:this.$data.vueData[o][r],label:""}),this.$http.post(s,this.objectToFormData({value:this.$data.vueData[o][r],list:e,valueField:t,labelField:n,CTX:this.$data.vueData.CTX})).then(function(i){var u=i.data.map(function(l){return{value:l[t],label:l[n].toString()}});this.$data.componentStates[a].options.pop(),this.$data.componentStates[a].options=this.$data.componentStates[a].options.concat(u)}.bind(this)).catch(function(i){this.$data.componentStates[a].options.pop(),this.$q.notify(i.response.status+":"+i.response.statusText)}.bind(this)).then(function(){this.$data.componentStates[a].loading=!1}.bind(this)))},decodeDate:function(e,t){return e===w.date.formatDate(w.date.extractDate(e,"DD/MM/YYYY"),"DD/MM/YYYY")?w.date.formatDate(w.date.extractDate(e,"DD/MM/YYYY"),t):e},encodeDate:function(e,t){return e===w.date.formatDate(w.date.extractDate(e,t),t)?w.date.formatDate(w.date.extractDate(e,t),"DD/MM/YYYY"):e},decodeDatetime:function(e,t){return e===w.date.formatDate(w.date.extractDate(e,"DD/MM/YYYY HH:mm"),"DD/MM/YYYY HH:mm")?w.date.formatDate(w.date.extractDate(e,"DD/MM/YYYY HH:mm"),t):e},encodeDatetime:function(e,t){return e===w.date.formatDate(w.date.extractDate(e,t),t)?w.date.formatDate(w.date.extractDate(e,t),"DD/MM/YYYY HH:mm"):e},sortDatesAsString:function(e){return function(t,n){return w.date.extractDate(t,e).getTime()>w.date.extractDate(n,e).getTime()?1:-1}},goTo:function(e){window.location=e},openModal:function(e,t,n){if(t){var a=t;if(n&&Object.keys(n).length>0){var s=Object.keys(n).map(function(o){return o+"="+n[o]}).join("&");a=a+"?"+s}this.$data.componentStates[e].srcUrl=a}this.$data.componentStates[e].opened=!0},toogleFacet:function(e,t,n){let a=this.$data.vueData;var s=!1;a[n+"_facets"].forEach(function(r){r.code===e&&(s=r.multiple)});var o=a[n+"_selectedFacets"][e];o?o.includes(t)?s?o.splice(o.indexOf(t),1):o.splice(0):o.push(t):a[n+"_selectedFacets"][e]=[t],this.search(n)},search:w.debounce(function(e){let t=this.$data.componentStates,n=this.$data.vueData;var a=e+"_selectedFacets",s=n[e+"_criteriaContextKey"],o=this.vueDataParams([s]);o.append(a,JSON.stringify(n[a]));var r=t[e+"Search"].searchUrl,i=t[e+"Search"].collectionComponentId;if(t[i].pagination&&t[i].pagination.sortBy){var u=t[i].pagination;o.append("sortFieldName",u.sortBy),o.append("sortDesc",u.descending)}this.httpPostAjax(r,o,{onSuccess:function(l){if(t[i].pagination){var c=t[i].pagination;c.page=1,c.rowsNumber=l.data.model[e+"_list"].length}}})},400),showMore:function(e){let t=this.$data.componentStates;var n=t[e].pagination.showMoreCount;n||(n=1,t[e].pagination.showMoreCount=n),t[e].pagination.rowsPerPage=t[e].pagination.rowsPerPage/n*(n+1)},vueDataToArray(e){return Array.isArray(e)?e:e?[e]:[]},obtainVueDataAccessor(e,t,n,a){return n!=null&&n!="null"?a!=null?{get:function(){return e.$data.vueData[t][a][n]},set:function(s){e.$data.vueData[t][a][n]=s}}:{get:function(){return e.$data.vueData[t][n]},set:function(s){e.$data.vueData[t][n]=s}}:{get:function(){return e.$data.vueData[t]},set:function(s){e.$data.vueData[t]=s}}},uploader_changeIcon(){this.$q.iconSet.uploader.removeUploaded="delete_sweep",this.$q.iconSet.uploader.done="delete"},uploader_mounted(e,t,n,a){this.uploader_changeIcon();var s=this.$refs[e];s.vueDataAccessor=this.obtainVueDataAccessor(this,t,n,a);var o=s.vueDataAccessor,r=o.get();Array.isArray(r)||o.set(this.vueDataToArray(r)),o.set(o.get().filter(function(i,u,l){return l.indexOf(i)==u})),o.get().forEach(function(i){var u={};u[s.fieldName]=i,this.$http.get(s.url,{params:u,credentials:s.withCredentials}).then(function(l){var c=l.data;s.files.some(p=>p.name===c.name)?console.warn("Component doesn't support duplicate file ",c):(c.__sizeLabel=w.format.humanStorageSize(c.size),c.__progressLabel="100%",s.files.push(c),s.uploadedFiles.push(c),this.uploader_forceComputeUploadedSize(e))}.bind(this)).catch(function(l){l.response?this.$q.notify(l.response.status+":"+l.response.statusText+" Can't load file "+i):this.$q.notify(l+" Can't load file "+i)}.bind(this))}.bind(this))},uploader_dragenter(e){let t=this.$data.componentStates;t[e].dragover=!0},uploader_dragleave(e){let t=this.$data.componentStates;t[e].dragover=!1},uploader_drop(e,t){var n=this.$refs[t];n.addFiles(e.dataTransfer.files)},uploader_forceComputeUploadedSize:function(e){var t=this.$refs[e];t.uploadedSize=0,t.uploadedFiles.forEach(function(n){t.uploadedSize+=n.size}),t.uploadSize=t.uploadedSize,t.queuedFiles.forEach(function(n){t.uploadSize+=n.size})},uploader_humanStorageSize:function(e){return w.format.humanStorageSize(e)},uploader_addedFile:function(e,t){if(!e){var n=this.$refs[t],a=n.vueDataAccessor;n.removeUploadedFiles(),a.set([])}},uploader_uploadedFiles:function(e,t){var n=this.$refs[t],a=n.vueDataAccessor;e.files.forEach(function(s){s.fileUri=s.xhr.response,a.get().push(s.fileUri)}.bind(this))},uploader_failedFiles:function(e){e.files.forEach(function(t){this.onAjaxError({status:t.xhr.status,statusText:t.xhr.statusText,data:JSON.parse(t.xhr.response)})}.bind(this))},uploader_removeFiles:function(e,t){var n=this.$refs[t],a=n.vueDataAccessor,s=a.get();e.forEach(function(o){if(o.fileUri){var r=s.indexOf(o.fileUri),i={};i[n.fieldName]=o.fileUri,this.$http.delete(n.url,{params:i,credentials:n.withCredentials}).then(function(){n.multiple?s.splice(r,1):s.splice(0),this.uploader_forceComputeUploadedSize(t)}.bind(this)).catch(function(u){this.$q.notify(u.response.status+":"+u.response.statusText+" Can't remove temporary file")}.bind(this))}}.bind(this))},httpPostAjax:function(e,t,n){let a=this.$data.vueData,s=this.$data.uiMessageStack,o=this.isFormData(t)?t:this.objectToFormData(t);o.append("CTX",a.CTX),this.$http.post(e,o).then(function(r){r.data.model.CTX&&(a.CTX=r.data.model.CTX),Object.keys(r.data.model).forEach(function(i){i!="CTX"&&(a[i]=r.data.model[i])}),Object.keys(r.data.uiMessageStack).forEach(function(i){s[i]=r.data.uiMessageStack[i]}),n&&n.onSuccess&&n.onSuccess.call(this,r)}.bind(this)).catch(function(r){n&&n.onError&&n.onError.call(this,r.response)})},hasFieldsError:function(e,t,n){const a=this.$data.uiMessageStack.objectFieldErrors;if(a){var s=n!=null?e+"["+n+"]":e;return Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&Object.prototype.hasOwnProperty.call(a[s],t)&&a[s][t].length>0}return!1},getErrorMessage:function(e,t,n){const a=this.$data.uiMessageStack.objectFieldErrors;if(a){var s=n!=null?e+"["+n+"]":e;if(Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&Object.prototype.hasOwnProperty.call(a[s],t))return a[s][t].join(", ")}else return""},vueDataParams:function(e){for(var t=new FormData,n=0;n<e.length;n++){var a=e[n],s=this.$data.vueData[a];s&&typeof s=="object"&&Array.isArray(s)===!1?Object.keys(s).forEach(function(o){o.startsWith("_")||(Array.isArray(s[o])?s[o].forEach(function(r,i){s[o][i]&&typeof s[o][i]=="object"?this.appendToFormData(t,"vContext["+a+"]["+o+"]",s[o][i]._v_inputValue):this.appendToFormData(t,"vContext["+a+"]["+o+"]",s[o][i])}.bind(this)):s[o]&&typeof s[o]=="object"?this.appendToFormData(t,"vContext["+a+"]["+o+"]",s[o]._v_inputValue):this.appendToFormData(t,"vContext["+a+"]["+o+"]",s[o]))}.bind(this)):this.appendToFormData(t,"vContext["+a+"]",s)}return t},objectToFormData:function(e){const t=new FormData;return Object.keys(e).forEach(function(n){this.appendToFormData(t,n,e[n])}.bind(this)),t},appendToFormData:function(e,t,n){n!=null?e.append(t,n):e.append(t,"")},isFormData:function(e){return typeof FormData!="undefined"&&e instanceof FormData}},mo={comments:{title:"Comments",inputLabel:"Insert here a comment",actionlabel:"Publish",cancel:"Cancel",save:"Save"},chatbot:{errorMessage:"An error occured sending the message",tryAgain:"Try again",suggestedAnswers:"Suggested answers",inputPlaceHolder:"Enter here a message",restartMessage:"Conversation is restarting"},facets:{showAll:"Show all",showLess:"Show less"},notifications:{days:"days",hours:"hours",minutes:"min",seconds:"s"},commands:{globalPlaceholder:"Type / to show all available commands",executeCommand:"Press Enter to execute command",linkLabel:"Show details"},uploader:{clear_all:"Clear All",removeUploaded:"Remove Uploaded Files",remove:"Remove",add:"Pick Files",upload:"Upload Files",clear:"Abort Upload"},handles:{placeholder:"Enter a handle : format is type/code"}},ho={comments:{title:"Commentaires",inputLabel:"Ins\xE9rer un commentaire ici",actionlabel:"Publier",cancel:"Annuler",save:"Sauver"},chatbot:{errorMessage:"Une erreur est survenue lors de l'envoi du message",tryAgain:"Essayez de nouveau",suggestedAnswers:"R\xE9ponses sugg\xE9r\xE9es",inputPlaceHolder:"Ecrire un message",restartMessage:"Red\xE9marrage de la conversation"},facets:{showAll:"Voir plus",showLess:"Voir moins"},notifications:{days:"jours",hours:"heures",minutes:"min",seconds:"s"},commands:{globalPlaceholder:"Taper / pour afficher les commandes disponibles",executeCommand:"Appuyer sur entr\xE9e pour executer la commande",linkLabel:"Voir les d\xE9tails"},uploader:{clear_all:"Annuler tous",removeUploaded:"Supprimer tous",remove:"Supprimer",add:"Ajouter un fichier",upload:"Envoyer",clear:"Annuler"},handles:{placeholder:"Entrer un handle de la forme type/code"}},Me={getBoundMethods:function(e,t){let n={};return Object.keys(t).forEach(a=>n[a]=t[a].bind(e)),n},install:function(e,t){if(e.component("v-chatbot",ht),e.component("v-commands",St),e.component("v-comments",Bt),e.component("v-extensions-store",zt),e.component("v-facets",Qt),e.component("v-geopoint-input",tn),e.component("v-handles",pn),e.component("v-json-editor",yn),e.component("v-notifications",xn),e.component("v-map",An),e.component("v-map-layer",Xn),e.component("v-tree",ro),e.directive("minify",co),e.directive("scroll-spy",uo),!t.axios){console.error("You have to install axios");return}e.axios=t.axios,e.$http=t.axios,Object.defineProperties(e.config.globalProperties,{axios:{get(){return t.axios}},$http:{get(){return t.axios}},$vui:{get(){return Me.getBoundMethods(this,et)}}})},methods:et,initData:function(e,t){e.vueData=t.vueData,e.componentStates=t.componentStates,e.uiMessageStack=t.uiMessageStack,e.vuiLang=t.vuiLang},lang:{enUS:mo,fr:ho}};return window&&(window.VertigoUi=Me),Me});
