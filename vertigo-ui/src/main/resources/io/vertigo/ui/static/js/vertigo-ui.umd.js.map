{"version":3,"file":"vertigo-ui.umd.js","sources":["../src/components/VChatbot.vue","../src/components/VCommands.vue","../src/components/VComments.vue","../src/components/VExtensionsStore.vue","../src/components/VFacets.vue","../src/components/VGeopointInput.vue","../src/components/VHandles.vue","../src/components/VJsonEditor.vue","../src/components/VNotifications.vue","../src/components/VMap.vue","../src/components/VMapLayer.vue","../src/components/VTree.vue","../src/components/VFileUpload.vue","../node_modules/d3-color/src/define.js","../node_modules/d3-color/src/color.js","../node_modules/d3-interpolate/src/constant.js","../node_modules/d3-interpolate/src/color.js","../node_modules/d3-interpolate/src/rgb.js","../node_modules/d3-interpolate/src/hsl.js","../src/components/dashboard/dashboard-tools.js","../src/components/dashboard/VDashboardChart.vue","../src/directives/VAlertUnsavedUpdates.js","../src/directives/VAutofocus.js","../src/directives/VIfUnsavedUpdates.js","../src/directives/VMinify.js","../src/directives/VScrollSpy.js","../node_modules/quasar/src/utils/private/sort.js","../node_modules/quasar/src/utils/is.js","../src/methods.js","../src/main.js","../src/lang/vertigo-ui-lang-en-us.js","../src/lang/vertigo-ui-lang-fr.js"],"sourcesContent":["<template>\n    <div class=\"bot\">\n        <q-scroll-area class=\"bg-grey-2 col-grow row q-pa-sm\" ref=\"scroller\">\n            <div class=\"q-pr-md\">\n                <div v-for=\"(msg, index) in messages\" :key=\"index\">\n                    <q-chat-message v-if=\"msg.rating\" class= \"animate-fade\" :key=\"'msgRating-'+index\" :sent=\"msg.sent\" :bg-color= \"msg.bgColor\" :avatar = \"msg.avatar\" >\n                        <q-rating v-model=\"msg.rating\" :max=\"5\" style=\"font-size: 2rem;\" readonly ></q-rating>\n                    </q-chat-message>\n                    <q-chat-message v-if=\"msg.text\" class=\"animate-fade\" :key=\"'msg-'+index\" :label=\"msg.label\" :sent=\"msg.sent\" :text-color=\"msg.textColor\"\n                        :bg-color=\"msg.bgColor\" :name=\"msg.name\" :avatar=\"msg.avatar\" :text=\"msg.text\" :stamp=\"msg.stamp\" ></q-chat-message>\n                </div>\n                <div class=\"sys-chat\">\n                    <q-chat-message v-if=\"error\" class=\"animate-fade\" bg-color=\"orange-4\" text-color=\"black\" size=\"12\" >\n                        <div class=\"q-pb-sm\">\n                            {{$q.lang.vui.chatbot.errorMessage}}\n                        </div>\n                        <q-btn class=\"full-width\" @click=\"askBot(lastPayload)\" :label=\"$q.lang.vui.chatbot.tryAgain\" color=\"white\" text-color=\"black\" ></q-btn>\n                    </q-chat-message>\n                </div>\n                <div class=\"sys-chat non-selectable\">\n                    <q-chat-message v-if=\"inputConfig.buttons.length > 0\" class=\"animate-fade\" bg-color=\"primary\" size=\"12\">\n                        <div class=\"text-blue-2 q-caption\">\n                            {{$q.lang.vui.suggestedAnswers}}\n                        </div>\n                        <div class=\"row docs-btn\">\n                            <q-btn v-for=\"(btn, index) in inputConfig.buttons\" class=\"full-width\" :key=\"'repChatBtn-'+index\" @click=\"postAnswerBtn(btn)\" :label=\"btn.title\" color=\"white\" text-color=\"black\" ></q-btn>\n                        </div>\n                    </q-chat-message>\n                </div>\n                <div class=\"message-processing sys-chat non-selectable\" >\n                    <q-chat-message v-if=\"processing\" class=\"animate-fade\" bg-color=\"grey-4\">\n                        <q-spinner-dots size=\"2em\"></q-spinner-dots>\n                    </q-chat-message>\n                </div>\n                <div class=\"non-selectable\">\n                    <q-chat-message v-if=\"inputConfig.showRating\" class=\"animate-fade\" bg-color=\"primary\" sent >\n                        <q-rating v-model=\"rating\" :max=\"4\" style=\"font-size: 2rem;\" ></q-rating>\n                    </q-chat-message>\n                </div>\n            </div>\n        </q-scroll-area>\n        <div class=\"message-response row docs-btn q-pl-sm non-selectable\">\n            <q-input :type=\"inputConfig.modeTextarea ? 'textarea' : 'text'\"\n                     ref=\"input\"\n                     @keyup.enter=\"inputConfig.modeTextarea ? false : (inputConfig.responseText.trim() === '' && inputConfig.rating === 0) ? false : postAnswerText()\"\n                     :max-height=\"100\"\n                     class=\"col-grow\"\n                     v-model=\"inputConfig.responseText\"\n                     :placeholder=\"$q.lang.vui.chatbot.inputPlaceholder\"\n                     :disable=\"processing || error\"\n                     :loading=\"processing\"></q-input>\n        \n            <q-btn round color=\"primary\" icon=\"send\" @click=\"postAnswerText()\" :disable=\"processing || (inputConfig.responseText.trim() === '' && inputConfig.rating === 0)\"></q-btn>\n            <q-btn round color=\"red\" icon=\"refresh\" @click=\"restart\" v-if=\"devMode === true\"></q-btn>\n        </div>\n    </div>\n</template>\n<script>\nexport default {\n    props : {\n            botUrl : { type: String, required:true },\n            devMode: { type: Boolean, 'default': false },\n            minTimeBetweenMessages: { type: Number, 'default': 1000 },\n            botAvatar: { type: String, required:true },\n            botName: { type: String, required:true }\n    },\n    data: function () {\n        return {\n            // config\n            convId: 42,\n            // technique\n            inputConfig: {\n                modeTextarea : false, // TODO, il exste d'autres modes, par ex email\n                responseText: \"\",\n                responsePattern : \"\",\n                showRating : false,\n                rating: 0,\n                buttons: [],\n            },\n            prevInputConfig: {},\n            lastPayload: null,\n            processing: false,\n            error: false,\n            messages: [],\n            keepAction: false,\n            menu: false,\n            lastUserInteraction: 0,\n            watingMessagesStack: []\n        }\n    },\n    created : function () {\n        this.askBot('/start'); // lancement de la phrase d'accueil\n        this.convId = Math.random();\n        \n    },\n    methods: {\n        postAnswerBtn: function (btn) {\n            this.messages.push({\n                text: [btn.title],\n                sent: true,\n                bgColor: \"primary\",\n                textColor: \"white\"\n            });\n\n            this._scrollToBottom();\n            \n            this.askBot(btn.payload);\n        },\n        postAnswerText: function () {\n            var sanitizedString = this.inputConfig.responseText.trim().replace(/(?:\\r\\n|\\r|\\n)/g, '<br>');\n            \n            this.messages.push({\n                text: sanitizedString !== '' ? [sanitizedString] : null,\n                rating: this.inputConfig.rating > 0 ? this.inputConfig.rating : null,\n                sent: true,\n                bgColor: \"primary\",\n                textColor: \"white\"\n            });\n\n            this._scrollToBottom();\n            \n            var response = this.inputConfig.responsePattern === \"\" ? sanitizedString.replace(/(\")/g, \"\\\"\")\n                                                            : this.inputConfig.responsePattern.replace(\"#\", sanitizedString.replace(/(\")/g, \"\\\\\\\"\"));\n            \n            this.askBot(response);\n        },\n        _scrollToBottom: function () {\n            if (this.$refs.scroller) {\n                this.$refs.scroller.setScrollPosition(this.$refs.scroller.scrollHeight, 400);\n            }\n        },\n        askBot: function (value) {\n            this.prevInputConfig = JSON.parse(JSON.stringify(this.inputConfig));\n            this.reinitInput();\n            this.lastPayload = value;\n            this.processing = true;\n            \n            this.lastUserInteraction = Date.now();\n            \n            this.$http.post(this.botUrl, {sender: this.convId, message: value})\n                .then(function(httpResponse) {\n                    // success\n                    httpResponse.data.forEach(function(value) {\n                        this.watingMessagesStack.push(value);\n                    }, this);\n                    \n                    this._displayMessages();\n                }.bind(this))\n                .catch(\n                function() {\n                    // error\n                    this.error = true;\n                    \n                    this.processing = false;\n                    this._scrollToBottom();\n                }.bind(this));\n                \n        },\n        _displayMessages: function () {\n            if (this.watingMessagesStack.length > 0) {\n                var currentMessage = this.watingMessagesStack.shift();\n                var watingTime = this.lastUserInteraction - Date.now() + this.minTimeBetweenMessages;\n                \n                this.sleep(watingTime).then(function() {\n                    this._processResponse(currentMessage);\n                    this.lastUserInteraction = Date.now();\n                    this._displayMessages();\n                }.bind(this));\n            } else {\n                this.processing = false;\n                if (this.keepAction) {\n                    this.inputConfig = this.prevInputConfig;\n                    this.inputConfig.responseText = \"\";\n                    this.keepAction = false;\n                }\n                \n                this.sleep(1).then(function() { // en différé le temps que la vue soit mise à jour\n                    this.$refs.input.focus();\n                }.bind(this));\n            }\n        },\n        _processResponse: function (response) {\n        var lastMsg = this.messages[this.messages.length-1];\n            if (lastMsg && !lastMsg.sent) {\n                // ajoute un message à un précédent message du bot\n                lastMsg.text.push(response.text);\n            } else {\n                // première réponse du bot\n                this.messages.push({\n                    avatar: this.botAvatar,\n                    text: [response.text],\n                    bgColor: \"grey-4\"\n                });\n            }\n            \n            if (response.buttons) {\n                response.buttons.forEach(function(value) {\n                    if (value.title.startsWith(\"#\")) {\n                        var cmd = value.title.substring(1);\n                        if (cmd === \"textarea\") this.inputConfig.modeTextarea = true;\n                        if (cmd === \"eval\") this.inputConfig.showRating = true;\n                        if (cmd === \"keep_action\") this.keepAction = true;\n                        if (value.payload) this.inputConfig.responsePattern = value.payload;\n                    } else {\n                        this.inputConfig.buttons.push(value);\n                    }\n                }, this);\n            }\n            \n            this._scrollToBottom();\n        },\n        restart: function () {\n            this.messages.push({\n                text: [this.$q.lang.vui.chatbot.restartMessage],\n                bgColor: \"orange\"\n            });\n            this._scrollToBottom();\n            \n            this.$http.post(this.botUrl, '{\"sender\":\"' + this.convId + '\",\"message\":\"/restart\"}')\n            .then(function() {\n                this.askBot(\"/start\"); // lancement de la phrase d'accueil\n            }.bind(this));\n        },\n        reinitInput: function () {\n            this.inputConfig.modeTextarea = false;\n            this.inputConfig.responsePattern = \"\";\n            this.inputConfig.responseText = \"\";\n            this.inputConfig.showRating = false;\n            this.inputConfig.rating = 0;\n            this.inputConfig.buttons = [];\n            this.error = false;\n        },\n        sleep : function(milliseconds) {\n            return new Promise(function(resolve) {setTimeout(resolve, milliseconds)});\n        }\n    }\n}\n</script>","<template>\r\n    <div>\r\n        <q-select v-if=\"!isCommandCommited\" :placeholder=\"$q.lang.vui.commands.globalPlaceholder\" outlined bg-color=\"white\" dense ref=\"commandInput\" autofocus dropdown-icon=\"search\" @blur=\"reset\"\r\n                use-input input-debounce=\"300\" hide-selected  v-on:keydown=\"commitCommand\"\r\n                :options=\"commandAutocompleteOptions\" @filter=\"searchCommands\" @update:model-value=\"selectCommand\">\r\n            <span v-if=\"text !== '' && selectedCommand.commandName && selectedCommand.commandName.startsWith(text)\" style=\"z-index= -1; line-height: 40px; opacity:0.5; position:fixed;\">{{selectedCommand.commandName}}</span>\r\n        </q-select>\r\n        <div v-else class=\"row col-12 justify-between bg-white round-borders overflow-hidden shadow-2 text-black\" v-on:keyup.enter=\"executeCommand\">\r\n            <div class=\"bg-grey-4 text-center vertical-middle text-bold q-px-md\" style=\"line-height: 40px;\">{{selectedCommand.commandName}}</div>\r\n            <div v-if=\"!isExecuted\" class=\"row col items-center q-py-xs\">\r\n                <template v-if=\"selectedCommand.commandParams && selectedCommand.commandParams.length > 0\" >\r\n                    <template v-for=\"(param, index) in selectedCommand.commandParams\" :key=\"param\" >\r\n                        <template v-if=\"param.paramType.rawType === 'io.vertigo.commons.command.GenericUID'\">\r\n                            <q-select class=\"col q-px-xs\" use-chips bg-color=\"white\" dense borderless use-input input-debounce=\"300\" :value=\"getParamValue(index)\" :options=\"paramsAutocompleteOptions[index]\" :autofocus=\"index === 0\" dropdown-icon=\"search\" \r\n                                  v-on:keydown.delete=\"function(event) {backIfNeeded(event, index === 0)}\" v-on:keyup.esc=\"function(event) {backIfNeeded(event, index === 0)}\"   \r\n                                  @filter=\"autocompleteParam(param, index, val, update, abort)\" @update:model-value=\"selectParam(newValue, index)\" style=\"height:32px;\">\r\n                            </q-select>\r\n                        </template>\r\n                        <template v-else>\r\n                            <q-input class=\"col q-px-xs\" color=\"secondary\" borderless v-model=\"commandParamsValues[index].value\" @keydown.delete=\"backIfNeeded(event, index === 0)\" @keyup.esc=\"backIfNeeded(event, index === 0)\" :autofocus=\"index === 0\" @keyup.enter=\"handleEnter(index)\" dense style=\"height:32px;\">\r\n                            </q-input>\r\n                        </template>\r\n                        <q-separator vertical></q-separator>\r\n                    </template>\r\n                </template>\r\n                <div class=\"col\" v-else>{{$q.lang.vui.commands.executeCommand}}</div>\r\n                <q-btn @click=\"executeCommand\" flat icon=\"play_arrow\" size=\"sm\" round></q-btn>\r\n            </div>\r\n            <div v-else class=\"row col items-center\" >\r\n                <div class=\"col shadow-2 bg-secondary text-white q-px-md\" style=\"line-height: 40px;\">{{commandResult.display}}</div>\r\n                <q-btn v-if=\"commandResult.targetUrl\" type=\"a\" :href=\"baseUrl + commandResult.targetUrl\" flat  >{{$q.lang.vui.commands.linkLabel}}</q-btn>\r\n                <q-btn @click=\"reset\" flat icon=\"cancel\" size=\"sm\" round></q-btn>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    data: function() {\r\n        return {\r\n            text: \"\",\r\n            commandParamsValues: [],\r\n            commands : [],\r\n            commandAutocompleteOptions : [],\r\n            isCommandCommited: false,\r\n            selectedCommand: {},\r\n            isExecuted: false,\r\n            commandResult : {},\r\n            paramsAutocompleteOptions: []\r\n        }\r\n    },\r\n    props : {\r\n        baseUrl : { type: String, 'default': '/' },\r\n    },\r\n    methods : {\r\n        searchCommands : function(val, update, abort) {\r\n            this.$data.text = val;\r\n            this.$data.selectedCommand = {};\r\n            if (val.length < 1) {\r\n                abort();\r\n                return;\r\n            }\r\n            this.$http.post(this.baseUrl+'api/vertigo/commands/_search', {prefix: val} )\r\n                .then( function (response) { //Ok\r\n                    this.$data.commands = response.data;\r\n                    update(function() {\r\n                        this.$data.commandAutocompleteOptions = this.$data.commands.map(function(command) {\r\n                             return {\r\n                                 label: command.commandName,\r\n                                 sublabel: command.descpription,\r\n                                 value: command.commandName,\r\n                                 command : command\r\n                             }\r\n                        });\r\n                    }.bind(this));\r\n                    if (this.$data.commands.length > 0) {\r\n                        this.chooseCommand(this.$data.commands[0], false);\r\n                    }\r\n                }.bind(this));\r\n            \r\n        },\r\n        selectCommand : function (selection) {\r\n            this.chooseCommand(selection.command, true);\r\n        },\r\n        chooseCommand: function (command, commitCommand) {\r\n            this.$data.selectedCommand = command;\r\n            if (this.$data.selectedCommand.commandParams) {\r\n                // if we have params\r\n                this.$data.commandParamsValues = this.$data.selectedCommand.commandParams.map(function()  {\r\n                    // we prepare params\r\n                    return {\r\n                        value:\"\"\r\n                    };  \r\n                });\r\n            } else {\r\n                this.$data.commandParamsValues = [];\r\n            }\r\n            this.$data.isCommandCommited = commitCommand;\r\n        },\r\n        commitCommand : function(keyEvent) {\r\n            if (this.$data.selectedCommand && this.$data.selectedCommand.commandName) {\r\n                switch(keyEvent.keyCode) {\r\n                    case 9:\r\n                    case 13:\r\n                        this.$data.isCommandCommited = true;\r\n                        keyEvent.preventDefault();\r\n                }\r\n            }\r\n        },\r\n        executeCommand : function() {\r\n            if (this.$data.commandParamsValues.every(function(paramValue){ return paramValue;})) {\r\n                var actualParams = this.$data.commandParamsValues.map(function (param) {\r\n                    return param.value;\r\n                });\r\n                \r\n                this.$http.post(this.baseUrl+'api/vertigo/commands/_execute', {command: this.$data.selectedCommand.commandName, params: actualParams} )\r\n                    .then( function (response) { //Ok\r\n                        this.$data.isExecuted = true;\r\n                        this.$data.commandResult = response.data;\r\n                    }.bind(this));\r\n            } else {\r\n                return false;\r\n            }\r\n            \r\n        },\r\n        handleEnter: function (index) {\r\n            if (index === this.$data.selectedCommand.commandParams.length - 1 && this.$data.commandParamsValues[index].value) {\r\n                this.executeCommand();\r\n            }\r\n            // otherwise nothing particular\r\n        },\r\n        autocompleteParam : function(param, index, val, update, abort) {\r\n            if (val.length < 1) {\r\n                abort();\r\n                return;\r\n            }\r\n            this.$http.get(this.baseUrl+'api/vertigo/commands/params/_autocomplete', {params : {terms: val, entityClass: param.paramType.actualTypeArguments[0]}})\r\n                .then( function (response) {\r\n                    update(function() {\r\n                        var newOptions = this.$data.paramsAutocompleteOptions.slice();\r\n                        newOptions[index] = response.data.map(function(element) {\r\n                            return {\r\n                                label: element.label,\r\n                                value: element.urn,\r\n                            }\r\n                        });\r\n                        this.$data.paramsAutocompleteOptions = newOptions;\r\n                    }.bind(this));\r\n                }.bind(this));\r\n            \r\n        },\r\n        selectParam : function (selection, index) {\r\n            var newParams = this.$data.commandParamsValues.slice();\r\n            newParams[index] = selection;\r\n            this.$data.commandParamsValues = newParams;\r\n            \r\n        },\r\n        getParamValue(index) {\r\n            var actualValue = this.$data.commandParamsValues[index];\r\n            if (actualValue && actualValue.value) {\r\n                return actualValue;\r\n            }\r\n        },\r\n        backIfNeeded: function (index, isFirst) {\r\n            if (isFirst && !this.$data.commandParamsValues[0].value) {\r\n                this.back();\r\n            }\r\n            // otherwise nothing particular\r\n        },\r\n        back: function () {\r\n            this.$data.commandParamsValues = [];\r\n            this.$data.commands = [];\r\n            this.$data.isCommandCommited = false;\r\n            this.$data.selectedCommand = {};\r\n            this.$data.isExecuted = false;\r\n            this.$data.commandResult = {};\r\n            this.$data.paramsAutocompleteOptions = [];\r\n            this.$nextTick(function () {\r\n                this.$refs.commandInput.updateInputValue(this.$data.text);\r\n            });\r\n            \r\n        },\r\n        reset: function() {\r\n            this.back();\r\n            this.$data.text = \"\";\r\n        }\r\n    } \r\n\r\n}\r\n</script>","<template>\r\n    <span>\r\n        <q-btn round :flat=\"flat\" size=\"lg\" :color=\"color\" :text-color=\"textColor\" :icon=\"count>0?icon:iconNone\" @click=\"commentDrawer = !commentDrawer\" class=\"on-left\" :title=\"$q.lang.vui.comments.title\">\r\n            <q-badge floating small color=\"red\" v-if=\"count>0\" style=\"right:-.4em;top:-.4em;\">{{count}}</q-badge>\r\n        </q-btn>\r\n        <q-drawer overlay behavior=\"mobile\" :width=\"600\" v-model=\"commentDrawer\" side=\"right\" style=\"top:58px;\">\r\n            <q-list >\r\n                <q-item-label header><big>{{$q.lang.vui.comments.title}}</big></q-item-label>\r\n                <q-item>\r\n                <q-item-section><q-input class=\"col\" type=\"textarea\" autogrow v-model=\"commentTextArea\" :label=\"$q.lang.vui.comments.inputLabel\" stack-label></q-input></q-item-section>\r\n                    <q-item-section side><q-btn color=\"primary\" round icon=\"send\" :title=\"$q.lang.vui.comments.actionLabel\" :aria-label=\"$q.lang.vui.comments.actionLabel\" @click=\"publishComment\"></q-btn></q-item-section>\r\n            </q-item>\r\n                <q-separator />\r\n            <q-item v-for=\"comment in list\" :key=\"comment.uuid\" class=\"items-start\" v-bind:class=\"{'cursor-pointer': comment.author==connectedAccount}\">\r\n                    <q-item-section avatar> <q-avatar><img :src=\"baseUrl+'x/accounts/api/'+comment.author+'/photo'\"></q-avatar></q-item-section>\r\n                    <q-item-section>\r\n                        <q-item-label>{{comment.authorDisplayName}}</q-item-label>\r\n                        <div>\r\n                            {{comment.msg}}\r\n                        </div>\r\n                    </q-item-section>\r\n                    <q-item-section side>\r\n                        <q-item-label stamp>{{toDelay(new Date(comment.creationDate))}}</q-item-label>\r\n                        <q-icon name=\"edit\" v-if=\"comment.author==connectedAccount\"></q-icon>\r\n                    </q-item-section>\r\n                            <q-popup-edit v-if=\"comment.author==connectedAccount\" :buttons=\"true\" @save=\"updateComment(comment)\" :label-cancel=\"$q.lang.vui.comments.cancel\" :label-set=\"$q.lang.vui.comments.save\">\r\n                                <q-input type=\"textarea\" autogrow v-model=\"comment.msg\" dense ></q-input>\r\n                            </q-popup-edit>\r\n                </q-item>\r\n        </q-list>\r\n        </q-drawer>\r\n    </span>\r\n</template>\r\n<script>\r\nimport * as Quasar from \"quasar\"\r\n\r\nexport default {\r\n    props : {\r\n        concept : { type: String },\r\n        id : { type: String },\r\n        icon : { type: String, 'default': 'comment' },\r\n        iconNone : { type: String, 'default': 'add_comment' },\r\n        baseUrl : { type: String, 'default': '/api/', required:true },\r\n        connectedAccount : { type: String },\r\n        color : { type: String, 'default': 'primary'},\r\n        textColor : { type: String, 'default': 'white'},\r\n        flat : { type: Boolean, 'default': false}\r\n    },\r\n    data: function() {\r\n        return {\r\n            list: [],\r\n            count: 0,\r\n            commentDrawer: false,\r\n            commentTextArea :\"\"\t    \r\n        }\r\n    },\r\n    created: function() {\r\n        this.fetchCommentsList();\r\n\r\n    },\r\n    methods: {\r\n        fetchCommentsList: function() {\r\n            this.$http.get(this.baseUrl+'x/comment/api/comments?concept='+this.concept+'&id='+this.id)\r\n            .then( function (response) { //Ok\r\n                this.list = response.data;\r\n                this.count = this.list.length;\r\n            }.bind(this));\r\n        },\r\n        publishComment: function() {\r\n            var newComment = {\r\n                    msg : this.commentTextArea\r\n            };\r\n            if (newComment.msg){\r\n                newComment.concept = this.concept;\r\n                newComment.id = this.id;\r\n                this.$http.post(this.baseUrl+'x/comment/api/comments?concept='+this.concept+'&id='+this.id, newComment)\r\n                .then( function () { //Ok\r\n                    this.commentTextArea = '';\r\n                    this.fetchCommentsList();\r\n                }.bind(this));\r\n            }\r\n        },\r\n        updateComment: function(newComment) {\r\n            this.$http.put(this.baseUrl+'x/comment/api/comments/'+newComment.uuid, newComment)\r\n            .then( function () { //Ok\r\n                this.commentTextArea = '';\r\n                this.fetchCommentsList();\r\n            }.bind(this));\r\n        },\r\n        toDelay : function(creationDate) {\r\n            let diff = Quasar.date.getDateDiff(Date.now(),creationDate, 'days');\r\n            if(diff>0)\r\n                return diff+' days';\r\n            diff = Quasar.date.getDateDiff(Date.now(),creationDate, 'hours');\r\n            if(diff>0)\r\n                return diff+' hours';\r\n            diff = Quasar.date.getDateDiff(Date.now(),creationDate, 'minutes');\r\n            if(diff>0)\r\n                return diff+' min';\r\n            return 'Now';\t    \t\r\n        }\r\n    }\r\n\r\n}\r\n</script>","<template>\n    <div class=\"row q-col-gutter-md\">\n        <div v-for=\"extension in extensions\" class=\"col-xs-12 col-lg-6 col-xl-4\" :key=\"extension.name\"><q-card>\n            <q-item  class=\"bg-white\" style=\"height: 100px;\" >\n                <q-item-section avatar>\n                    <q-icon :name=\"extension.icon\" size=\"40px\" :style=\"getIconStyle(extension.color)\"></q-icon>\n                </q-item-section>\n                <q-item-section>\n                    <div class=\"row col items-center\"><div class=\"q-subheading text-bold\">{{extension.label}}</div><div class=\"col\"></div><div><q-toggle disable readonly color=\"positive\" v-model=\"extension.enabled\"></q-toggle></div></div>\n                    <div class=\"row col q-body-2 text-justify\">{{extension.description}}</div>\n                </q-item-section>\n            </q-item>\n        </q-card></div>\n    </div>\n</template>\n<script>\nexport default {\n    props : {\n        activeSkills : { type: Array, required : true }\n    },\n    data: function() {\n        return {\n            extensions: [],\n        }\n    },\n    created: function() {\n        var availableExtensions = [\n                {name : \"vertigo-audit\", label : \"Audit\", description:\"Trace every single aspect of your app through exhaustive logging capabilities.\", color:\"#F7578C\", icon : \"fas fa-clipboard-list\", enabled : false },\n                {name : \"vertigo-dashboard\", label : \"Dashboard\", description:\"Monitor you system to make sure your app meets the customer requirements.\", color:\"#742774\", icon : \"fas fa-chart-line\", enabled : false },\n                {name : \"vertigo-geo\", label : \"Geo\", description:\"Enhance your data by enabling geographic functions and tools.\" , icon : \"fas fa-globe\", color:\"#0E2947\", enabled : false },\n                {name : \"vertigo-ledger\", label : \"Ledger\", description:\"Use a blockchain to enforce secure transactions in your app !\" , icon : \"fas fa-link\", color:\"#00AC5C\", enabled : false },\n                {name : \"vertigo-orchestra\", label : \"Orchestra\", description:\"Manage jobs and monitor their status with this powerfull control tower.\", color:\"#FC636B\", icon : \"fas fa-tasks\", enabled : false },\n                {name : \"vertigo-quarto\", label : \"Quarto\", description:\"Generate slick documents and reports using the Quarto template engine.\", color:\"#0747A6\", icon : \"fas fa-file-invoice\", enabled : false },\n                {name : \"vertigo-social\", label : \"Social\", description:\"Ensure real time communication and collaboration between your app users.\", color:\"#FF3366\", icon : \"far fa-comments\", enabled : false },\n                {name : \"vertigo-stella\", label : \"Stella\", description:\"Enable multi-node task dispatching for your app and assign specific tasks to each node.\", color:\"#0066FF\", icon : \"fas fa-network-wired\", enabled : false }\n        ];\n        \n        availableExtensions.forEach(function (availableExtension) {\n            availableExtension.enabled = this.$props.activeSkills.indexOf(availableExtension.name) > -1 ;\n        }.bind(this));\n\n        this.extensions = availableExtensions;\n    },\n    methods :  {\n        getIconStyle : function (color) {\n            return 'border: 3px solid '+ color+'; background-color: '+color+'; color: white; padding: 5px; width: 70px; height: 70px;';\n        }\n    }\n\n}\n</script>","<template>\r\n    <div class=\"facets\">\r\n        <div class=\"selectedFacets q-pb-md\" v-if=\"isAnyFacetValueSelected()\">\r\n            <div v-for=\"(selectedFacetValues, selectedFacet) in selectedFacets\" :key=\"selectedFacet\" >\r\n                <template v-if=\"!facetMultipleByCode(selectedFacet)\">\r\n                    <q-chip clickable class=\"q-mb-sm\" v-for=\"selectedFacetValue in selectedFacetValues\" :key=\"selectedFacetValue.code\"\r\n                        @click=\"$emit('toogle-facet', selectedFacet, selectedFacetValue, contextKey)\" icon-right=\"cancel\">{{facetLabelByCode(selectedFacet)}}: {{facetValueLabelByCode(selectedFacet, selectedFacetValue)}}\r\n                    </q-chip>\r\n                </template>\r\n            </div>\r\n        </div>\r\n        <q-list v-for=\"facet in facets\" :key=\"facet.code\" class=\"facetValues q-py-none\" dense >\r\n            <template v-if=\"facet.multiple || !isFacetSelected(facet.code)\">\r\n                <q-item-label header>{{facet.label}}</q-item-label>\r\n                <q-item v-for=\"(value) in selectedInvisibleFacets(facet.code)\" :key=\"value.code\" class=\"facetValue q-ml-md\" clickable @click=\"$emit('toogle-facet', facet.code, value.code, contextKey)\">\r\n                    <q-item-section side v-if=\"facet.multiple\" >\r\n                        <q-checkbox dense v-bind:modelValue=\"true\" @update:modelValue=\"$emit('toogle-facet', facet.code, value.code, contextKey)\" ></q-checkbox>\r\n                    </q-item-section>\r\n                    <q-item-section >{{facetValueLabelByCode(facet.code, value.code)}}</q-item-section> \r\n                    <q-item-section side>{{value.count}}</q-item-section>\r\n                </q-item>\r\n                \r\n                <q-item v-for=\"(value) in visibleFacets(facet.code, facet.values)\" :key=\"value.code\" class=\"facetValue q-ml-md\" clickable @click=\"$emit('toogle-facet', facet.code, value.code, contextKey)\">\r\n                    <q-item-section side v-if=\"facet.multiple\" >\r\n                        <q-checkbox dense v-bind:modelValue=\"isFacetValueSelected(facet.code, value.code)\" @update:modelValue=\"$emit('toogle-facet', facet.code, value.code, contextKey)\" ></q-checkbox>\r\n                    </q-item-section>\r\n                    <q-item-section >{{facetValueLabelByCode(facet.code, value.code)}}</q-item-section> \r\n                    <q-item-section side>{{value.count}}</q-item-section>\r\n                </q-item>\r\n                <q-item>\r\n                <q-btn flat v-if=\"facet.values.length > maxValues && !isFacetExpanded(facet.code)\" @click=\"expandFacet(facet.code)\" class=\"q-ma-none\">{{$q.lang.vui.facets.showAll}}</q-btn>\r\n                <q-btn flat v-if=\"facet.values.length > maxValues && isFacetExpanded(facet.code)\" @click=\"reduceFacet(facet.code)\" class=\"q-ma-none\">{{$q.lang.vui.facets.showLess}}</q-btn>\r\n                </q-item>\r\n            </template>\r\n        </q-list>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    props: {\r\n        facets: Array,\r\n        selectedFacets: Object,\r\n        contextKey: String,\r\n        facetValueTranslatorProvider : Function,\r\n        maxValues: {\r\n            type : Number,\r\n            default : 5\r\n        }\r\n  },\r\n  emits: [\"toogle-facet\"],\r\n  computed: {\r\n  },\r\n  data : function() {\r\n      return {\r\n          expandedFacets:[],\r\n          codeToLabelTranslater:{} /** facetCode : function (facetCode, facetValueCode) return facetValueLabel */\r\n      }\r\n  },\r\n  created : function() {\r\n    this.facetValueTranslatorProvider(this);\r\n  },\r\n  methods: {\r\n      addFacetValueTranslator(facetCode, facetValueCodeTranslator) {\r\n         this.codeToLabelTranslater[facetCode] = facetValueCodeTranslator;\r\n      },\r\n      facetByCode(facetCode) {\r\n          return this.facets.filter(function (facet) {\r\n              return facet.code === facetCode;\r\n          })[0];\r\n      },\r\n      facetValueByCode(facetCode, facetValueCode) {\r\n          return this.facetByCode(facetCode).values.filter(function (facetValue) {\r\n              return facetValue.code === facetValueCode;\r\n          })[0];\r\n      },\r\n      facetLabelByCode(facetCode) {\r\n          return this.facetByCode(facetCode).label;\r\n      },      \r\n      facetMultipleByCode(facetCode) {\r\n          return this.facetByCode(facetCode).multiple;\r\n      },\r\n      facetValueLabelByCode(facetCode, facetValueCode) {\r\n          if(this.codeToLabelTranslater[facetCode]) {\r\n            return this.codeToLabelTranslater[facetCode](facetCode, facetValueCode);\r\n          }\r\n          var facetValueByCode = this.facetValueByCode(facetCode,facetValueCode);\r\n          return facetValueByCode?facetValueByCode.label:facetValueCode; //might be not found\r\n      },\r\n      isFacetValueSelected(facetCode, facetValueCode){\r\n          return this.selectedFacets[facetCode].includes(facetValueCode);\r\n      },\r\n      isFacetSelected(facetCode){\r\n          if (this.selectedFacets[facetCode]) {\r\n              return this.selectedFacets[facetCode].length > 0;\r\n          }\r\n          return false;\r\n      },\r\n      isAnyFacetValueSelected() {\r\n          return Object.keys(this.selectedFacets).some(function (facetCode) {\r\n              return !this.facetMultipleByCode(facetCode);\r\n          }.bind(this));\r\n      },\r\n      expandFacet(facetCode){\r\n          if (!this.isFacetExpanded(facetCode)) {\r\n              this.$data.expandedFacets.push(facetCode);\r\n          }\r\n      },\r\n      reduceFacet(facetCode){\r\n          if (this.isFacetExpanded(facetCode)) {\r\n              this.$data.expandedFacets.splice( this.$data.expandedFacets.indexOf(facetCode), 1);\r\n          }\r\n      },\r\n      isFacetExpanded(facetCode){\r\n         return this.$data.expandedFacets.includes(facetCode);\r\n      },\r\n      selectedInvisibleFacets(facetCode) {\r\n          return this.selectedFacets[facetCode]\r\n             .filter( facetValueCode => !this.facetValueByCode(facetCode, facetValueCode) )\r\n             .map(facetValueCode => { \r\n              var obj = {}; \r\n              obj.code=facetValueCode; \r\n              obj.label=facetValueCode; \r\n              obj.count=0; \r\n              return obj; \r\n          });\r\n      },\r\n      visibleFacets(facetCode, facetValues) {\r\n          if (!this.isFacetExpanded(facetCode)) {\r\n              return  facetValues.slice(0, this.maxValues);\r\n          }\r\n          return facetValues;\r\n      }\r\n  }\r\n}\r\n</script>","<template>\r\n    <div class=\"row\">\r\n        <q-input label=\"Longitude\" stack-label  v-model.number=\"inputObject.lon\" @update:modelValue=\"updateJson\" ></q-input>\r\n        <q-input label=\"Latitude\" stack-label  v-model.number=\"inputObject.lat\" @update:modelValue=\"updateJson\" ></q-input>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    props : {\r\n        modelValue: { type: Object}\r\n    },\r\n    emits: [\"update:modelValue\"],\r\n    data : function () {\r\n        return {\r\n            inputObject : this.$props.modelValue ? this.$props.modelValue : {}\r\n        }\r\n    },\r\n    watch: { \r\n          modelValue: function(newVal) {\r\n              this.$data.inputObject = newVal ? newVal : {};\r\n              this.updateJson();\r\n          }\r\n    },\r\n    beforeMount() {\r\n        this.updateJson();\r\n        \r\n    },\r\n    methods: {\r\n        updateJson() {\r\n        var newInputValue;\r\n        if(this.$props.modelValue) {\r\n          newInputValue = JSON.stringify({  lon : this.$data.inputObject.lon, lat : this.$data.inputObject.lat});\r\n          this.$props.modelValue['_v_inputValue'] = newInputValue;\r\n        } else {\r\n          //this.$set(this.$props.value, null );\r\n        }        \r\n        this.$emit('update:modelValue', this.$data.inputObject);        \r\n      }\r\n    }\r\n}\r\n</script>","<template>\n    <div>\n        <q-input :placeholder=\"$q.lang.vui.handles.placeholder\" v-model=\"text\"  :debounce=\"300\" @input=\"searchHandles\" autofocus outlined bg-color=\"white\" dense >\n            <template v-slot:prepend><q-icon name=\"search\" /></template>\n        </q-input>\n        <q-list bordered dense separator>\n            <q-item clickable v-ripple v-for=\"handle in handles\" @click=\"VUi.methods.goTo(baseUrl + 'hw/' + handle.code )\" :key=\"handle.code\" >\n                <q-item-section>\n                {{handle.code}}\n                </q-item-section>\n            </q-item>\n        </q-list>\n    </div>\n</template>\n<script>\nexport default {\n    props : {\n        baseUrl : { type: String, 'default': '/' },\n    },\n    data: function() {\n        return {\n            text: \"\",\n            handles: []\n        }\n    },\n    methods : {\n        searchHandles : function(val) {\n            if(val) {\n                this.$http.post(this.baseUrl+'api/vertigo/handle/_search', {prefix: val} )\n                    .then( function (response) { //Ok\n                        this.$data.handles = response.data;\n                }.bind(this));\n            }\n        }\n    } \n}\n</script>","<template>\r\n    <div class=\"row\">\r\n        <div v-for=\"(value, key) in jsonAsObject\" :key=\"key\" :class=\"'col-'+(12/cols)\">\r\n            <q-input  v-if=\"!readonly\" :label=\"key\" orientation=\"vertical\" stack-label  v-model=\"jsonAsObject[key]\" @update:modelValue=\"updateJson\" ></q-input>\r\n            <q-field v-else :label=\"key\" orientation=\"vertical\" stack-label borderless readonly>\r\n                <span >{{value}}</span>\r\n            </q-field>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    props : {\r\n        modelValue: { type: String, required: true},\r\n        readonly : { type: Boolean, required: true },\r\n        cols : { type: Number, 'default': 2 }\r\n    },\r\n    emits: [\"update:modelValue\"],\r\n    data : function () {\r\n        return {\r\n            jsonAsObject : JSON.parse(this.$props.modelValue)\r\n        }\r\n    },\r\n    watch: { \r\n          modelValue: function(newVal) {\r\n              this.$data.jsonAsObject = JSON.parse(newVal);\r\n          }\r\n    },\r\n    methods: {\r\n        updateJson() {\r\n          this.$emit('update:modelValue', JSON.stringify(this.$data.jsonAsObject));\r\n        }\r\n      }\r\n}\r\n</script>","<template>\r\n    <q-btn round :flat=\"!hasNew\" dense :color=\"hasNew?'accent':'secondary'\" :text-color=\"hasNew?'accent-inverted':'secondary-inverted'\" :icon=\"count>0?icon:iconNone\" class=\"on-left\" >\r\n        <q-badge color=\"red\" text-color=\"white\" floating v-if=\"count>0\" >{{count}}</q-badge>\r\n        <q-menu class=\"notifications\">\r\n            <q-list style=\"width:300px\">\r\n                <q-item v-for=\"notif in list\" :key=\"notif.uuid\" tag=\"a\" :href=\"notif.targetUrl\" >\r\n                    <q-item-section avatar><q-icon :name=\"toIcon(notif.type)\" size=\"2rem\"></q-icon></q-item-section>\r\n                    <q-item-section><q-item-label>{{notif.title}}</q-item-label><q-item-label caption lines=\"3\">{{notif.content}}</q-item-label></q-item-section>\r\n                    <q-item-section side top>\r\n                        <q-item-label caption>{{toDelay(new Date(notif.creationDate))}}</q-item-label>\r\n                    </q-item-section>\r\n                </q-item>\r\n            </q-list>\r\n        </q-menu>\r\n    </q-btn>\r\n</template>\r\n<script>\r\nimport * as Quasar from \"quasar\"\r\n\r\nexport default {\r\n    props : {\r\n        icon : { type: String, 'default': 'notifications' },\r\n        iconNone : { type: String, 'default': 'notifications_none' },\r\n        typeIconMap : { type: Object, 'default': function() { return {} } },\r\n        baseUrl : { type: String, 'default': '/api/', required:true }\r\n    },\r\n    data: function() {\r\n        return {\r\n            firstCall : true,\r\n            list: [],\r\n            hasNew : false,\r\n            wasError : false,\r\n            count: 0,\r\n            timer: ''\r\n        }\r\n    },\r\n    created: function() {\r\n        this.fetchNotificationsList();\r\n        this.timer = setInterval(this.fetchNotificationsList, 5000)\r\n\r\n    },\r\n    methods: {\r\n        fetchNotificationsList: function() {\r\n            this.$http.get(this.baseUrl+'x/notifications/api/messages', { timeout:5*1000, })\r\n            .then( function (response) { //Ok\r\n                this.updateNotificationsData(response.data);\r\n                if(this.wasError) {\r\n                    clearInterval(this.timer);\r\n                    this.timer = setInterval(this.fetchNotificationsList, 5000);\r\n                }\r\n                this.wasError = false;\r\n            }.bind(this))\r\n            .catch(function  () { //Ko\r\n                if(!this.wasError) {\r\n                    clearInterval(this.timer);\r\n                    this.timer = setInterval(this.fetchNotificationsList, 60000);\r\n                }\r\n                this.wasError = true;\r\n            }.bind(this));\r\n        },\r\n        updateNotificationsData : function (newList) {\r\n            // Tri par ordre décroissant de date de création\r\n            const sortedList = newList.sort(function(a,b) {return  b.creationDate - a.creationDate});\r\n            var newElements = [];\t    \t\r\n            // Traverse both arrays simultaneously.\r\n            var lastOldElement = this.list[0];\r\n            if(!lastOldElement) {\r\n                newElements = sortedList;\r\n            } else {\r\n                for(var newIdx = 0; newIdx < sortedList.length; newIdx++) {\r\n                    if( sortedList[newIdx].uuid != lastOldElement.uuid) {\r\n                        if(sortedList[newIdx].creationDate < lastOldElement.creationDate) {\r\n                            break;\r\n                        } else {\r\n                            newElements.push(sortedList[newIdx]);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            // Mise à jour des notifications\r\n            this.list = sortedList;\r\n            // Met à jour le nombre total de notifications\r\n            this.count = sortedList.length;\r\n            this.hasNew = newElements.length>0;\r\n            if(!this.firstCall) {\r\n                newElements.forEach(function(notif) {\r\n                    this.$q.notify({ \r\n                        type : 'info',\r\n                        icon : this.toIcon(notif.type),\r\n                        message : notif.title,\r\n                        detail : notif.content,\r\n                        timeout : 3000,\r\n                        position : 'bottom-right'\r\n                    })\r\n                }.bind(this));\r\n            }\r\n            \r\n            // Booléen indiquant s'il s'agit du premier appel à la MaJ des notifications\r\n            this.firstCall = false;\t    \t\r\n        },\t    \r\n        cancelAutoUpdate: function() { clearInterval(this.timer) },\r\n        toIcon : function(type) {\r\n            var typeIcon = this.typeIconMap[type];\r\n            return typeIcon?typeIcon:'mail';\r\n        },\r\n        toDelay : function(creationDate) {\r\n            let diff = Quasar.date.getDateDiff(Date.now(),creationDate, 'days');\r\n            if(diff>0)\r\n                return diff+' '+ this.$q.lang.vui.notifications.days;\r\n            diff = Quasar.date.getDateDiff(Date.now(),creationDate, 'hours');\r\n            if(diff>0)\r\n                return diff+' '+ this.$q.lang.vui.notifications.hours;\r\n            diff = Quasar.date.getDateDiff(Date.now(),creationDate, 'minutes');\r\n            if(diff>0)\r\n                return diff+' ' +this.$q.lang.vui.notifications.minutes;\r\n            diff = Quasar.date.getDateDiff(Date.now(),creationDate, 'seconds');\r\n            return diff+' '+this.$q.lang.vui.notifications.seconds;\t    \t\r\n        }\r\n        \r\n\r\n    },\r\n    beforeDestroy : function() {\r\n      clearInterval(this.timer)\r\n    }\r\n}\r\n</script>","<template>\r\n    <div :id=\"id\">\r\n        <slot v-bind=\"$attrs\"></slot>\r\n    </div>\r\n</template>\r\n<script>\r\nimport * as Quasar from \"quasar\"\r\nimport * as ol from \"ol\"\r\n\r\n\r\nexport default {\r\n    props : {\r\n        id: { type: String, required: true},\r\n        initialZoomLevel : { type: Number},\r\n        initialCenter : { type: Object },\r\n        search: { type: Boolean },\r\n        overview : { type: Boolean },\r\n    },\r\n    emits:[\"moveend\", \"click\"],\r\n    methods: {\r\n          onMapLoad: function(found) {\r\n            let vm = this;\r\n            function checkForMap() {\r\n              if (vm.olMap) {\r\n                found(vm.olMap);\r\n                vm.postInit()\r\n              } else {\r\n                setTimeout(checkForMap, 50);\r\n              }\r\n            }\r\n            checkForMap();\r\n          },\r\n          postInit() {\r\n              if (this.$props.initialZoomLevel) {\r\n                    this.olMap.getView().setZoom(this.$props.initialZoomLevel);\r\n               }\r\n          }\r\n    },\r\n    mounted : function() {        \r\n        let view = new ol.View();\r\n        const osmSource = new ol.source.OSM();\r\n        \r\n        let osmLayer = new ol.layer.Tile({\r\n            preload : 4,\r\n            source : osmSource\r\n        })\r\n        \r\n        const mapControls = [buildCustomControls()];\r\n        if (this.$props.overview) {\r\n            mapControls.push(new ol.control.OverviewMap({layers: [new ol.layer.Tile({source: osmSource}),],}));\r\n        }\r\n        if (this.$props.search && (typeof Geocoder === 'function')) {\r\n            // this functionnality needs https://unpkg.com/ol-geocoder@4.3.1/dist/ol-geocoder.js and https://unpkg.com/ol-geocoder@4.3.1/dist/ol-geocoder.min.css\r\n            // see https://github.com/Dominique92/ol-geocoder\r\n        \tmapControls.push(new Geocoder('nominatim', {\r\n                provider: 'osm',\r\n                lang: this.$q.lang.isoName,\r\n                placeholder: 'Search for ...',\r\n                limit: 5,\r\n                debug: false,\r\n                autoComplete: true,\r\n                keepOpen: true,\r\n                preventMarker: true,\r\n                defaultFlyResolution: 19,\r\n            }));\r\n        }\r\n        \r\n        this.olMap = new ol.Map({\r\n            interactions: ol.interaction.defaults.defaults({\r\n              onFocusOnly: true\r\n            }),\r\n            target : this.$props.id,\r\n            layers : [ osmLayer ],\r\n            // Improve user experience by loading tiles while animating. Will make animations stutter on mobile or slow devices.\r\n            loadTilesWhileAnimating : true,\r\n            view : view,\r\n            controls: ol.control.defaults.defaults().extend(mapControls),\r\n        });\r\n        \r\n        if (this.$props.initialCenter) {\r\n            this.olMap.getView().setCenter(ol.proj.fromLonLat([this.$props.initialCenter.lon, this.$props.initialCenter.lat]));\r\n        }\r\n        \r\n        // handle refresh if an endPoint is specified\r\n        this.olMap.on('moveend', function(e) {\r\n            let mapExtent =  e.map.getView().calculateExtent();\r\n            let wgs84Extent = ol.proj.transformExtent(mapExtent, 'EPSG:3857', 'EPSG:4326');\r\n            let topLeft = ol.extent.getTopLeft(wgs84Extent);\r\n            let bottomRight = ol.extent.getBottomRight(wgs84Extent);\r\n            Quasar.debounce(this.$emit('moveend',topLeft, bottomRight) , 300);        \r\n        }.bind(this));\r\n        \r\n        setTimeout(function () {\r\n            this.olMap.on('click', function(evt) {\r\n                evt.stopPropagation();\r\n                Quasar.debounce(this.$emit('click',ol.proj.transform(evt.coordinate, 'EPSG:3857', 'EPSG:4326')) , 300);\r\n            }.bind(this)); \r\n        }.bind(this), 300); \r\n    }\r\n}\r\n\r\nfunction buildCustomControls() {\r\n    return new class VCustomControls extends ol.control.Control {\r\n       /**\r\n        * @param {Object} [opt_options] Control options.\r\n        */\r\n       constructor(opt_options) {\r\n          const options = opt_options || {};\r\n        \r\n          const element = document.createElement('div');\r\n          element.className = 'ol-v-custom-buttons ol-unselectable ol-control';\r\n        \r\n          super({\r\n             element: element,\r\n             target: options.target,\r\n          });\r\n       }\r\n    }\r\n}\r\n</script>","<template>\r\n    <div :id=\"id\" >\r\n        <div :id=\"id+'Popup'\">\r\n            <q-card v-if=\"popupDisplayed\" class=\"q-px-md\">\r\n                <slot name=\"card\" v-bind:objectDisplayed=\"objectDisplayed\">\r\n                      <div class=\"text-subtitle2\">{{objectDisplayed[nameField]}}</div>\r\n                </slot>\r\n            </q-card>\r\n        </div>\t\r\n    </div>\r\n</template>\r\n<script>\r\nimport * as Quasar from \"quasar\"\r\nimport * as ol from \"ol\"\r\n\r\nexport default {\r\n    props : {\r\n        id: { type: String, required: true},\r\n        list : { type: Array },\r\n        cluster : { type: Array },\r\n        object : { type: Object },\r\n        objectEditable: {type: Boolean },\r\n        fitOnDataUpdate: {type: Boolean },\r\n        baseUrl : { type: String },\r\n        field: { type: String, required: true},\r\n        nameField: { type: String},        \r\n        markerColor : { type: String, 'default': \"#000000\" },\r\n        markerFont : { type: String, 'default': \"Material Icons\" },\r\n        markerIcon : { type: String, 'default': \"place\" },\r\n        markerSize : { type: Number, 'default': 30 },\r\n        clusterCircleSize: { type: Number, 'default': 20 },\r\n        clusterColor: { type: String, 'default': \"#fff\" },\r\n        clusterCircleBorderColor: { type: String, 'default': \"#000000\" },\r\n        clusterTextColor: { type: String, 'default': \"#000000\" },\r\n        clusterTextSize: { type: Number, 'default': 12 },\r\n        clusterTextFont: { type: String, 'default' : 'sans-serif' },\r\n    },\r\n    emits : [\"moveend\", \"click\"],\r\n    data : function () {\r\n        return {\r\n            popupDisplayed : false,\r\n            objectDisplayed: {},\r\n            items: [],\r\n            _itemsCoordString: null,\r\n            clusters: [],\r\n            _clusterCoordString: null,\r\n            olMap: {},\r\n            vectorSource : {},\r\n            base32 : '0123456789bcdefghjkmnpqrstuvwxyz' // (geohash-specific) Base32 map\r\n            \r\n        }\r\n    },\r\n    watch : {\r\n        // watch list, cluster and object but filter to only process when desired field ('field' prop, eg geoLocation) is modified\r\n        list : {\r\n           handler(newVal) {\r\n              if (!!newVal) {\r\n                  // console.log('watch list');\r\n                  let newItemsCoordString = this.computeCoordString(newVal);\r\n                  \r\n                  if (!!this._itemsCoordString && newItemsCoordString !== this._itemsCoordString) {\r\n                      this.$data.items = newVal;\r\n                      this.updateMap();\r\n                  }\r\n                  this._itemsCoordString = newItemsCoordString;\r\n              }\r\n           },\r\n           deep: true,\r\n           immediate: true, // initialize _itemsCoordString\r\n        },\r\n        cluster : {\r\n           handler(newVal) {\r\n              if (!!newVal) {\r\n                  // console.log('watch cluster');\r\n                  let newClusterCoordString = this.computeCoordString(newVal);\r\n                  \r\n                  if (!!this._clusterCoordString && newClusterCoordString !== this._clusterCoordString) {\r\n                      this.$data.items = [];\r\n                      this.$data.clusters = [];\r\n                      for(let i =0 ; i< newVal.length; i++) {\r\n                          if(newVal[i].totalCount == 1) {\r\n                              this.$data.items = this.$data.items.concat(newVal[i].list);\r\n                          } else {\r\n                              this.$data.clusters.push({\r\n                                  geoHash:newVal[i].code,\r\n                                  geoLocation:this.decode(newVal[i].code),\r\n                                  totalCount:newVal[i].totalCount\r\n                              });\r\n                          }\r\n                      }\r\n                      this.updateMap();\r\n                  }\r\n                  this._clusterCoordString = newClusterCoordString;\r\n              }\r\n           },\r\n           deep: true,\r\n           immediate: true, // initialize _clusterCoordString\r\n        },\r\n        object : {\r\n           handler(newVal) {\r\n              if (!!newVal) {\r\n                   // console.log('watch object');\r\n                   let newItemsCoordString = this.computeCoordString(newVal);\r\n                   \r\n                   if (!!this._itemsCoordString && newItemsCoordString !== this._itemsCoordString) {\r\n                       this.updateMap();\r\n                   }\r\n                   this._itemsCoordString = newItemsCoordString;\r\n               }\r\n           },\r\n           deep: true,\r\n           immediate: true, // initialize _itemsCoordString\r\n        },\r\n    },\r\n    computed : {\r\n        features: function() {\r\n            let geoField = this.$props.field;\r\n            let arrayOfFeatures = this.$data.items\r\n            .filter(function(object) {\r\n                return object[geoField]!=null;\r\n            }).map(function(object) {\r\n                let geoObject;\r\n                if (typeof object[geoField] === 'string' || object[geoField] instanceof String){\r\n                    geoObject = JSON.parse(object[geoField]);\r\n                } else {\r\n                    geoObject = object[geoField];\r\n                }\r\n                if(geoObject != null) {\r\n                    let iconFeature = new ol.Feature({\r\n                        geometry : new ol.geom.Point(ol.proj.fromLonLat([ geoObject.lon, geoObject.lat ])),\r\n                    });\r\n                    \r\n                    if (this.$props.nameField) {\r\n                        iconFeature.set('name', object[this.$props.nameField]);\r\n                        iconFeature.set('innerObject', object);\r\n                        iconFeature.set('totalCount', object.totalCount);\r\n                    }\r\n                    return iconFeature;\r\n                } \r\n                return null;\r\n            }.bind(this));\r\n            \r\n            let arrayOfClusterFeatures = this.$data.clusters\r\n            .filter(function(object) {\r\n                return object[geoField]!=null;\r\n            }).map(function(object) {\r\n                let geoObject;\r\n                if (typeof object[geoField] === 'string' || object[geoField] instanceof String){\r\n                    geoObject = JSON.parse(object[geoField]);\r\n                } else {\r\n                    geoObject = object[geoField];\r\n                }\r\n                if(geoObject != null) {\r\n                    let iconFeature = new ol.Feature({\r\n                        geometry : new ol.geom.Point(ol.proj.fromLonLat([ geoObject.lon, geoObject.lat ])),\r\n                    });\r\n                    \r\n                    if (this.$props.nameField) {\r\n                        iconFeature.set('name', object[this.$props.nameField]);\r\n                        iconFeature.set('innerObject', object);\r\n                        iconFeature.set('totalCount', object.totalCount);\r\n                    }\r\n                    return iconFeature;\r\n                } \r\n                return null;\r\n            }.bind(this));\r\n            return arrayOfFeatures.concat(arrayOfClusterFeatures);\r\n        }\r\n    },\r\n    methods : {\r\n        fitView: function() {\r\n            if (this.features.length > 0) {\r\n                let maxZoom = 19;\r\n                let maxZoomResolved = this.features.length == 1 ? Math.min(this.olMap.getView().getZoom()||maxZoom, maxZoom) // keep zoom if < maxZoom\r\n                                                                : maxZoom; // if multiple features, dont keep zoom but dont zoom > maxZoom\r\n                let extentPadded = ol.geom.Polygon.fromExtent(this.$data.vectorSource.getExtent())\r\n                extentPadded.scale(1.2);\r\n                this.olMap.getView().fit(extentPadded, {size : this.olMap.getSize(), maxZoom : maxZoomResolved, duration: 750});\r\n            }\r\n        },\r\n        fetchList: function(topLeft, bottomRight) {\r\n            this.$http.get(this.baseUrl+'_geoSearch?topLeft=\"'+ topLeft.lat+','+topLeft.lon+'\"&bottomRight=\"'+ bottomRight.lat+','+bottomRight.lon+ '\"', { timeout:5*1000, })\r\n            .then( function (response) { //Ok\r\n                this.$data.items = response.data;\r\n                this.$data.vectorSource.clear();\r\n                this.$data.vectorSource.addFeatures(this.features);\r\n            }.bind(this));\r\n        },\r\n        computeCoordString: function(value) {\r\n            let valueCoord;\r\n            if (Array.isArray(value)) {\r\n                if (!!this.$props.cluster) {\r\n                    valueCoord = value.map(el => this.decode(el.code));\r\n                } else {\r\n                    valueCoord = value.map(el => el[this.$props.field]);\r\n                } \r\n            } else {\r\n                valueCoord = value[this.$props.field];\r\n            }\r\n            return JSON.stringify(valueCoord);\r\n        },\r\n        updateMap: function() {\r\n            this.$data.vectorSource.clear();\r\n            this.$data.vectorSource.addFeatures(this.features);\r\n            if (this.$props.fitOnDataUpdate) {\r\n                this.fitView();\r\n            }\r\n        },\r\n         /**\r\n         * Decode geohash to latitude/longitude (location is approximate centre of geohash cell,\r\n         *     to reasonable precision).\r\n         *\r\n         * @param   {string} geohash - Geohash string to be converted to latitude/longitude.\r\n         * @returns {{lat:number, lon:number}} (Center of) geohashed location.\r\n         * @throws  Invalid geohash.\r\n         *\r\n         * @example\r\n         *     const latlon = Geohash.decode('u120fxw'); // => { lat: 52.205, lon: 0.1188 }\r\n         */\r\n        decode : function (geohash) {\r\n            const bounds = this.bounds(geohash); // <-- the hard work\r\n            // now just determine the centre of the cell...\r\n            const latMin = bounds.sw.lat, lonMin = bounds.sw.lon;\r\n            const latMax = bounds.ne.lat, lonMax = bounds.ne.lon;\r\n            // cell centre\r\n            let lat = (latMin + latMax)/2;\r\n            let lon = (lonMin + lonMax)/2;\r\n            // round to close to centre without excessive precision: ⌊2-log10(Δ°)⌋ decimal places\r\n            lat = lat.toFixed(Math.floor(2-Math.log(latMax-latMin)/Math.LN10));\r\n            lon = lon.toFixed(Math.floor(2-Math.log(lonMax-lonMin)/Math.LN10));\r\n            return { lat: Number(lat), lon: Number(lon) };\r\n        },\r\n        /**\r\n         * Returns SW/NE latitude/longitude bounds of specified geohash.\r\n         *\r\n         * @param   {string} geohash - Cell that bounds are required of.\r\n         * @returns {{sw: {lat: number, lon: number}, ne: {lat: number, lon: number}}}\r\n         * @throws  Invalid geohash.\r\n         */\r\n        bounds : function(geohash) {\r\n            if (geohash.length == 0) throw new Error('Invalid geohash');\r\n            geohash = geohash.toLowerCase();\r\n            let evenBit = true;\r\n            let latMin =  -90, latMax =  90;\r\n            let lonMin = -180, lonMax = 180;\r\n            for (let i=0; i<geohash.length; i++) {\r\n                const chr = geohash.charAt(i);\r\n                const idx = this.$data.base32.indexOf(chr);\r\n                if (idx == -1) throw new Error('Invalid geohash');\r\n                for (let n=4; n>=0; n--) {\r\n                    const bitN = idx >> n & 1;\r\n                    if (evenBit) {\r\n                        // longitude\r\n                        const lonMid = (lonMin+lonMax) / 2;\r\n                        if (bitN == 1) {\r\n                            lonMin = lonMid;\r\n                        } else {\r\n                            lonMax = lonMid;\r\n                        }\r\n                    } else {\r\n                        // latitude\r\n                        const latMid = (latMin+latMax) / 2;\r\n                        if (bitN == 1) {\r\n                            latMin = latMid;\r\n                        } else {\r\n                            latMax = latMid;\r\n                        }\r\n                    }\r\n                    evenBit = !evenBit;\r\n                }\r\n            }\r\n            const bounds = {\r\n                sw: { lat: latMin, lon: lonMin },\r\n                ne: { lat: latMax, lon: lonMax },\r\n            };\r\n            return bounds;\r\n        }\r\n        \r\n    },\r\n   \r\n    mounted : function() {\r\n        this.$parent.onMapLoad( function( olMap ) {\r\n            this.$data.olMap = olMap;\r\n            this.$data.items = [];\r\n            this.$data.clusters = [];\r\n            if(this.$props.list) {\r\n                this.$data.items = this.$props.list\r\n            } else if(this.$props.cluster) {\r\n                for(let i =0 ; i< this.$props.cluster.length; i++) {\r\n                    if(this.$props.cluster[i].totalCount == 1) {\r\n                        this.$data.items = this.$data.items.concat(this.$props.cluster[i].list);                        \r\n                    } else {\r\n                        this.$data.clusters.push({\r\n                        geoHash:this.$props.cluster[i].code,\r\n                        geoLocation:this.decode(this.$props.cluster[i].code),\r\n                        totalCount:this.$props.cluster[i].totalCount});\r\n                    }\r\n                }\r\n            } else  if(this.$props.object) {\r\n                this.$data.items = [this.$props.object];\r\n            }\r\n            this.$data.vectorSource = new ol.source.Vector({\r\n                features : this.features\r\n            });\r\n            \r\n            let clusterSource = new ol.source.Cluster({\r\n                source: this.$data.vectorSource,\r\n                distance : 2*this.$props.clusterCircleSize\r\n            });\r\n            let clusterLayer = new ol.layer.Vector({\r\n                source: clusterSource\r\n            });\r\n            \r\n            let styleIcon = new ol.style.Style({\r\n                text : new ol.style.Text({\r\n                    font : this.$props.markerSize +'px ' + this.$props.markerFont,\r\n                    text : this.$props.markerIcon,\r\n                    fill : new ol.style.Fill({color : this.$props.markerColor }),\r\n                    offsetY : 0\r\n                })\r\n            });\r\n            \r\n            let styleCache = {};\r\n            clusterLayer.setStyle(function(feature, /*resolution*/) {\r\n                let size = 0;\r\n                let agregateFeatures = feature.get('features');\r\n                for(let i = 0; i<agregateFeatures.length;i++) {\r\n                    let fSize = agregateFeatures[i].get('totalCount');\r\n                    size += !fSize?1:fSize;\r\n                }\r\n                if (!size || size == 1) {\r\n                    return styleIcon;\r\n                } else {\r\n                      // otherwise show the number of features\r\n                      let style = styleCache[size];\r\n                      if (!style) {\r\n                        style = new ol.style.Style({\r\n                          image: new ol.style.Circle({\r\n                            radius: this.$props.clusterCircleSize,\r\n                            stroke: new ol.style.Stroke({\r\n                                color: this.$props.clusterCircleBorderColor\r\n                              }),\r\n                            fill: new ol.style.Fill({\r\n                              color: this.$props.clusterColor\r\n                            })\r\n                          }),\r\n                          text: new ol.style.Text({\r\n                            text: size.toString(),\r\n                            font : this.$props.clusterTextSize +'px ' + this.$props.clusterTextFont,\r\n                            fill: new ol.style.Fill({\r\n                              color: this.$props.clusterTextColor\r\n                            })\r\n                          })\r\n                        });\r\n                        styleCache[size] = style;\r\n                      }\r\n                      return style;\r\n                }\r\n            }.bind(this));\r\n            \r\n            this.olMap.addLayer(clusterLayer); \r\n            \r\n            // fit view\r\n            this.fitView();\r\n                \r\n            // handle refresh if an endPoint is specified\r\n            this.olMap.on('moveend', function(e) {\r\n                let mapExtent =  e.map.getView().calculateExtent();\r\n                let wgs84Extent = ol.proj.transformExtent(mapExtent, 'EPSG:3857', 'EPSG:4326');\r\n                let topLeft = ol.extent.getTopLeft(wgs84Extent);\r\n                let bottomRight = ol.extent.getBottomRight(wgs84Extent);\r\n                if (this.baseUrl) {\r\n                   Quasar.debounce(this.fetchList({lat:topLeft[0] , lon:topLeft[1]},{lat:bottomRight[0] , lon:bottomRight[1]}),300);\r\n                }\r\n                Quasar.debounce(this.$emit('moveend',topLeft, bottomRight) , 300);\t\t\r\n            }\r\n            .bind(this));        \r\n            \r\n            if (this.$props.nameField) {\r\n                let popup = new ol.Overlay({\r\n                    element: this.$el.querySelector('#'+this.$props.id+'Popup'),\r\n                    positioning: 'bottom-center',\r\n                    stopEvent: false,\r\n                    offset: [0, -20]\r\n                  });\r\n                this.olMap.addOverlay(popup);\r\n                // display popup on click\r\n                this.olMap.on('click', function(evt) {\r\n                  let feature = this.olMap.forEachFeatureAtPixel(evt.pixel,\r\n                    function(feature) {\r\n                      return feature;\r\n                    });\r\n                  if (feature && feature.get('features') && feature.get('features').length == 1) {\r\n                    let coordinates = feature.getGeometry().getCoordinates();\r\n                    popup.setPosition(coordinates);\r\n                    this.$data.popupDisplayed = true;\r\n                    this.$data.objectDisplayed = feature.get('features')[0].get('innerObject');\r\n                    evt.stopPropagation();\r\n                    Quasar.debounce(this.$emit('click',ol.proj.transform(coordinates, 'EPSG:3857', 'EPSG:4326')) , 300);\r\n                  } else {\r\n                      this.$data.popupDisplayed = false;\r\n                  }\r\n                }.bind(this));\r\n                  \r\n                // change mouse cursor when over marker\r\n                this.olMap.on('pointermove', function(e) {\r\n                    if (e.dragging) {\r\n                        this.$data.popupDisplayed = false;\r\n                      return;\r\n                    }\r\n                    let pixel = this.olMap.getEventPixel(e.originalEvent);\r\n                    let hit = this.olMap.hasFeatureAtPixel(pixel);\r\n                    this.olMap.getTargetElement().style.cursor = hit ? 'pointer' : '';\r\n                }.bind(this));\r\n            } else {\r\n                this.olMap.on('click', function(evt) {\r\n                  let feature = this.olMap.forEachFeatureAtPixel(evt.pixel,\r\n                    function(feature) {\r\n                      return feature;\r\n                    });\r\n                  if (feature && feature.get('features') && feature.get('features').length == 1) {\r\n                    let coordinates = feature.getGeometry().getCoordinates();\r\n                    evt.stopPropagation();\r\n                    Quasar.debounce(this.$emit('click',ol.proj.transform(coordinates, 'EPSG:3857', 'EPSG:4326')) , 300);\r\n                  }\r\n                }.bind(this));\r\n            }\r\n            \r\n            if (this.$props.object && this.$props.objectEditable) {\r\n               let draw = new ol.interaction.Draw({\r\n                  source: this.$data.vectorSource,\r\n                  type: \"Point\",\r\n               });\r\n               draw.on('drawend', (event) => {\r\n                  let feature = event.feature;\r\n                  let coord = ol.proj.toLonLat(feature.getGeometry().getCoordinates());\r\n                  \r\n                  this.$data.vectorSource.clear();\r\n                  this.olMap.removeInteraction(draw);\r\n                  button.classList.remove(\"active\");\r\n                  \r\n                  this.$props.object[this.$props.field] = {\r\n                     lon:coord[0],\r\n                     lat:coord[1],\r\n                  };\r\n               });\r\n                        \r\n               const button = document.createElement('button');\r\n               button.innerHTML = '&#9678;';\r\n               button.addEventListener(\r\n                  'click',\r\n                  (evt) => {\r\n                     evt.preventDefault();\r\n                     \r\n                     if (button.classList.contains(\"active\")) {\r\n                        this.olMap.removeInteraction(draw);\r\n                        button.classList.remove(\"active\");\r\n                     } else {\r\n                        this.olMap.addInteraction(draw);\r\n                        draw = this.olMap.getInteractions().getArray().slice(-1)[0]; // update ref as it changes when added\r\n                        button.classList.add(\"active\");\r\n                     }\r\n                  },\r\n                  false);\r\n               \r\n               this.olMap.getViewport().getElementsByClassName(\"ol-v-custom-buttons\")[0].appendChild(button);\r\n            }\r\n        }.bind(this)); \r\n    }\r\n}\r\n</script>","<template>\r\n    <q-field v-bind=\"$attrs\" >\r\n        <template v-slot:append>\r\n            <q-icon name=\"arrow_drop_down\" />\r\n        </template>\r\n        <template v-slot:control>\r\n            <div class=\"self-center full-width no-outline\" tabindex=\"0\">{{ getSelectedLabel() }}</div>\r\n        </template>\r\n        <q-menu :breakpoint=\"600\" fit ref=\"menu\">\r\n            <q-tree :nodes=\"convertListToTree($props.list, $props.subTreeKey)\" \r\n                    :node-key=\"$props.keyField\" :label-key=\"$props.labelField\" \r\n                    v-model:expanded=\"expandedNodes\"\r\n                    @update:expanded=\"handleExpanded\" \r\n                    v-model:selected=\"selectedNode\" \r\n                    @update:selected=\"handleSelected\" >\r\n            </q-tree>\r\n        </q-menu>\r\n    </q-field>\r\n</template>\r\n<script>\r\nimport * as Quasar from \"quasar\"\r\n\r\nexport default {\r\n\tprops : {\r\n\t\tmodelValue:\t\t\t{ type: String, required: true},\r\n\t\tlist:          \t{ type: Array,  required: true },\r\n\t\tkeyField:     \t{ type: String,  required: true },\r\n\t\tlabelField:  \t{ type: String,  required: true },\r\n\t\tparentKeyField: { type: String,  required: true },\r\n\t\tsubTreeKey: \t{ type: String,  required: false },\r\n\t},\r\n\temits: [\"update:modelValue\"],\r\n\tdata: function () {\r\n\t\treturn {\r\n\t\t\tselectedNode: this.$props.modelValue,\r\n\t\t\texpandedNodes: [this.$props.modelValue]\r\n\t\t}\r\n\t},\r\n\twatch: { \r\n          modelValue: function(newVal) {\r\n              this.$data.selectedNode = newVal;\r\n          }\r\n    },\r\n\tmethods: {\r\n\t\thandleSelected: function(target) {\r\n\t\t\tthis.$emit('update:modelValue', this.$data.selectedNode);\r\n\t\t\tif (target) {\r\n\t\t\t\tthis.$refs.menu.hide()\r\n\t\t\t}\r\n\t\t},\r\n\t\thandleExpanded: function() {\r\n\t\t\tQuasar.debounce(this.$refs.menu.updatePosition, 500)();\r\n\t\t},\r\n\t\tgetSelectedLabel: function() {\r\n\t\t\tif (this.$data.selectedNode) {\r\n\t\t\t\tlet node =  this.$props.list\r\n\t\t\t\t\t.find(function(rse) { \r\n\t\t\t\t\t\treturn rse[this.$props.keyField] === this.$data.selectedNode \r\n\t\t\t\t\t}.bind(this));\r\n\t\t\t\treturn node[this.$props.labelField]\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t},\r\n\t\tconvertListToTree: function (list, subTreeKey) {\r\n\t\t\tvar map = {}, node, roots = [], i, newList = [];\r\n\t\t\tfor (i = 0; i < list.length; i += 1) {\r\n\t\t\t\tmap[list[i][this.$props.keyField]] = i; // initialize the map\r\n\t\t\t\tnewList.push({...list[i], children : []}); // initialize the newList with children\r\n\t\t\t}\r\n\t\t\r\n\t\t\tfor (i = 0; i < list.length; i += 1) {\r\n\t\t\t\tnode = newList[i];\r\n\t\t\t\tif (node[this.$props.parentKeyField]) {\r\n\t\t\t\t\t// if you have dangling branches check that map[node.parentId] exists\r\n\t\t\t\t\tnewList[map[node[this.$props.parentKeyField]]].children.push(node);\r\n\t\t\t\t} else {\r\n\t\t\t\t\troots.push(node);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (subTreeKey) {\r\n\t\t\t\treturn [newList[map[subTreeKey]]];\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn roots;\r\n\t\t}\r\n\t}\r\n}\r\n</script>","<template>\r\n    <q-uploader :url=\"$props.url\" \r\n            auto-upload\r\n            :field-name=\"$props.fieldName\"\r\n            :multiple=\"$props.multiple\"\r\n            :max-files=\"$props.multiple ? undefined : 1\"\r\n            :headers=\"[{name: 'Accept', value: 'application/json'}]\"\r\n            @uploaded=\"uploadedFiles\"\r\n            @failed=\"failedFiles\"\r\n            :readonly=\"$props.readonly || !globalCanAddFiles([])\"\r\n            v-bind=\"$attrs\"\r\n            ref=\"quasarUploader\">\r\n            <template v-if=\"$props.simple\" v-slot:header ></template> \r\n            <template v-else v-slot:header=\"slotProps\">\r\n                    <div class=\"q-uploader__header-content flex flex-center no-wrap q-gutter-xs\">\r\n                        <q-btn v-if=\"slotProps.queuedFiles.length > 0 && !slotProps.readonly\" type=\"a\" :icon=\"$q.iconSet.uploader.clear_all\" flat dense @click=\"slotProps.removeQueuedFiles\">\r\n                           <q-tooltip>{{$q.lang.vui.uploader.clear_all}}</q-tooltip>\r\n                        </q-btn>\r\n                        <div class=\"col column justify-center\">\r\n                          <div v-if=\"$props.label !== void 0\" class=\"q-uploader__title\">{{$props.label}}</div>\r\n                          <div v-if=\"slotProps.isUploading\" class=\"q-uploader__subtitle\">{{getGlobalSizeLabel()}} / {{slotProps.uploadProgressLabel}}</div>\r\n                          <div v-else class=\"q-uploader__subtitle\">{{getGlobalSizeLabel()}}</div>\r\n                        </div>\r\n                        <q-spinner v-if=\"slotProps.isUploading\" class=\"q-uploader__spinner\"></q-spinner>\r\n                        <q-btn v-if=\"slotProps.isUploading  && !slotProps.readonly\" type=\"a\" href=\"#\" :icon=\"$q.iconSet.uploader.clear\" flat dense @click=\"slotProps.abort\">\r\n                            <q-tooltip>{{$q.lang.vui.uploader.clear}}</q-tooltip>\r\n                        </q-btn>\r\n                        <q-btn v-if=\"globalCanAddFiles(slotProps.files) && !slotProps.readonly\" type=\"a\" href=\"#\" :icon=\"$q.iconSet.uploader.add\" flat dense>\r\n                            <q-uploader-add-trigger></q-uploader-add-trigger>\r\n                            <q-tooltip>{{$q.lang.vui.uploader.add}}</q-tooltip>\r\n                        </q-btn>\r\n                    </div>\r\n            </template> \r\n            <template v-slot:list=\"slotProps\">\r\n               <div class=\"row\">\r\n                <q-field :label-width=\"3\"\r\n                            :label=\"$props.simple ? $props.label : undefined\"\r\n                            class=\"col\"\r\n                            orientation=\"vertical\"\r\n                            stack-label\r\n                            borderless>\r\n                        <template v-slot:control>\r\n                        <div class=\"col column justify-center\">\r\n                            <template v-if=\"!$props.readonly\" >\r\n                                <template v-for=\"file in slotProps.files\" :key=\"file.name\">\r\n                                    <div v-if=\"file.__status !== 'uploaded'\"\r\n                                        class=\"q-uploader__file relative-position\" \r\n                                        :class=\"{'q-uploader__file--failed': file.__status === 'failed',\r\n                                                'q-uploader__file--uploaded': file.__status === 'uploaded'}\">\r\n                                        <div class=\"q-uploader__file-header row flex-center no-wrap\" >\r\n                                            <q-icon v-if=\"file.__status === 'failed'\" class=\"q-uploader__file-status\" :name=\"$q.iconSet.type.negative\" color=\"negative\"></q-icon>\r\n                                            <q-icon class=\"q-uploader__file-status\" \r\n                                                :name=\"file.type.indexOf('video/') === 0 ? 'movie': \r\n                                                (file.type.indexOf('image/') === 0 ? 'photo' :\r\n                                                (file.type.indexOf('audio/') === 0 ? 'audiotrack' : 'insert_drive_file'))\" ></q-icon>\r\n                                            <div class=\"q-uploader__file-header-content col\">\r\n                                            <div class=\"q-uploader__title\">{{file.name}}</div>\r\n                                            </div>\r\n                                            <q-circular-progress v-if=\"file.__status === 'uploading'\" :value=\"file.__progress\" :min=\"0\" :max=\"1\" :indeterminate=\"file.__progress === 0\"></q-circular-progress>\r\n                                            <q-btn v-if=\"file.__status === 'failed'\" round dense flat :icon=\"$q.iconSet.uploader['clear']\"  @click=\"slotProps.removeFile(file)\"></q-btn>\r\n                                        </div>\r\n                                    </div>\r\n                                </template>\r\n                            </template>\r\n                            <div v-for=\"file in files\" :key= \"file.name\" class=\"q-uploader__file relative-position q-uploader__file--uploaded\" >\r\n                                <div class=\"q-uploader__file-header row flex-center no-wrap\">\r\n                                    <q-icon class=\"q-uploader__file-status\" \r\n                                        :name=\"file.type.indexOf('video/') === 0 ? 'movie': \r\n                                        (file.type.indexOf('image/') === 0 ? 'photo' :\r\n                                        (file.type.indexOf('audio/') === 0 ? 'audiotrack' : 'insert_drive_file'))\" ></q-icon>\r\n                                    <div class=\"q-uploader__file-header-content col\">\r\n                                    <div class=\"q-uploader__title\">{{file.name}}</div>\r\n                                    </div>\r\n                                    <q-btn v-if=\"!$props.readonly\" round dense flat icon=\"delete\" @click=\"removeRemoteFile(file)\"></q-btn>                      \r\n                                    <q-btn round dense flat icon=\"file_download\"  @click=\"$emit('download-file', file.fileUri)\" ></q-btn>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        </template> \r\n                    </q-field>\r\n                    <div class=\"q-field__after q-field__marginal row no-wrap items-center\" v-if=\"$props.simple && !$props.readonly\">\r\n                            <q-spinner v-if=\"slotProps.isUploading\" class=\"q-uploader__spinner\"></q-spinner> \r\n                            <q-btn v-if=\"globalCanAddFiles(slotProps.files)\" type=\"a\" :icon=\"$q.iconSet.uploader.add\" flat dense>\r\n                                <q-uploader-add-trigger></q-uploader-add-trigger>\r\n                            </q-btn>\r\n                            <q-btn v-if=\"slotProps.isUploading\" type=\"a\" :icon=\"$q.iconSet.uploader.clear\" flat dense \r\n                                @click=\"slotProps.abort\">\r\n                                <q-tooltip>{{$q.lang.vui.uploader.clear}}</q-tooltip>\r\n                            </q-btn>\r\n                    </div>\r\n                 </div>\r\n            </template>   \r\n        </q-uploader>\r\n</template>\r\n<script>\r\n// we import all of `format`\r\nimport { format } from 'quasar'\r\n// destructuring to keep only what is needed\r\nconst { humanStorageSize } = format\r\n\r\nexport default {\r\n  props: {\r\n        readonly: Boolean,\r\n        label: String,\r\n        simple : {type: Boolean, default: false},\r\n        fileInfoUris: Array,\r\n        fieldName: String,\r\n        url : String,\r\n        downloadUrl : { type : String, default : (props) => props.baseUrl + '/download'},\r\n        multiple: { type : Boolean, default : true  }\r\n  },\r\n  emits: [\"update:file-info-uris\", \"download-file\"],\r\n  computed: {\r\n      \r\n  },\r\n  mounted() {\r\n      this.changeIcon();\r\n      var xhrParams = new URLSearchParams()\r\n      this.fileInfoUris.forEach((fileInfoUri) => {\r\n          xhrParams.append(this.fieldName, fileInfoUri);\r\n      });\r\n\r\n      this.$http.get(this.url + '/fileInfos', { params: xhrParams, credentials: false })\r\n            .then(function (response) { //Ok\r\n                    var uiFileInfos = response.data;\r\n\r\n                    this.files = uiFileInfos.map((uiFileInfo) => {\r\n                        return uiFileInfo;\r\n                    })\r\n                }.bind(this))\r\n            .catch(function (error) { //Ko\r\n                    if(error.response) {\r\n                        this.$q.notify(error.response.status + \":\" + error.response.statusText + \" Can't load file \"+xhrParams);\r\n                    } else {\r\n                        this.$q.notify(error + \" Can't load file \"+xhrParams);\r\n                    }\r\n                }.bind(this)\r\n        );\r\n  },\r\n  data : function() {\r\n      return {\r\n          files:[],\r\n      }\r\n  },\r\n  methods: {\r\n    uploadedFiles(uploadInfo) {\r\n        var newFileInforUris = [...this.fileInfoUris];\r\n        uploadInfo.files.forEach(function (file) {\r\n            this.files.push(file);\r\n            file.fileUri = file.xhr.response;\r\n            newFileInforUris.push(file.fileUri)\r\n            this.$refs.quasarUploader.removeFile(file)\r\n            this.$emit('update:file-info-uris', newFileInforUris);\r\n        }.bind(this));\r\n    },\r\n    failedFiles(info) {\r\n        if (info.xhr.status === 413) {\r\n             this.$q.notify({\r\n                type: 'negative', message: this.$q.lang.vui.uploader.fileErrorTooBig,\r\n                multiLine: true, timeout: 2500,\r\n               });\r\n        } else {\r\n            this.$q.notify({\r\n                type: 'negative', message: this.$q.lang.vui.uploader.fileErrorUnknown,\r\n                multiLine: true, timeout: 2500,\r\n               });\r\n        }\r\n    },\r\n    start(a,b,c){\r\n        this.$refs.quasarUploader;\r\n    },\r\n    removeRemoteFile(removedFile) {\r\n            var indexOfFile = this.files.indexOf(removedFile);\r\n            var newFileInforUris = [...this.fileInfoUris];\r\n            var xhrParams = {};\r\n            xhrParams[this.fieldName] = removedFile.fileUri;\r\n                this.$http.delete(this.url, { params: xhrParams, credentials: false })\r\n                    .then(function (/*response*/) { //Ok\r\n                        if (this.multiple) {\r\n                            this.files.splice(indexOfFile, 1)\r\n                            newFileInforUris.splice(indexOfFile, 1);\r\n                        } else {\r\n                            this.files.splice(0);\r\n                            newFileInforUris.splice(0);\r\n                        }\r\n                        this.$emit('update:file-info-uris', newFileInforUris);\r\n                        //this.uploader_forceComputeUploadedSize(componentId);\r\n                    }.bind(this))\r\n                    .catch(function (error) { //Ko\r\n                        this.$q.notify(error.response.status + \":\" + error.response.statusText + \" Can't remove temporary file\");\r\n                    }.bind(this));\r\n            \r\n    },\r\n    globalCanAddFiles(quasarFiles) {\r\n        if (this.multiple) {\r\n            return !this.$props.readonly\r\n        } else {\r\n            return !this.$props.readonly && \r\n            (quasarFiles.filter( file => file.__status != \"uploaded\").length //client-side\r\n            + this.fileInfoUris.length) // server-side\r\n            < 1\r\n        }\r\n    }, \r\n    changeIcon () {\r\n        this.$q.iconSet.uploader.removeUploaded = 'delete_sweep'\r\n        this.$q.iconSet.uploader.done = 'delete'\r\n    },\r\n    addFiles(files) {\r\n        var quasarUploader = this.$refs.quasarUploader;\r\n        if(this.globalCanAddFiles(quasarUploader.files)) {\r\n         this.$refs.quasarUploader.addFiles(files);\r\n        }\r\n    },\r\n    getGlobalSize() {\r\n        var quasarFileSize = this.files\r\n        .filter( file => file.__status != \"uploaded\")\r\n        .reduce( (totalSize, file) => {\r\n            return totalSize + file.size;\r\n        },0 )\r\n\r\n        var remoteFilesSize = this.files.reduce( (totalSize, file) => {\r\n            return totalSize + file.size;\r\n        },0 )\r\n        return quasarFileSize + remoteFilesSize;\r\n    },\r\n    getGlobalSizeLabel() {\r\n        return humanStorageSize(this.getGlobalSize());\r\n    }\r\n  }\r\n}\r\n</script>","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import {hsl as colorHsl} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction hsl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHsl(start)).h, (end = colorHsl(end)).h),\n        s = color(start.s, end.s),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.s = s(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hsl(hue);\nexport var hslLong = hsl(color);\n","import {color} from \"d3-color\"\r\nimport {interpolateHsl, interpolateRgb} from \"d3-interpolate\"\r\nlet d3 = {color, interpolateHsl, interpolateRgb}\r\n\r\nexport function getColors(colorName, nbSeries, opacity) {\r\n\tif (\"DEFAULT\" == colorName) {\r\n\t\t//default on ne fait rien\r\n\t\treturn;\r\n\t} \r\n\tvar mainColors\r\n\tvar interpolation = _interpolateHsl; //par défaut interpolation HSL\r\n\tif (\"RAINBOW\" == colorName || \"iRAINBOW\" == colorName) {\r\n\t\t\tmainColors = [ \"#FF0000\", \"#FFA500\", \"#FFFF00\", \"#00FF00\", \"#00FF00\", \"rgb(75, 0, 130)\", \"rgb(238, 130, 238)\" ];\r\n\t} else if (\"SPECTRUM\" == colorName || \"iSPECTRUM\" == colorName) {\r\n\t\tmainColors = [ \"rgb(230, 30, 30)\", \"rgb(230, 230, 30)\", \"rgb(30, 230, 30)\", \"rgb(30, 230, 230)\", \"rgb(30, 30, 230)\", \"rgb(230, 30, 230)\", \"rgb(230, 30, 30)\" ];\r\n\t\tinterpolation = _interpolateCatmul;\r\n\t} else if (\"RED2GREEN\" == colorName || \"iRED2GREEN\" == colorName) {\r\n\t\tmainColors = [ \"rgb(255, 51, 51)\", \"rgb(250, 235, 0)\", \"rgb(51, 200, 51)\" ];\r\n\t} else if (\"GREEN2BLUE\" == colorName || \"iGREEN2BLUE\" == colorName) {\r\n\t\tmainColors = [ \"rgb(51, 153, 51)\", \"rgb(51, 153, 200)\", \"rgb(51, 51, 255)\" ];\r\n\t} else if (\"HEAT\" == colorName || \"iHEAT\" == colorName) {\r\n\t\tmainColors = [ \"rgb(255, 51, 51)\", \"rgb(255, 255, 51)\", \"rgb(51, 153, 51)\", \"rgb(51, 153, 255)\" ];\r\n\t} else if (\"GREEN:INTENSITY\" == colorName || \"iGREEN:INTENSITY\" == colorName) {\r\n\t\tmainColors = [ \"rgb(51, 153, 51)\", \"rgb(170, 250, 170)\" ];\r\n\t\tinterpolation = _interpolateLinear;\r\n\t} else if (\"ANDROID\" == colorName || \"iANDROID\" == colorName) {\r\n\t\tmainColors = [ \"#0099CC\", \"#9933CC\", \"#CC0000\", \"#FF8800\", \"#669900\"  ];\r\n\t\t//mainColors = [ \"#33B5E5\", \"#AA66CC\", \"#ff4444\", \"#ffbb33\", \"#99cc00\" ];\r\n\t} else if (\"ANDROID:LIGHT\" == colorName || \"iANDROID:LIGHT\" == colorName) {\r\n\t\tmainColors = [ \"#33B5E5\", \"#AA66CC\", \"#ff4444\", \"#ffbb33\", \"#99cc00\" ];\r\n\t}  \r\n\tif(colorName.charAt(0) == 'i') { \r\n\t\tmainColors = mainColors.reverse(); \r\n\t}\r\n\tvar resultColors;\r\n\tvar isCycle = mainColors[0] == mainColors[mainColors.length-1];\r\n\tvar resultColors = interpolation(mainColors, nbSeries + (isCycle ? 1 : 0)); //si les couleurs représente un cycle, on exclue la derniére couleur (qui est aussi la premiére)\r\n\t\r\n\tif (opacity) {\r\n\t\t// use the alpha\r\n\t\treturn resultColors.map(function( val, i ) {\r\n\t\t\tvar d3Color = d3.color(val);\r\n\t\t\td3Color.opacity = opacity;\r\n\t\t\treturn d3Color.formatRgb();\r\n\t\t});\r\n\t}\r\n\treturn resultColors;\r\n};\r\n\r\nfunction _interpolateHsl(mainColors, nbColors) {\r\n\treturn _point2PointColors(mainColors, nbColors, function(t, c1, c2, c3, c4) {\r\n\t\treturn d3.interpolateHsl(c2, c3)(t);\r\n\t}); \r\n};\r\n\r\nfunction _interpolateLinear(mainColors, nbColors) {\r\n\treturn _point2PointColors(mainColors, nbColors, function(t, c1, c2, c3, c4) {\r\n\t\treturn d3.interpolateRgb(c2, c3)(t);\r\n\t});\r\n};\r\n\r\nfunction _interpolateCatmul(mainColors, nbColors) {\r\n\treturn _point2PointColors(mainColors, nbColors, function(t, c1, c2, c3, c4) {\r\n\t\tvar empty = {r:null,g : null,b : null };\r\n\t\t\r\n\t\tvar nc1 = c1 ? d3.rgb(c1) : empty;\r\n\t\tvar nc2 = d3.rgb(c2);\r\n\t\tvar nc3 = d3.rgb(c3);\r\n\t\tvar nc4 = c4 ? d3.rgb(c4) : empty;\r\n\t\tvar red = ( Math.max(Math.min(Math.round(_catmull(t, nc1.r, nc2.r, nc3.r, nc4.r)), 255), 0));\r\n\t\tvar green = ( Math.max(Math.min(Math.round(_catmull(t, nc1.g, nc2.g, nc3.g, nc4.g)), 255), 0));\r\n\t\tvar blue = (Math.max(Math.min(Math.round(_catmull(t, nc1.b, nc2.b, nc3.b, nc4.b)), 255), 0));\r\n\t\treturn d3.rgb(red,green,blue);\r\n\t});\r\n};\r\n\r\nfunction  _point2PointColors(mainColors, nbColors, colorInterpolation) {\r\n\tif(nbColors == 1) {\r\n\t\treturn [mainColors[0]];\r\n\t}\r\n\tvar startJ = 0;\r\n\tvar interpolatedColor = new Array();\r\n\tvar nbInterpolatedColor = mainColors.length;\r\n\tvar nbInterpolatedColorDegree = 0;\r\n\twhile ((nbInterpolatedColor - 1) % (nbColors - 1) != 0 && nbInterpolatedColorDegree < 20) {\r\n\t\tnbInterpolatedColorDegree++;\r\n\t\tnbInterpolatedColor = mainColors.length + nbInterpolatedColorDegree * (mainColors.length - 1);\r\n\t}\r\n\tnbInterpolatedColorDegree++;\r\n\tfor (var i = 0; i < mainColors.length - 1; i++) {\r\n\t\tvar c1 = i - 1 >= 0 ? mainColors[i - 1] : null;\r\n\t\tvar c2 = mainColors[i];\r\n\t\tvar c3 = mainColors[i + 1];\r\n\t\tvar c4 = i + 2 < mainColors.length ? mainColors[i + 2] : null;\r\n\t\tfor (var j = startJ; j < nbInterpolatedColorDegree + 1; j++) {\r\n\t\t\tvar color = colorInterpolation(j / nbInterpolatedColorDegree, c1, c2, c3, c4);\r\n\t\t\tinterpolatedColor.push(color);\r\n\t\t}\r\n\t\tstartJ = 1; //on ne refait pas le premier point (dejé atteint)\r\n\t}\r\n\tvar result = new Array();\r\n\tfor (var i = 0; i < nbColors; i++) {\r\n\t\tvar index = (interpolatedColor.length - 1) / (nbColors - 1) * i;\r\n\t\t//var index = i % (interpolatedColor.length - 1);\r\n\t\tresult.push(interpolatedColor[index]);\r\n\t}\r\n\treturn result;\r\n};\r\n\r\n//Catmull-Rom spline interpolation function\r\n//p0 et p3 servent a orienter le chemin entre p1 et p2\r\n//t est une fraction entre \r\nfunction _catmull (t, inP0, p1, p2, inP3) {\r\n\t\tvar delta = p2 - p1;\r\n\t\tvar p0 = inP0 != null ? inP0 : p1 - delta;\r\n\t\tvar p3 = inP3 != null ? inP3 : p2 + delta;\r\n\treturn 0.5 * (2 * p1 + (-p0 + p2) * t + (2 * p0 - 5 * p1 + 4 * p2 - p3) * t * t + (-p0 + 3 * p1 - 3 * p2 + p3) * t * t * t);\r\n}","<template>\r\n    <canvas ref=\"graphCanvas\"></canvas>\r\n</template>\r\n<script>\r\nimport {getColors} from './dashboard-tools'\r\n\r\nexport default {\r\n\tprops : {\r\n        title:                          { type: String,  },\r\n\t\ttype:          \t\t\t\t\t{ type: String,  required: true },\r\n\t\tdatas:                          { type: Array,   },\r\n\t\tdataSeriesTranslator:           { type: Function,},\r\n\t\tqueryUrl:                       { type: String,  },\r\n        queryClusteredMeasure:     \t\t{ type: Object,  },\r\n\t\tqueryMeasures:     \t\t\t\t{ type: Array,   },\r\n\t\tqueryDataFilter:  \t\t\t\t{ type: Object,  },\r\n\t\tqueryTimeFilter:\t\t\t\t{ type: Object,  },\r\n\t\tqueryGroupBy:                   { type: String,  },\r\n        colors: \t\t\t\t\t\t{ type: String,  required: true,   default:'DEFAULT' },\r\n\t\tlabels:                         { type: Object,  required: true },\r\n        minTime:                        { type: String, },\r\n        maxTime:                        { type: String, },\r\n        fillGapDim:                     { type: String, },\r\n        timeFormat:                     { type: String,  required: true,   default:'DD/MM/YYYY HH:mm' },\r\n        additionalOptions: \t\t\t\t{ type: Object, },\r\n\t},\r\n\tcreated : function () {\r\n       this.$data.graphChartId = \"graphChartId_\"+this.hashCode(this.type+'_'+JSON.stringify(this.labels));\r\n       if(!window.dashboardGraphChart) {\r\n           window.dashboardGraphChart = {};\r\n       }     \r\n    },\r\n    mounted: function() {\r\n       if(this.queryUrl) {\r\n           this.fetchData();\r\n       } else {\r\n           this.$data.graphDataSeriesTranslator = this.dataSeriesTranslator?this.dataSeriesTranslator:this.defaultDataSeriesTranslator;\r\n           var translatedData = this.$data.graphDataSeriesTranslator(this.datas);\r\n           this.showChartJsChart(translatedData.dataValues, translatedData.dataMetrics, translatedData.timedSeries, this.queryGroupBy, this.labels, this.colors, this.title, this.additionalOptions);\r\n       }  \r\n    },\r\n\tdata: function () {\r\n\t\treturn {\r\n\t\t\tgraphChartId: {},\r\n            graphDataSeriesTranslator: this.defaultDataSeriesTranslator,\r\n            graphDataSets: []\r\n\t\t}\r\n\t},\r\n\twatch: { \r\n          datas: {\r\n             handler(newValue, oldValue) {\r\n                if(!!this.datas) {\r\n                    var translatedData = this.$data.graphDataSeriesTranslator(newValue);\r\n                    this.showChartJsChart(translatedData.dataValues, translatedData.dataMetrics, translatedData.timedSeries, this.queryGroupBy, this.labels, this.colors, this.title, this.additionalOptions);\r\n                }\r\n            },\r\n            deep: true\r\n          },\r\n          queryTimeFilter: {\r\n             handler(newValue, oldValue) {\r\n                if(!!this.queryUrl && this.hashCode(JSON.stringify(newValue)) !== this.hashCode(JSON.stringify(oldValue))) {\r\n\t\t\t\t    this.fetchData();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdeep: true\r\n          },\r\n          queryDataFilter: {\r\n             handler(newValue, oldValue) {\r\n                if(!!this.queryUrl && this.hashCode(JSON.stringify(newValue)) !== this.hashCode(JSON.stringify(oldValue))) {\r\n                    this.fetchData();\r\n                }\r\n            },\r\n            deep: true\r\n          }\r\n    },\r\n\tmethods: {\r\n        hashCode: function(s) {\r\n            let h;\r\n            for(let i = 0; i < s.length; i++) \r\n                  h = Math.imul(31, h) + s.charCodeAt(i) | 0;\r\n        \r\n            return h;\r\n        },\r\n\t\tfetchData: function() {\r\n\t\t\tvar dataQuery = this.buildQuery();\r\n            this.$http.post(this.queryUrl, dataQuery )\r\n            .then( function (response) { //Ok\r\n                var translatedData = this.$data.graphDataSeriesTranslator(response.data);\r\n                this.showChartJsChart(translatedData.dataValues, translatedData.dataMetrics, translatedData.timedSeries,this.queryGroupBy, this.labels, this.colors, this.title, this.additionalOptions);\r\n            }.bind(this));\r\n        },\r\n\t\tbuildQuery: function() {\r\n\t\t\tvar dataQuery = { dataFilter : this.queryDataFilter, timeFilter : this.queryTimeFilter };\r\n\t\t\tif (this.queryMeasures) {\r\n\t\t\t\tdataQuery['measures'] = this.queryMeasures;\r\n\t\t\t}\r\n\t\t\tif (this.queryClusteredMeasure) {\r\n\t\t\t\tdataQuery['clusteredMeasure'] = this.queryClusteredMeasure;\r\n\t\t\t}\r\n\t\t\tif (this.queryGroupBy) {\r\n\t\t\t\tdataQuery['groupBy'] = this.queryGroupBy;\r\n\t\t\t}\r\n\t\t\treturn dataQuery;\r\n\t\t},\r\n\r\n\t\tshowChartJsChart: function(datas, dataMetrics, timedSeries, queryGroupBy, dataLabels, dataColors, chartTitle, additionalOptions) {\r\n\t\t\tvar xLabels = Object.values(dataLabels);\r\n\t\t\tvar chartOptions;\r\n\t\t\tvar chartJsDataSets;\r\n\t\t\tvar chartJsType;\r\n\t\t\tif ( this.type === \"bubbles\") {\r\n\t\t\t\tchartJsType = 'bubble';\r\n\t\t\t\tvar realLabels = dataLabels.filter(metric => metric !== queryGroupBy);\r\n\t\t\t\txLabels = Object.values(realLabels);\r\n                var bubblesData = this.toChartJsBubblesData(datas, realLabels.keys(), realLabels, queryGroupBy);\r\n\t\t\t\tchartJsDataSets = [ {data: bubblesData }];\r\n\t\t\t\tchartOptions = this.getChartJsBubblesOptions(datas, realLabels.keys(), queryGroupBy, realLabels, chartTitle, additionalOptions);\r\n\t\t\t\tthis.setChartJsColorOptions(chartJsDataSets, dataColors, 0.5);\r\n\t\t\t} else if (this.type ===\"linechart\") {\r\n\t\t\t\tchartJsType = 'line';\r\n\t\t\t\tchartJsDataSets = this.toChartJsData(datas, dataLabels, timedSeries, queryGroupBy);\r\n\t\t\t\tchartOptions = this.getChartJsLineOptions(datas, queryGroupBy, dataLabels, timedSeries, chartTitle, additionalOptions);\r\n\t\t\t\tthis.setChartJsColorOptions(chartJsDataSets, dataColors);\r\n\t\t\t} else if (this.type ===\"stakedbarchart\") {\r\n\t\t\t\tchartJsType = 'bar';\r\n\t\t\t\tchartJsDataSets = this.toChartJsData(datas, dataLabels, timedSeries, queryGroupBy);\r\n\t\t\t\tchartOptions = this.getStackedOptions(datas, queryGroupBy, dataLabels, timedSeries, chartTitle, additionalOptions);\r\n\t\t\t\tthis.setChartJsColorOptions(chartJsDataSets, dataColors);\r\n\t\t\t} else if (this.type ===\"polararea\") {\r\n\t\t\t\tchartJsType = 'polarArea';\r\n\t\t\t\tchartJsDataSets = this.toChartJsData(datas, dataLabels, timedSeries, queryGroupBy);\r\n\t\t\t\tvar pieData  = this.toChartJsPieData(chartJsDataSets, dataLabels);\r\n\t\t\t\tchartJsDataSets = pieData.datasets;\r\n\t\t\t\txLabels = pieData.labels;\r\n\t\t\t\tchartOptions = this.getPolarChartOptions(datas, queryGroupBy, dataLabels, timedSeries, chartTitle, additionalOptions);\r\n\t\t\t\tthis.setChartJsPieColorOptions(chartJsDataSets, dataColors);\r\n\t\t\t} else if (this.type ===\"doughnut\") {\r\n\t\t\t\tchartJsType = 'doughnut';\r\n\t\t\t\tvar realLabels = dataLabels.filter(metric => metric !== queryGroupBy);\r\n\t\t\t\tchartJsDataSets = this.toChartJsData(datas, realLabels, timedSeries, queryGroupBy);\r\n\t\t\t\tvar pieData  = this.toChartJsPieData(chartJsDataSets, dataLabels);\r\n\t\t\t\tchartJsDataSets = pieData.datasets;\r\n\t\t\t\txLabels = pieData.labels;\r\n\t\t\t\tthis.setChartJsPieColorOptions(chartJsDataSets, dataColors);\r\n\t\t\t\tchartOptions = {\r\n\t\t\t\t\tlegend : {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\tposition: 'bottom'\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\t//\r\n\t\t\tvar ctx = this.$.refs.graphCanvas;\r\n\t\t\tvar finalOptions = this.mergeDeep(chartOptions,additionalOptions);\r\n\t\t\tif(!window.dashboardGraphChart[this.$data.graphChartId]) {\r\n    \t\t\tlet chartData = {\r\n                    datasets: chartJsDataSets\r\n                };\r\n                if(!timedSeries) {\r\n                    chartData.labels = xLabels;\r\n                }\r\n    \t\t\tvar graphChart = new Chart(ctx,{\r\n    \t\t\t\ttype: chartJsType,\r\n    \t\t\t\tdata: chartData,\r\n    \t\t\t\toptions: finalOptions\r\n    \t\t\t});\r\n    \t\t\twindow.dashboardGraphChart[this.$data.graphChartId] = graphChart;\r\n\t\t\t} else {\r\n                var graphChart =  window.dashboardGraphChart[this.$data.graphChartId];\r\n                graphChart.data.datasets = chartJsDataSets;\r\n\t\t\t    if(this.hashCode(JSON.stringify(graphChart.options.scales)) !== this.hashCode(JSON.stringify(finalOptions.scales))) {\r\n                    graphChart.options.scales = finalOptions.scales;\r\n                }\r\n                graphChart.update(\"none\");\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetChartJsColorOptions: function(datasets, dataColors, opacity) {\r\n\t\t\tif(dataColors) {\r\n\t\t\t\tvar myColors = getColors(dataColors, datasets.length, opacity);\r\n\t\t\t\tvar myBgColors = getColors(dataColors, datasets.length, opacity?opacity*0.25:0.25);\r\n                for(var i = 0 ; i<datasets.length; i++) {\r\n\t\t\t\t\tdatasets[i].borderColor = myColors[i];\r\n                    datasets[i].backgroundColor = myBgColors[i];\r\n                    datasets[i].pointBackgroundColor = myColors[i];\r\n                    datasets[i].pointBorderColor = '#FFFFFFAF';\r\n                    datasets[i].pointBorderWidth = 2;\r\n\t\t\t\t\tdatasets[i].fill = true;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t setChartJsPieColorOptions: function(datasets, dataColors, opacity) {\r\n\t\t\tif(dataColors) {\r\n\t\t\t\tfor(var i = 0 ; i<datasets.length; i++) {\r\n\t\t\t\t\tdatasets[i].backgroundColor = getColors(dataColors, datasets[i].data.length, opacity);//we have one dataset\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\r\n\t\t getChartJsBubblesOptions: function(datas, dataMetrics, queryGroupBy, dataLabels, chartTitle, additionalOptions){\r\n\t\t\tvar maxRadius = this.getMaxRadius(datas, dataMetrics[2]); //always the third columns\r\n\t\t\tvar xAxisType = this.getAxisType(datas, additionalOptions, 'xAxisType', dataMetrics[0]);\r\n\t\t\tvar yAxisType = this.getAxisType(datas, additionalOptions, 'yAxisType', dataMetrics[1]);\r\n\t\t\treturn {\r\n\t\t\t\t\tscales: {\r\n\t\t\t\t\t\tx: {\r\n\t\t\t\t\t\t\ttype: xAxisType\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\ty: {\r\n\t\t\t\t\t\t\ttype: yAxisType\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\telements: {\r\n\t\t\t\t\t\tpoint: {\r\n\t\t\t\t\t\tradius: function(context) {\r\n\t\t\t\t\t\t\tvar index = context.dataIndex;\r\n\t\t\t\t\t\t\tvar data = context.dataset.data[index];\r\n\t\t\t\t\t\t\tvar size = context.chart.width;\r\n\t\t\t\t\t\t\tvar base = data.r_measure / maxRadius; \r\n\t\t\t\t\t\t\treturn (size / 24) * base;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tlegend: {\r\n\t\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tplugins: {\r\n\t\t\t\t\t\ttooltip: {\r\n\t\t\t\t\t\t\tdisplayColors: false,\r\n\t\t\t\t\t\t\tcallbacks: {\r\n\t\t\t\t\t\t\t\ttitle: function(graphs) {\r\n\t\t\t\t\t\t\t\t\tvar graph = graphs[0]\r\n\t\t\t\t\t\t\t\t\t//we have on serie so we keep only the first one\r\n\t\t\t\t\t\t\t\t\treturn graph.dataset.data[graph.dataIndex].name;\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tlabel: function(graph) {\r\n\t\t\t\t\t\t\t\t\tvar point = graph.dataset.data[graph.dataIndex];\r\n\t\t\t\t\t\t\t\t\treturn [\r\n\t\t\t\t\t\t\t\t\t\tdataLabels[dataMetrics[0]] +\" : \"+ Math.round(point.x),\r\n\t\t\t\t\t\t\t\t\t\tdataLabels[dataMetrics[1]] +\" : \"+ Math.round(point.y),\r\n\t\t\t\t\t\t\t\t\t\tdataLabels[dataMetrics[2]] +\" : \"+ Math.round(point.r_measure),\r\n\t\t\t\t\t\t\t\t\t\t];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tgetPolarChartOptions: function(datas, queryGroupBy, dataLabels, chartTitle, additionalOptions){\r\n\t\t\treturn {};\r\n\t\t},\r\n\r\n\t\t getAxisType: function(datas, additionalOptions, optionKey, metric) {\r\n\t\t\tvar axisType = 'linear';//linear by default\r\n\t\t\tif (additionalOptions) {\r\n\t\t\t\tif (additionalOptions[optionKey]) {\r\n\t\t\t\t\tif(additionalOptions[optionKey] === 'auto') {\r\n\t\t\t\t\t\tvar minMax = getMinMax(datas,metric)//the x axis\r\n\t\t\t\t\t\tif (minMax.max > 0 &&  minMax.min/minMax.max < 0.001){\r\n\t\t\t\t\t\t\taxisType = 'logarithmic';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\taxisType = additionalOptions[optionKey];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\treturn axisType\r\n\t\t},\r\n\t\tgetChartJsLineOptions: function(datas, queryGroupBy, dataLabels, timedSeries, chartTitle, additionalOptions){\r\n\t\t\tvar options =  {\r\n\t\t\t\tscales : {\r\n                    y : {\r\n\t\t\t\t\t\tticks : {\r\n\t\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuggestedMin: 0, \r\n\t\t\t\t\t\tsuggestedMax: 10\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tplugins: {\r\n                    title: {\r\n                        display: !!chartTitle,\r\n                        text: chartTitle?chartTitle:'',\r\n                        align:'start',\r\n                        padding:20,\r\n                        font: {size: 14, weight:'bold'}\r\n                    },\r\n                    legend: {\r\n                        position: 'bottom'                           \r\n                    },\r\n\t\t\t\t\ttooltip: {\r\n\t\t\t\t\t\tmode: 'index',\r\n\t\t\t\t\t\tposition: 'nearest',\r\n\t\t\t\t\t\tboxPadding:3, \r\n\t\t\t\t\t\tbackgroundColor:'#F8F8F8D0', \r\n\t\t\t\t\t\ttitleColor:'#000', \r\n\t\t\t\t\t\tbodyColor:'#000', \r\n\t\t\t\t\t\tborderColor:'#333', \r\n\t\t\t\t\t\tborderWidth:1,\r\n\t\t\t\t\t\t/*callbacks: {\r\n\t\t\t\t\t\t\tlabel: function(graph) {\r\n\t\t\t\t\t\t\t\tvar point = graph.dataset.data[graph.dataIndex];\r\n\t\t\t\t\t\t\t\treturn graph.dataset.label +\" : \"+ Math.floor(point.y);\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\ttitle: function(graphs) {\r\n\t\t\t\t\t\t\t\treturn timeFormatter;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}*/\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\telements : {\r\n\t\t\t\t\tpoint : {\r\n\t\t\t\t\t\tradius : 3,\r\n\t\t\t\t\t\thoverRadius : 6\r\n\t\t\t\t\t},\r\n\t\t\t\t\tline : {\r\n\t\t\t\t\t\ttension: 0\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tif (timedSeries) {\r\n\t\t\t\toptions.scales.x = {\r\n                    type: 'time',\r\n\t\t\t\t\tticks: {\r\n                        source:'auto', \r\n                        major: {\r\n                            enabled: true\r\n                        }\r\n                    },\r\n                    time: {\r\n                      displayFormats: {\r\n                        hour: 'HH:mm',\r\n                        minute: 'HH:mm'\r\n                      }, \r\n                      tooltipFormat: this.timeFormat+' Z'\r\n                    }\r\n\t\t\t\t}\t\t\t\t\r\n                if(this.minTime) {\r\n                    options.scales.x.suggestedMin= dayjs(this.minTime, this.timeFormat).valueOf();\r\n                }\r\n                if(this.maxTime) {\r\n                    options.scales.x.suggestedMax= dayjs(this.maxTime, this.timeFormat).valueOf();\r\n                }\r\n\t\t\t} else {\r\n\t\t\t\toptions.scales.x = {\r\n\t\t\t\t\ttype: 'category'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn options;\r\n\t\t},\r\n\r\n\r\n\t\t getStackedOptions: function(datas, queryGroupBy, dataLabels, timedSeries, chartTitle, additionalOptions){\r\n\t\t\tvar options = this.getChartJsLineOptions(datas, dataQuery, dataLabels, timedSeries, additionalOptions)\r\n\t\t\toptions.scales.x.stacked = true;\r\n\t\t\toptions.scales.y.stacked = true;\r\n\t\t\treturn options;\r\n\t\t},\r\n\r\n\r\n\t\t toChartJsBubblesData: function(data, dataMeasures, dataLabels, groupBy) {\r\n\t\t\tvar newSeries = new Array();\r\n\t\t\tfor(var i = 0 ; i< data.length; i++) {\r\n\t\t\t\tvar serie = new Object();\r\n\t\t\t\tserie.x = data[i].values[dataMeasures[0]];\r\n\t\t\t\tserie.y = data[i].values[dataMeasures[1]];\r\n\t\t\t\tvar r = data[i].values[dataMeasures[2]];\r\n\t\t\t\tif (!this.isEmpty(data[i].values) && !r) {\r\n\t\t\t\t\tr = 0;\r\n\t\t\t\t}\r\n\t\t\t\tserie.name = data[i].values[groupBy]\r\n\t\t\t\tserie.r_measure = r;\r\n\t\t\t\tnewSeries.push(serie);\r\n\t\t\t}\r\n\t\t\treturn newSeries;\r\n\t\t},\r\n\r\n\r\n\t\t getMaxRadius: function(datas, radiusField) {\r\n\t\t\tvar maxRadius = 0 ;\r\n\t\t\tfor(var i = 0 ; i< datas.length; i++) {\r\n\t\t\t\tvar r = datas[i].values[radiusField];\r\n\t\t\t\tif (r > maxRadius) {\r\n\t\t\t\t\tmaxRadius = r;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn Math.max(maxRadius, 1);\r\n\t\t},\r\n\r\n\t\tgetMinMax: function(datas, field) {\r\n\t\t\tvar min= 0;\r\n\t\t\tvar max= 0;\r\n\t\t\tfor(var i = 0 ; i< datas.length; i++) {\r\n\t\t\t\tvar value = datas[i].values[field];\r\n\t\t\t\tif (value > max) {\r\n\t\t\t\t\tmax = value;\r\n\t\t\t\t}\r\n\t\t\t\tif (value < min) {\r\n\t\t\t\t\tmin = value\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\tmin: min,\r\n\t\t\t\tmax: max\r\n\t\t\t}\r\n\t\t},\r\n        defaultDataSeriesTranslator: function(datas) {\r\n            var dataValues = datas.timedDataSeries ? datas.timedDataSeries : datas.tabularDataSeries;\r\n            var dataMetrics = datas.seriesNames;\r\n            return {dataValues: dataValues, dataMetrics:dataMetrics, timedSeries:!!datas.timedDataSeries};\r\n        },\r\n\t\t/** Conversion de données servers List<Instant, Map<NomMetric, value>> en données Chartjs.*/\r\n\t\ttoChartJsData: function(datas, dataLabels, timedSeries, xAxisMeasure) {\r\n\t\t\tlet _endsWith = function(string, suffix) {\r\n\t\t\t\treturn string.indexOf(suffix, string.length - suffix.length) !== -1;\r\n\t\t\t};\r\n\t\t\t//var categorieIndex = new Array();\r\n\t\t\t\r\n\t\t\tvar newSeries = new Array();\r\n\t\t\tfor(const metric in dataLabels) {\r\n\t\t\t\tvar serie = new Object();\r\n\t\t\t\tserie.data = new Array();\r\n                serie.parsing = false;\r\n\t\t\t\tif(dataLabels && dataLabels[metric]) {\r\n\t\t\t\t\tserie.label = dataLabels[metric];\r\n\t\t\t\t}\r\n\t\t\t\tvar lastTime;\r\n                var stepSize = this.timeDimToSecondsStep()*1000;\r\n\t\t\t\tfor(var j = 0 ; j<datas.length; j++) {\r\n                    if(timedSeries && !!this.fillGapDim) {\r\n                        var dataTime = Date.parse(datas[j].time);\r\n                        while(dataTime >= lastTime+2*stepSize) {\r\n                            serie.data.push({x: lastTime+stepSize,y: null});\r\n                            lastTime = lastTime+stepSize;\r\n                        }\r\n                    }\r\n\t\t\t\t\tvar x = timedSeries ? Date.parse(datas[j].time) : datas[j].values[xAxisMeasure]; // timed series by default, else categories \r\n\t\t\t\t\tvar y = datas[j].values[metric];\r\n\t\t\t\t\tif (!this.isEmpty(datas[j].values) && !y) {\r\n\t\t\t\t\t\ty = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tserie.data.push({ x: x, y: y });\r\n\t\t\t\t\tlastTime = x;\r\n\t\t\t\t}\r\n\t\t\t\tif(!serie.label) {\r\n\t\t\t\t\tif(_endsWith(metric, 'count')) {\r\n\t\t\t\t\t\tserie.label = \"Quantité\";\r\n\t\t\t\t\t} else if(_endsWith(metric, 'mean')) {\r\n\t\t\t\t\t\tserie.label = \"Moyenne\";\r\n\t\t\t\t\t} else if(_endsWith(metric, 'min')) {\r\n\t\t\t\t\t\tserie.label = \"Minimum\";\r\n\t\t\t\t\t} else if(_endsWith(metric, 'max')) {\r\n\t\t\t\t\t\tserie.label = \"Maximum\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t\tnewSeries.push(serie);\r\n\t\t\t}\r\n\t\t\treturn newSeries;\r\n\t\t},\r\n\r\n\t\ttoChartJsPieData: function(chartJsDataSets, dataLabels) {\r\n\t\t\tvar newSeries = new Array();\r\n\t\t\tvar labels = new Array();\r\n\t\t\tfor(var i = 0 ; i< chartJsDataSets[0].data.length; i++) {\r\n\t\t\t\tvar serie = new Object();\r\n\t\t\t\tvar label = chartJsDataSets[0].data[i].x;\r\n\t\t\t\tif(dataLabels && dataLabels[chartJsDataSets[0].data[i].x]) {\r\n\t\t\t\t\tlabel = dataLabels[chartJsDataSets[0].data[i].x];\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tlabels.push(label);\r\n\t\t\t\tnewSeries.push(chartJsDataSets[0].data[i].y);\r\n\t\t\t}\r\n\t\t\treturn { \r\n\t\t\t\tdatasets : [{ data : newSeries }],\r\n\t\t\t\tlabels : labels\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\ttimeDimToSecondsStep : function() {\r\n            let dateTimeDim = this.fillGapDim;\r\n            if(dateTimeDim === '1h') {\r\n                return 60*60;\r\n            } else if(dateTimeDim === '1d') {\r\n                return 24*60*60;\r\n            } else if(dateTimeDim === '1w') {\r\n                return 7*24*60*60;\r\n            } else if(dateTimeDim === '1M') {\r\n                return 30*24*60*60;\r\n            } else {\r\n                return 30*24*60*60;\r\n            }\r\n        },\r\n\t\tisEmpty: function(obj) {\r\n\t\t\treturn Object.keys(obj).length === 0;\r\n\t\t},\r\n\t\tisObject: function(item) {\r\n          return (item && typeof item === 'object' && !Array.isArray(item));\r\n        },\r\n        mergeDeep: function(target, ...sources) {\r\n          if (!sources.length) return target;\r\n          const source = sources.shift();\r\n        \r\n          if (this.isObject(target) && this.isObject(source)) {\r\n            for (const key in source) {\r\n              if (this.isObject(source[key])) {\r\n                if (!target[key]) Object.assign(target, { [key]: {} });\r\n                this.mergeDeep(target[key], source[key]);\r\n              } else {\r\n                Object.assign(target, { [key]: source[key] });\r\n              }\r\n            }\r\n          }\r\n          return this.mergeDeep(target, ...sources);\r\n        }\r\n\t}\r\n}\r\n</script>","export default {\r\n    mounted: function (el, binding, vnode) {\r\n        var watchKeys = binding.value;\r\n        if (!window.watcherUpdates) {\r\n            //Some init must be only once\r\n            window.watcherUpdates = {\r\n                originalDocumentTitle: document.title,\r\n                updates_detected: false,\r\n                acceptedUpdates: function () {\r\n                    window.watcherUpdates.updates_detected = false;\r\n                    document.title = window.watcherUpdates.originalDocumentTitle;\r\n                },\r\n                beforeWindowUnload: function (e) {\r\n                    //les navigateurs n'affichent pas le message proposé pour éviter le scam, il suffit de retourner une chaine non vide\r\n                    if (window.watcherUpdates.updates_detected) {\r\n                        // Cancel the event\r\n                        e.preventDefault()\r\n                        // Chrome requires returnValue to be set\r\n                        e.returnValue = 'Voulez-vous quitter cette page ? \\n Les modifications que vous avez apportées ne seront peut-être pas enregistrées'\r\n                    }\r\n                },\r\n            };\r\n            window.addEventListener('beforeunload', window.watcherUpdates.beforeWindowUnload);\r\n            if (binding.instance.$root.uiMessageStack) {                \r\n                var uiMessageStack = binding.instance.$root.uiMessageStack;\r\n                var hasError = uiMessageStack.globalErrors.length > 0;\r\n                for (let watchKey of watchKeys.split(\",\")) {\r\n                    hasError = hasError || uiMessageStack.objectFieldErrors[watchKey];\r\n                    if (hasError) {\r\n                        break;\r\n                    }\r\n                }\r\n                if (hasError) {\r\n                    window.watcherUpdates.updates_detected = true;//if there is other errors => mark as dirty\r\n                }\r\n            }\r\n        }\r\n        //each button eventListener click\r\n        el.addEventListener('click', window.watcherUpdates.acceptedUpdates);\r\n\r\n        //each button watch data (watchKey may differ)\r\n        for (let watchKey of watchKeys.split(\",\")) {\r\n            binding.instance.$root.$watch('vueData.' + watchKey, function () {\r\n                window.watcherUpdates.updates_detected = true;\r\n                document.title = '*' + window.watcherUpdates.originalDocumentTitle;\r\n            }, { deep: true });\r\n        }\r\n    },\r\n    unmounted: function () {\r\n        window.removeEventListener('beforeunload', window.watcherUpdates.beforeWindowUnload)\r\n    }\r\n}","export default {\r\n    mounted: function(el, binding, vnode) {\r\n        var doFocus = binding.value;\r\n        if(doFocus && !window.autofocus) {\r\n             window.autofocus = true;\r\n             el.focus();\r\n        }\r\n     }\r\n}","import { nextTick } from 'vue'\r\n\r\nexport default {\r\n     updated: function (el, binding, vnode) {\r\n          nextTick(() => {\r\n               if (!window.watcherUpdates || !window.watcherUpdates.updates_detected) {\r\n                    el.classList.add('hidden')\r\n               } else {\r\n                    el.classList.remove('hidden')\r\n               }\r\n          })\r\n     }\r\n}","import * as Vue from \"vue\"\r\nimport * as Quasar from \"quasar\"\r\n\r\nexport default {\r\n    created: function(elMaxi, binding) {\r\n            const topOffset = binding.value?binding.value.topOffset:null;\r\n            const topOffsetElSelector = binding.value?binding.value.topOffsetEl:null;\r\n            const leftOffset = binding.value?binding.value.leftOffset:null;\r\n            const leftOffsetElSelector = binding.value?binding.value.leftOffsetEl:null;\r\n            const elMini = elMaxi.querySelector('.mini')\r\n            for(var i=0 ; i<elMaxi.childNodes.length; i++) {\r\n                var elChild = elMaxi.childNodes[i];\r\n                if(elChild.classList && !elChild.classList.contains('mini')) {\r\n                    elChild.classList.add(\"not-mini\")\r\n                }\r\n            }\r\n            \r\n            Vue.minifyHandler = function() {\r\n                var scrollContainer = elMaxi.closest('.q-page-container'); \r\n                var currentYScroll = scrollContainer?-scrollContainer.getBoundingClientRect().y:window.pageYOffset;\r\n                var currentXScroll = scrollContainer?-scrollContainer.getBoundingClientRect().x:window.pageXOffset;\r\n                var currentTopOffset = elMaxi.getBoundingClientRect().y+currentYScroll;\r\n                var currentLeftOffset = elMaxi.getBoundingClientRect().x+currentXScroll;\r\n                if(topOffset || topOffsetElSelector) {\r\n                    currentTopOffset = Vue.minifyComputeOffset(topOffset, topOffsetElSelector, 0, 'TOP');\r\n                }\r\n                if(leftOffset || leftOffsetElSelector) {\r\n                    currentLeftOffset = Vue.minifyComputeOffset(leftOffset, leftOffsetElSelector, 0, 'LEFT');\r\n                }\r\n                var elMiniHeight = elMini.getBoundingClientRect().height;\r\n                var elMaxiHeight = elMaxi.getBoundingClientRect().height;\r\n                //We check if nav should be fixed\r\n                // Add the fixed class to the header when you reach its scroll position. Remove \"fixed\" when you leave the scroll position\r\n                if (currentYScroll > elMaxiHeight-elMiniHeight) {\r\n                    elMini.classList.add(\"visible\");\r\n                    elMini.style.top=currentTopOffset+\"px\";//top\r\n                    elMini.style.left=currentLeftOffset+\"px\";//left  \t\t\t\r\n                } else {\r\n                    elMini.classList.remove(\"visible\");\r\n                    elMini.style.top = (-elMiniHeight-currentTopOffset)+\"px\";\r\n                }        \t\t\r\n            };\r\n            \r\n            Vue.minifyComputeOffset = function(offset, offsetElSelector, defaultOffset, direction) {\r\n                var currentOffset = defaultOffset;\r\n                if(offset) {\r\n                    currentOffset = offset;\r\n                } else if(offsetElSelector) {\r\n                    var offsetElement = document.querySelector(offsetElSelector);\r\n                    var offsetRect = offsetElement.getBoundingClientRect();\r\n                    if(direction === 'LEFT') {\r\n                        currentOffset = offsetRect.width+offsetRect.x;\r\n                    } else if(direction === 'TOP') {\r\n                        currentOffset = offsetRect.height+offsetRect.y;\r\n                    }\r\n                }\r\n                return currentOffset;\r\n            }\r\n            window.addEventListener('scroll', Vue.minifyHandler)\r\n            window.addEventListener('resize', Quasar.throttle(Vue.minifyHandler,50))\r\n        },\r\n        updated : function() {\r\n            const interval = 50;\r\n            const maxDelay = 1000;\r\n            //for(var delay = interval ; delay < maxDelay ; delay += delay) {\r\n                setTimeout(Vue.minifyHandler,50);\r\n            //}\r\n        },\r\n        unmounted: function(elMaxi) {\r\n            window.removeEventListener('scroll');\r\n            window.removeEventListener('resize');\r\n            \r\n            for(var i=0 ; i<elMaxi.childNodes.length; i++) {\r\n                var elChild = elMaxi.childNodes[i];\r\n                if(elChild.classList) {\r\n                    elChild.classList.remove(\"not-mini\")\r\n                }\r\n            }\r\n        },\r\n    }","import * as Vue from \"vue\"\r\nimport * as Quasar from \"quasar\"\r\n\r\nexport default {\r\n    \r\n    created: function(elNav, args) {\r\n        Vue.createDebugLine = function (name, position, top, color) {\r\n            let scannerLine1 = document.createElement(\"div\");\r\n            scannerLine1.style.position = position;\r\n            scannerLine1.style.top = top + 'px';\r\n            scannerLine1.style.border = 'none';\r\n            scannerLine1.style.borderTop = color + ' solid 1px';\r\n            scannerLine1.style.width = '100%';\r\n            scannerLine1.style.zIndex = '10000';\r\n            scannerLine1.style.padding = '0px';\r\n            scannerLine1.style.lineHeight = '0px';\r\n            scannerLine1.style.fontSize = '12px';\r\n            scannerLine1.style.color = color;\r\n            scannerLine1.innerHTML = name\r\n            document.querySelector('body').appendChild(scannerLine1);\r\n            return scannerLine1;\r\n        };\r\n        \r\n        const debugMode = args.value.debug ? args.value.debug : false;\r\n\r\n        const startingOffset = args.value.startingOffset ? args.value.startingOffset : 24;\r\n        const fixedPos = args.value.fixedPos ? args.value.fixedPos : 24;\r\n        const fixeTrigger = startingOffset - fixedPos;\r\n        const scanner = args.value.scanner ? args.value.scanner : fixedPos + 30; //scanner is 30px bottom of fixedPos, must be smaller than the smallest first element\r\n        const elAs = elNav.querySelectorAll('a')\r\n        elAs[0].classList.add(\"active\") //first active\r\n        elAs[0].ariaCurrent = \"step\";\r\n        const scrollContainer = Quasar.scroll.getScrollTarget(document.querySelector(elAs[0].hash))\r\n\r\n        let scannerLines = []\r\n        let startLinearLine\r\n        let lastScrollLine\r\n        if (debugMode) {\r\n            //scannerLine1 = Vue.createDebugLine('nearesBlock','absolute',scanner,'red' );\r\n            // scannerLine1b = Vue.createDebugLine('scannerStart', 'fixed', scanner, 'orange');\r\n            // startingTopLine = Vue.createDebugLine('startingTop', 'fixed', startingOffset, 'green');//position where the element is at start\r\n            // scannerLine3 = Vue.createDebugLine('fixedPos', 'fixed', fixedPos, 'blue'); //position where the nav is fixed   \r\n            startLinearLine = Vue.createDebugLine('startLinear', 'absolute', 0, 'red');\r\n            lastScrollLine = Vue.createDebugLine('last', 'absolute', 0, 'red');\r\n        }\r\n\r\n\r\n        Vue.scrollSpyHandler = function () {\r\n            if (debugMode) {\r\n                var el = elNav;\r\n                var _x = 0;\r\n                var _y = 0;\r\n                while (el && !isNaN(el.offsetLeft) && !isNaN(el.offsetTop)) {\r\n                    _x += el.offsetLeft - el.scrollLeft;\r\n                    _y += el.offsetTop - el.scrollTop;\r\n                    el = el.offsetParent;\r\n                }\r\n                console.log(\"x: \" + _x);\r\n                console.log(\"y: \" + _y + \" (startingOffset)\");\r\n                //return { top: _y, left: _x };\r\n            }\r\n            // Add the fixed class to the header when you reach its scroll position. Remove \"fixed\" when you leave the scroll position\r\n            if (window.pageYOffset > fixeTrigger) {\r\n                if (!elNav.style.top) {\r\n                    elNav.style.top = fixedPos + \"px\";\r\n                    elNav.classList.add(\"fixed\");\r\n                }\r\n                //when fixed, we must set a valid width\r\n                elNav.style.width = elNav.parentElement.getBoundingClientRect().width + \"px\";\r\n            } else {\r\n                if (elNav.style.top) {\r\n                    elNav.classList.remove(\"fixed\");\r\n                    elNav.style.top = null;\r\n                    elNav.style.width = null;\r\n                }\r\n            }\r\n\r\n            //We compute breakpoints\r\n            var scrollPosition = Quasar.scroll.getVerticalScrollPosition(scrollContainer)\r\n            var scrollBreakpoints = Vue.computeBreakPoints(scrollPosition);\r\n            //We looks between which breakpoints we are\r\n            for (var i = 0; i < elAs.length; i++) {\r\n                if (scrollBreakpoints[i] <= scrollPosition && (i >= elAs.length - 1 || scrollPosition < scrollBreakpoints[i + 1])) {\r\n                    elAs[i].classList.add(\"active\")\r\n                    elAs[i].ariaCurrent = \"step\";\r\n                } else {\r\n                    elAs[i].classList.remove(\"active\");\r\n                    elAs[i].removeAttribute(\"aria-current\");\r\n                }\r\n            }\r\n        };\r\n\r\n        Vue.computeBlockTop = function (scrollPosition) {\r\n            var blockTop = []\r\n            for (let i = 0; i < elAs.length; i++) {\r\n                const elScrollId = elAs[i].hash;\r\n                const elScroll = document.querySelector(elScrollId)\r\n                if (elScroll) {\r\n                    blockTop.push(scrollPosition + elScroll.getBoundingClientRect().top);\r\n                } else {\r\n                    //console.warn('ScrollSpy element '+elScrollId+' not found')\r\n                }\r\n            }\r\n            return blockTop;\r\n        }\r\n\r\n        Vue.scrollTo = function (event) {\r\n            event.preventDefault();\r\n            const elScrollId = event.target.hash;\r\n            const elScroll = document.querySelector(elScrollId)\r\n            var toScroll = Quasar.scroll.getVerticalScrollPosition(scrollContainer) + elScroll.getBoundingClientRect().top - scanner\r\n\r\n\r\n            var scrollPosition = Quasar.scroll.getVerticalScrollPosition(scrollContainer)\r\n            var blockTop = Vue.computeBlockTop(scrollPosition);\r\n            var scrollBreakpoints = Vue.computeBreakPoints(scrollPosition);\r\n            for (var i = 0; i < elAs.length; i++) {\r\n                if (elAs[i].hash == elScrollId) {\r\n                    //console.log('scrollTo', blockTop[i]-scanner, scrollBreakpoints[i+1])\r\n                    if (blockTop[i] - scanner < scrollBreakpoints[i + 1] || !scrollBreakpoints[i + 1]) {\r\n                        toScroll = blockTop[i] - scanner;\r\n                    } else {\r\n                        toScroll = scrollBreakpoints[i + 1] - 1;\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n            var duration = 200\r\n            Quasar.scroll.setVerticalScrollPosition(scrollContainer, toScroll, duration)\r\n        };\r\n\r\n\r\n\r\n        Vue.computeBreakPoints = function (scrollPosition) {\r\n            var blockTop = Vue.computeBlockTop(scrollPosition);\r\n\r\n            const windowHeight = (window.innerHeight || document.documentElement.clientHeight); /** visible height */\r\n            const scrollHeight = Quasar.scroll.getScrollHeight(scrollContainer) /** height of scrollable element */\r\n            const scrollMax = scrollHeight - windowHeight /** Maximum possible scroll */\r\n            const scrollEnd = scrollMax; //blockTop[blockTop.length-1]; /** Finish linear move at this scroll position */\r\n            let scrollStart = scrollEnd - windowHeight + scanner; /** Start linear move at this scroll position : start a block start */\r\n            for (let i = 1; i < elAs.length; i++) {\r\n                if (blockTop[i] - scanner > scrollStart) {\r\n                    scrollStart = blockTop[i] - scanner;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            const scrollDelta = scrollEnd - scrollStart //scroll linear regression \"to\" length\r\n            //console.log('SP',scrollPosition, ' WH', windowHeight, ' SH',scrollHeight, ' SM', scrollMax, ' SS', scrollStart,  ' SD', scrollDelta, \" scanner\",scanner    );\r\n            var scrollBreakpoints = []\r\n            scrollBreakpoints.push(0)\r\n\r\n            for (let i = 1; i < elAs.length; i++) {\r\n                if (blockTop[i] - scanner > scrollStart) {\r\n                    scrollBreakpoints[i] = scrollStart + scrollDelta * (blockTop[i] - scrollStart) / (scrollHeight - scrollStart);\r\n                    //console.log(i+' scrollBreakpoints top: ',blockTop[i])\r\n                } else {\r\n                    scrollBreakpoints[i] = blockTop[i] - scanner;\r\n                }\r\n                scrollBreakpoints[i] = Math.round(scrollBreakpoints[i])\r\n\r\n            }\r\n            if (debugMode) {\r\n                for (let i = 1; i < elAs.length; i++) {\r\n                    var scannerLine;\r\n                    if (scannerLines.length < i) {\r\n                        scannerLine = Vue.createDebugLine('navId#' + i, 'absolute', 0, 'red');\r\n                        scannerLines.push(scannerLine);\r\n                    } else {\r\n                        scannerLine = scannerLines[i - 1];\r\n                    }\r\n                    scannerLine.style.top = (scrollBreakpoints[i] + scanner) + 'px';\r\n                }\r\n                startLinearLine.style.top = (scrollStart + scanner) + 'px';\r\n                lastScrollLine.style.top = (scrollEnd + scanner) + 'px';\r\n            }\r\n            return scrollBreakpoints;\r\n        };\r\n\r\n        \r\n\r\n        elNav.classList.add(\"scroll-spy-nav\");\r\n        for (var i = 0; i < elAs.length; i++) {\r\n            elAs[i].addEventListener('click', Vue.scrollTo);\r\n        }\r\n        window.addEventListener('scroll', Vue.scrollSpyHandler)\r\n        window.addEventListener('resize', Quasar.throttle(Vue.scrollSpyHandler,50))\r\n    },\r\n    unmounted: function(elNav) {\r\n        elNav.classList.remove(\"scroll-spy-nav\");\r\n        window.removeEventListener('scroll')\r\n        window.removeEventListener('resize')\r\n        const elAs = elNav.querySelectorAll('a')\r\n        for (var i = 0; i < elAs.length; i++) {\r\n            elAs.removeEventListener('click')\r\n        }\r\n    },\r\n}","export function sortDate (a, b) {\n  return (new Date(a)) - (new Date(b))\n}\n\nexport function sortBoolean (a, b) {\n  return a && !b\n    ? -1\n    : (!a && b ? 1 : 0)\n}\n","\nexport function isDeepEqual (a, b) {\n  if (a === b) {\n    return true\n  }\n\n  if (a !== null && b !== null && typeof a === 'object' && typeof b === 'object') {\n    if (a.constructor !== b.constructor) {\n      return false\n    }\n\n    let length, i\n\n    if (a.constructor === Array) {\n      length = a.length\n\n      if (length !== b.length) {\n        return false\n      }\n\n      for (i = length; i-- !== 0;) {\n        if (isDeepEqual(a[ i ], b[ i ]) !== true) {\n          return false\n        }\n      }\n\n      return true\n    }\n\n    if (a.constructor === Map) {\n      if (a.size !== b.size) {\n        return false\n      }\n\n      let iter = a.entries()\n\n      i = iter.next()\n      while (i.done !== true) {\n        if (b.has(i.value[ 0 ]) !== true) {\n          return false\n        }\n        i = iter.next()\n      }\n\n      iter = a.entries()\n      i = iter.next()\n      while (i.done !== true) {\n        if (isDeepEqual(i.value[ 1 ], b.get(i.value[ 0 ])) !== true) {\n          return false\n        }\n        i = iter.next()\n      }\n\n      return true\n    }\n\n    if (a.constructor === Set) {\n      if (a.size !== b.size) {\n        return false\n      }\n\n      const iter = a.entries()\n\n      i = iter.next()\n      while (i.done !== true) {\n        if (b.has(i.value[ 0 ]) !== true) {\n          return false\n        }\n        i = iter.next()\n      }\n\n      return true\n    }\n\n    if (a.buffer != null && a.buffer.constructor === ArrayBuffer) {\n      length = a.length\n\n      if (length !== b.length) {\n        return false\n      }\n\n      for (i = length; i-- !== 0;) {\n        if (a[ i ] !== b[ i ]) {\n          return false\n        }\n      }\n\n      return true\n    }\n\n    if (a.constructor === RegExp) {\n      return a.source === b.source && a.flags === b.flags\n    }\n\n    if (a.valueOf !== Object.prototype.valueOf) {\n      return a.valueOf() === b.valueOf()\n    }\n\n    if (a.toString !== Object.prototype.toString) {\n      return a.toString() === b.toString()\n    }\n\n    const keys = Object.keys(a).filter(key => a[ key ] !== void 0)\n    length = keys.length\n\n    if (length !== Object.keys(b).filter(key => b[ key ] !== void 0).length) {\n      return false\n    }\n\n    for (i = length; i-- !== 0;) {\n      const key = keys[ i ]\n      if (isDeepEqual(a[ key ], b[ key ]) !== true) {\n        return false\n      }\n    }\n\n    return true\n  }\n\n  // true if both NaN, false otherwise\n  return a !== a && b !== b // eslint-disable-line no-self-compare\n}\n\n// not perfect, but what we ARE interested is for Arrays not to slip in\n// as spread operator will mess things up in various areas\nexport function isObject (v) {\n  return v !== null && typeof v === 'object' && Array.isArray(v) !== true\n}\n\nexport function isDate (v) {\n  return Object.prototype.toString.call(v) === '[object Date]'\n}\n\nexport function isRegexp (v) {\n  return Object.prototype.toString.call(v) === '[object RegExp]'\n}\n\nexport function isNumber (v) {\n  return typeof v === 'number' && isFinite(v)\n}\n\nexport default {\n  deepEqual: isDeepEqual,\n  object: isObject,\n  date: isDate,\n  regexp: isRegexp,\n  number: isNumber\n}\n","import * as Quasar from \"quasar\"\r\nimport { sortDate } from \"quasar/src/utils/private/sort.js\"\r\nimport { isNumber, isDate } from \"quasar/src/utils/is.js\"\r\n\r\nexport default {\r\n    onAjaxError: function (response) {\r\n        //Quasar Notif Schema\r\n        let notif = {\r\n            type: 'negative',\r\n            message: 'Network Error.',\r\n            multiLine: true,\r\n            icon: 'warning',\r\n            timeout: 2500,\r\n        }\r\n\r\n        //Setup Error Message\r\n        if(response) {\r\n            if (Object.prototype.hasOwnProperty.call(response.data, 'redirect')) { //if response was a redirect\r\n                 window.location = response.data.redirect;\r\n                 return;\r\n            } else if (Object.prototype.hasOwnProperty.call(response.data, 'message')) { //if response was an error\r\n                notif.message = response.data.message\r\n            }\r\n            //Setup Generic Response Messages\r\n            if (response.status === 401) {\r\n                notif.message = this.$q.lang.vui.ajaxErrors.code401\t            \r\n                this.$root.$emit('unauthorized', response) //Emit Logout Event\r\n                return;\r\n            } else if (response.status === 403) {\r\n                notif.message = this.$q.lang.vui.ajaxErrors.code403\r\n            } else if (response.status === 404) {\r\n                notif.message = this.$q.lang.vui.ajaxErrors.code404\r\n            } else if (response.status === 405) {\r\n                notif.message = this.$q.lang.vui.ajaxErrors.code405\r\n            } else if (response.status === 422) {\r\n                //Validation Message\r\n                notif.message = '';\r\n                Object.keys(response.data).forEach(function (key) {\r\n                    this.$data.uiMessageStack[key] = response.data[key];\r\n                }.bind(this));\r\n            } else if (response.status >= 500) {\r\n                notif.message = this.$q.lang.vui.ajaxErrors.code500\r\n            }\r\n            if (response.statusText && response.status !== 422) {\r\n                notif.message = response.statusText\r\n            }\r\n            //Try to Use the Response Message\r\n            if (Object.prototype.hasOwnProperty.call(response, 'data')) {\r\n                if (Object.prototype.hasOwnProperty.call(response.data, 'message') && response.data.message && response.data.message.length > 0) {\r\n                    notif.message = response.data.message\r\n                } else if (Object.prototype.hasOwnProperty.call(response.data, 'globalErrors') && response.data.globalErrors && response.data.globalErrors.length > 0) {\r\n                    var notifyMessages = this.uiMessageStackToNotify(response.data);\r\n                    notifyMessages.forEach(function(notifyMessage) { this.$q.notify(notifyMessage)}.bind(this));\r\n                    notif.message = ''; //déja envoyé\r\n                }\r\n            }\r\n        }\r\n        //Send the notif\r\n        if (notif.message.length > 0) {\r\n            this.$q.notify(notif);\r\n        }\r\n    },\r\n    uiMessageStackToNotify : function(uiMessageStack) {\r\n      if(uiMessageStack) {\r\n        var notifyMessages = [];\r\n        if(Object.prototype.hasOwnProperty.call(uiMessageStack, 'globalErrors') && uiMessageStack.globalErrors && uiMessageStack.globalErrors.length > 0) {\r\n           uiMessageStack.globalErrors.forEach(function(uiMessage) { notifyMessages.push( {\r\n            type: 'negative', message: uiMessage,\r\n            multiLine: true, timeout: 2500,\r\n           })});\r\n        }\r\n        if(Object.prototype.hasOwnProperty.call(uiMessageStack, 'globalWarnings') && uiMessageStack.globalWarnings && uiMessageStack.globalWarnings.length > 0) {\r\n           uiMessageStack.globalWarnings.forEach(function(uiMessage) { notifyMessages.push( {\r\n            type: 'warning', message: uiMessage,\r\n            multiLine: true, timeout: 2500,\r\n           })});\r\n        }\r\n        if(Object.prototype.hasOwnProperty.call(uiMessageStack, 'globalInfos') && uiMessageStack.globalInfos && uiMessageStack.globalInfos.length > 0) {\r\n           uiMessageStack.globalInfos.forEach(function(uiMessage) { notifyMessages.push( {\r\n            type: 'info', message: uiMessage,\r\n            multiLine: true, timeout: 2500,\r\n           })});\r\n        }\r\n        if(Object.prototype.hasOwnProperty.call(uiMessageStack, 'globalSuccess') && uiMessageStack.globalSuccess && uiMessageStack.globalSuccess.length > 0) {\r\n           uiMessageStack.globalSuccess.forEach(function(uiMessage) { notifyMessages.push( {\r\n            type: 'positive', message: uiMessage,\r\n            multiLine: true, timeout: 2500,\r\n           })});\r\n        }\r\n        //Pour le moment, rien avec : objectFieldErrors, objectFieldWarnings, objectFieldInfos\r\n        \r\n        return notifyMessages;\r\n      }\r\n    },\r\n\r\n    getSafeValue: function (objectkey, fieldKey, subFieldKey) {\r\n        if (this.$data.vueData[objectkey] && this.$data.vueData[objectkey][fieldKey]) {\r\n            return this.$data.vueData[objectkey][fieldKey][subFieldKey];\r\n        }\r\n        return null;\r\n    },\r\n\r\n    transformListForSelection: function (list, valueField, labelField, filterFunction, searchValue) {\r\n        let rawList = this.$data.vueData[list];\r\n        if (filterFunction) {\r\n            rawList = rawList.filter(filterFunction);\r\n        }\r\n        if (searchValue != null && searchValue.trim() !== '') {\r\n\t        const searchNormalized = this.unaccentLower(searchValue);\r\n\t        rawList = rawList.filter(val => this.unaccentLower(val[labelField].toString()).indexOf(searchNormalized) > -1); // label contains\r\n        }\r\n        return rawList.map(function (object) {\r\n            return { value: object[valueField], label: object[labelField].toString() } // a label is always a string\r\n        });\r\n    },\r\n    \r\n    unaccentLower: function(value) {\r\n\t    return value.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '').toLowerCase();\r\n    },\r\n\r\n    paginationAndSortHandler: function (params) {\r\n        var pagination = params.pagination;\r\n        let componentStates = this.$data.componentStates;\r\n        let vueData = this.$data.vueData;\r\n        var oldPagination = componentStates[pagination.componentId].pagination;\r\n        if (oldPagination.sortBy != pagination.sortBy || oldPagination.descending != pagination.descending) {\r\n            if (pagination.sortBy) {\r\n                // it's a sort\r\n                if (pagination.sortUrl) {\r\n                    //order call the server\r\n                    pagination.page = 1 //reset pagination\r\n                    this.$http.post(pagination.sortUrl, this.objectToFormData({ sortFieldName: pagination.sortBy, sortDesc: pagination.descending, CTX: this.$data.vueData.CTX }))\r\n                        .then(function (response) {\r\n                            vueData[pagination.listKey] = response.data.model[pagination.listKey];\r\n                            this.$data.vueData.CTX = response.data.model['CTX'];\r\n                        }.bind(this));\r\n                } else {\r\n                    //do locally\r\n                    this.$refs[pagination.componentId].sortMethod.apply(this.$refs[pagination.componentId], [vueData[pagination.listKey], pagination.sortBy, pagination.descending])\r\n                }\r\n            } // if we reset the sort we do nothing\r\n        }\r\n        // otherwise it's pagination or filter : do it locally\r\n        // nothing to do everything is done by the paginatedData function\r\n        componentStates[pagination.componentId].pagination = pagination;\r\n    },\r\n    paginatedData: function (list, componentId) {\r\n        let componentStates = this.$data.componentStates;\r\n        var pagination = componentStates[componentId].pagination;\r\n        if (pagination.rowsPerPage != 0) { // not all\r\n            var firstRowIndex = (pagination.page - 1) * pagination.rowsPerPage;\r\n            var lastRowIndex = pagination.page * pagination.rowsPerPage;\r\n            return this.$data.vueData[list].slice(firstRowIndex, lastRowIndex);\r\n        }\r\n        return this.$data.vueData[list];\r\n    },\r\n    createDefaultTableSort: function(componentId) {\r\n        if (this.$data.componentStates[componentId]) {\r\n            return function (data, sortBy, descending) {\r\n                let sortedColumn = this.$data.componentStates[componentId].columns.find(column => column.name === sortBy);\r\n                if (sortedColumn.datetimeFormat) {\r\n                        const\r\n                        dir = descending === true ? -1 : 1,\r\n                        val =  v => v[sortBy]\r\n\r\n                    return data.sort((a, b) => {\r\n                        let A = val(a),\r\n                            B = val(b);\r\n                        return ((Quasar.date.extractDate(A, sortedColumn.datetimeFormat).getTime() > Quasar.date.extractDate(B, sortedColumn.datetimeFormat).getTime()) ? 1 : -1) * dir;\r\n                    })\r\n                } else {\r\n                    return this.sortCiAi(data, sortBy, descending)\r\n                }\r\n            }.bind(this)\r\n        }\r\n        return this.sortCiAi\r\n    },\r\n    sortCiAi: function (data, sortBy, descending) {\r\n\r\n        const\r\n            dir = descending === true ? -1 : 1,\r\n            val =  v => v[sortBy]\r\n\r\n        const collator = new Intl.Collator();\r\n\r\n        return data.sort((a, b) => {\r\n            let A = val(a),\r\n                B = val(b)\r\n\r\n            if (A === null || A === void 0) {\r\n                return -1 * dir;\r\n            }\r\n            if (B === null || B === void 0) {\r\n                return 1 * dir;\r\n            }\r\n            if (isNumber(A) === true && isNumber(B) === true) {\r\n                return (A - B) * dir;\r\n            }\r\n            if (isDate(A) === true && isDate(B) === true) {\r\n                return sortDate(A, B) * dir;\r\n            }\r\n            if (typeof A === 'boolean' && typeof B === 'boolean') {\r\n                return (A - B) * dir;\r\n            }\r\n\r\n            [A, B] = [A, B].map(s => (s + '').toLocaleString());\r\n\r\n            return collator.compare(A, B) * dir;\r\n        })\r\n    },\r\n\r\n    selectedFunction: function (object, field, item /*, keyboard*/) {\r\n        this.$data.vueData[object][field] = item.value;\r\n    },\r\n\r\n    searchAutocomplete: function (list, valueField, labelField, componentId, url, minQueryLength, terms, update, abort) {\r\n        if (terms.length < minQueryLength) {\r\n            abort();\r\n            return\r\n        }\r\n        this.$http.post(url, this.objectToFormData({ terms: terms, list: list, valueField: valueField, labelField: labelField, CTX: this.$data.vueData.CTX }))\r\n            .then(function (response) {\r\n                var finalList = response.data.map(function (object) {\r\n                    return { value: object[valueField], label: object[labelField].toString() } // a label is always a string\r\n                });\r\n                update(function () {\r\n                    this.$data.componentStates[componentId].options = finalList;\r\n                }.bind(this));\r\n            }.bind(this))\r\n            .catch(function (error) {\r\n                this.$q.notify(error.response.status + \":\" + error.response.statusText);\r\n                update([]);\r\n            });\r\n\r\n    },\r\n    loadAutocompleteById: function (list, valueField, labelField, componentId, url, objectName, fieldName, rowIndex) {\r\n        //Method use when value(id) is set by another way : like Ajax Viewcontext update, other component, ...\r\n        //if options already contains the value (id) : we won't reload.\r\n        var value\r\n        if (rowIndex != null) {\r\n            value = this.$data.vueData[objectName][rowIndex][fieldName];\r\n        } else {\r\n            value = this.$data.vueData[objectName][fieldName];\r\n        }\r\n         \r\n        if (Array.isArray(value)) {\r\n            value.forEach(element => this.loadMissingAutocompleteOption(list, valueField, labelField, componentId, url, element));\r\n        } else {\r\n            this.loadMissingAutocompleteOption(list, valueField, labelField, componentId, url, value);\r\n        }\r\n        \r\n    },\r\n\tloadMissingAutocompleteOption: function (list, valueField, labelField, componentId, url, value){\r\n        if (!value || (this.$data.componentStates[componentId].options\r\n            .filter(function (option) { return option.value === value }.bind(this)).length > 0)) {\r\n            return\r\n        }\r\n        this.$data.componentStates[componentId].loading = true;\r\n        this.$http.post(url, this.objectToFormData({ value: value, list: list, valueField: valueField, labelField: labelField, CTX: this.$data.vueData.CTX }))\r\n            .then(function (response) {\r\n                var finalList = response.data.map(function (object) {\r\n                    return { value: object[valueField], label: object[labelField].toString() } // a label is always a string\r\n                });\r\n                this.$data.componentStates[componentId].options = this.$data.componentStates[componentId].options.concat(finalList);\r\n            }.bind(this))\r\n            .catch(function (error) {\r\n                this.$q.notify(error.response.status + \":\" + error.response.statusText);\r\n            }.bind(this))\r\n            .then(function () {// always executed\r\n                this.$data.componentStates[componentId].loading = false;\r\n            }.bind(this));\r\n\t},\r\n    decodeDate: function (value, format) {\r\n        if (value === Quasar.date.formatDate(Quasar.date.extractDate(value, 'DD/MM/YYYY'), 'DD/MM/YYYY')) {\r\n            return Quasar.date.formatDate(Quasar.date.extractDate(value, 'DD/MM/YYYY'), format);\r\n        } else {\r\n            return value;\r\n        }\r\n    },\r\n\r\n    encodeDate: function (newValue, format) {\r\n        if (newValue === Quasar.date.formatDate(Quasar.date.extractDate(newValue, format), format)) {\r\n            return Quasar.date.formatDate(Quasar.date.extractDate(newValue, format), 'DD/MM/YYYY');\r\n        } else {\r\n            return newValue;\r\n        }\r\n    },\r\n\r\n    decodeDatetime: function (value, format) {\r\n        if (value === Quasar.date.formatDate(Quasar.date.extractDate(value, 'DD/MM/YYYY HH:mm'), 'DD/MM/YYYY HH:mm')) {\r\n            return Quasar.date.formatDate(Quasar.date.extractDate(value, 'DD/MM/YYYY HH:mm'), format);\r\n        } else {\r\n            return value;\r\n        }\r\n    },\r\n\r\n    encodeDatetime: function (newValue, format) {\r\n        if (newValue === Quasar.date.formatDate(Quasar.date.extractDate(newValue, format), format)) {\r\n            return Quasar.date.formatDate(Quasar.date.extractDate(newValue, format), 'DD/MM/YYYY HH:mm');\r\n        } else {\r\n            return newValue;\r\n        }\r\n    },\r\n\r\n    sortDatesAsString: function (format) {\r\n        return function (date1, date2, rowA, rowB) {\r\n            return (Quasar.date.extractDate(date1, format).getTime() > Quasar.date.extractDate(date2, format).getTime()) ? 1 : -1;\r\n        }\r\n    },\r\n\r\n    goTo: function (url) {\r\n        window.location = url;\r\n    },\r\n\r\n    openModal: function (modalId, url, params) {\r\n        if (url) {\r\n            var finalUrl = url;\r\n            if (params && Object.keys(params).length > 0) {\r\n                var paramsString = Object.keys(params).map(function (key) {\r\n                    return key + '=' + params[key];\r\n                }).join(\"&\");\r\n                finalUrl = finalUrl + '?' + paramsString;\r\n            }\r\n            this.$data.componentStates[modalId].srcUrl = finalUrl;\r\n        }\r\n        this.$data.componentStates[modalId].opened = true;\r\n    },\r\n\r\n    toogleFacet: function (facetCode, facetValueCode, contextKey) {\r\n        let vueData = this.$data.vueData;\r\n        var multiple = false;\r\n        vueData[contextKey + \"_facets\"].forEach(function (facet) {\r\n            if (facet.code === facetCode) {\r\n                // get the right facet \r\n                multiple = facet.multiple;\r\n            }\r\n        })\r\n        var selectedFacetValues = vueData[contextKey + \"_selectedFacets\"][facetCode]\r\n        if (selectedFacetValues) {\r\n            if (selectedFacetValues.includes(facetValueCode)) {\r\n                if (multiple) {\r\n                    selectedFacetValues.splice(selectedFacetValues.indexOf(facetValueCode), 1);\r\n                } else {\r\n                    selectedFacetValues.splice(0);\r\n                }\r\n            } else {\r\n                selectedFacetValues.push(facetValueCode);\r\n            }\r\n        } else {\r\n            vueData[contextKey + \"_selectedFacets\"][facetCode] = [facetValueCode];\r\n        }\r\n        this.search(contextKey);\r\n    },\r\n\r\n    search: Quasar.debounce(function (contextKey) {\r\n        let componentStates = this.$data.componentStates;\r\n        let vueData = this.$data.vueData;\r\n        var selectedFacetsContextKey = contextKey + \"_selectedFacets\";\r\n        var criteriaContextKey = vueData[contextKey + '_criteriaContextKey'];\r\n        var params = this.vueDataParams([criteriaContextKey]);\r\n        params.append(selectedFacetsContextKey, JSON.stringify(vueData[selectedFacetsContextKey]));\r\n\r\n        var searchUrl = componentStates[contextKey + 'Search'].searchUrl;\r\n        var collectionComponentId = componentStates[contextKey + 'Search'].collectionComponentId;\r\n\r\n        if (componentStates[collectionComponentId].pagination && componentStates[collectionComponentId].pagination.sortBy) {\r\n            var collectionPagination = componentStates[collectionComponentId].pagination;\r\n            params.append('sortFieldName', collectionPagination.sortBy);\r\n            params.append('sortDesc', collectionPagination.descending);\r\n        }\r\n        this.httpPostAjax(searchUrl, params, {\r\n            onSuccess: function (response) {\r\n                if (componentStates[collectionComponentId].pagination) {\r\n                    var collectionPagination = componentStates[collectionComponentId].pagination;\r\n                    collectionPagination.page = 1 // reset page\r\n                    collectionPagination.rowsNumber = response.data.model[contextKey + '_list'].length\r\n                }\r\n            }\r\n        });\r\n    }, 400),\r\n\r\n    showMore: function (componentId) {\r\n        let componentStates = this.$data.componentStates;\r\n        var showMoreCount = componentStates[componentId].pagination.showMoreCount;\r\n        if (showMoreCount) {\r\n            // nothing to do\r\n        } else {\r\n            showMoreCount = 1;\r\n            componentStates[componentId].pagination.showMoreCount = showMoreCount;\r\n        }\r\n        componentStates[componentId].pagination.rowsPerPage = componentStates[componentId].pagination.rowsPerPage / showMoreCount * (showMoreCount + 1);\r\n    },\r\n    vueDataToArray(value) {\r\n        if (Array.isArray(value)) {\r\n            return value;\r\n        } else if (value) {\r\n            return [value];\r\n        }\r\n        return [];\r\n    },\r\n    vueDataToObject(value) {\r\n        if(Array.isArray(value)) {\r\n            if (value.length == 0 ) {\r\n                return null\r\n            } else if (value.length == 1) {\r\n                return value[0]\r\n            }\r\n            return value;\r\n        } else if(value) {\r\n            return value;\r\n        }\r\n        return null;\r\n    },\r\n    obtainVueDataAccessor(referer, object, field, rowIndex) {\r\n        if (field != null && field != 'null') {\r\n            if (rowIndex != null) {\r\n                return {\r\n                    get: function () {\r\n                        return referer.$data.vueData[object][rowIndex][field];\r\n                    },\r\n                    set: function (newData) {\r\n                        referer.$data.vueData[object][rowIndex][field] = newData;\r\n                    }\r\n                }\r\n            } else {\r\n                return {\r\n                    get: function () {\r\n                        return referer.$data.vueData[object][field];\r\n                    },\r\n                    set: function (newData) {\r\n                        referer.$data.vueData[object][field] = newData;\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            return {\r\n                get: function () {\r\n                    return referer.$data.vueData[object];\r\n                },\r\n                set: function (newData) {\r\n                    referer.$data.vueData[object] = newData;\r\n                }\r\n            }\r\n        }\r\n    },\r\n    uploader_dragenter(componentId) {\r\n        let componentStates = this.$data.componentStates;\r\n        componentStates[componentId].dragover = true;\r\n    },\r\n    uploader_dragleave(componentId) {\r\n        let componentStates = this.$data.componentStates;\r\n        componentStates[componentId].dragover = false;\r\n    },\r\n    uploader_drop(event, componentId) {\r\n        var component = this.$refs[componentId];\r\n        component.addFiles(event.dataTransfer.files);\r\n    },\r\n    httpPostAjax: function (url, paramsIn, options) {\r\n        var paramsInResolved = !paramsIn ? [] :  Array.isArray(paramsIn) ? this.vueDataParams(paramsIn) : paramsIn;\r\n        let vueData = this.$data.vueData;\r\n        let uiMessageStack = this.$data.uiMessageStack;\r\n        let params = this.isFormData(paramsInResolved) ? paramsInResolved : this.objectToFormData(paramsInResolved);\r\n        params.append('CTX', vueData.CTX);\r\n        this.pushPendingAction(url);\r\n        this.$http.post(url, params).then(function (response) {\r\n          if (response.data.model.CTX) {\r\n            vueData.CTX = response.data.model.CTX;\r\n          }\r\n          Object.keys(response.data.model).forEach(function (key) {\r\n            if ('CTX' != key) {\r\n              vueData[key] = response.data.model[key];\r\n            }\r\n          });\r\n          Object.keys(response.data.uiMessageStack).forEach(function (key) {\r\n            uiMessageStack[key] = response.data.uiMessageStack[key];\r\n          });\r\n          if (options && options.onSuccess) {\r\n            options.onSuccess.call(this, response, window);\r\n          }\r\n        }.bind(this)).catch(function (error) {\r\n          if (options && options.onError) {\r\n            options.onError.call(this, error.response, window);\r\n          }              \r\n        }).finally(function () {\r\n          this.removePendingAction(url);\r\n        }.bind(this));\r\n    },\r\n    isPendingAction: function(actionName) {\r\n        if(actionName) {\r\n            return this.$data.componentStates.pendingAction.actionNames.includes(actionName);\r\n        } else {\r\n            return this.$data.componentStates.pendingAction.actionNames.length > 0;\r\n        }\r\n    },\r\n    pushPendingAction: function(actionName) {\r\n         this.$data.componentStates.pendingAction.actionNames.push(actionName);\r\n    },\r\n    removePendingAction: function(actionName) {\r\n        this.$data.componentStates.pendingAction.actionNames = this.$data.componentStates.pendingAction.actionNames.filter(e => e !== actionName);\r\n    },\r\n    removePendingActionAfterDelay: function(actionName, delay) {\r\n        setTimeout(function () {this.removePendingAction(actionName)}.bind(this), delay);\r\n    },        \r\n\r\n    hasFieldsError: function (object, field, rowIndex) {\r\n        const fieldsErrors = this.$data.uiMessageStack.objectFieldErrors;\r\n        const fieldName = field.split(\"_\")[0]; // trim any qualifier like \"_fmt\"\r\n        if (fieldsErrors) {\r\n            var objectName = rowIndex != null ? object + '[' + rowIndex + ']' : object;\r\n            return Object.prototype.hasOwnProperty.call(fieldsErrors, objectName) &&\r\n                fieldsErrors[objectName] && Object.prototype.hasOwnProperty.call(fieldsErrors[objectName], fieldName) && fieldsErrors[objectName][fieldName].length > 0\r\n        }\r\n        return false;\r\n    },\r\n\r\n    getErrorMessage: function (object, field, rowIndex) {\r\n        const fieldsErrors = this.$data.uiMessageStack.objectFieldErrors;\r\n        const fieldName = field.split(\"_\")[0]; // trim any qualifier like \"_fmt\"\r\n        if (fieldsErrors) {\r\n            var objectName = rowIndex != null ? object + '[' + rowIndex + ']' : object;\r\n            if (Object.prototype.hasOwnProperty.call(fieldsErrors, objectName) &&\r\n                fieldsErrors[objectName] && Object.prototype.hasOwnProperty.call(fieldsErrors[objectName], fieldName)) {\r\n                return fieldsErrors[objectName][fieldName].join(', ');\r\n            }\r\n        } else {\r\n            return '';\r\n        }\r\n    },\r\n\r\n    vueDataParams: function (keys) {\r\n        var params = new FormData();\r\n        for (var i = 0; i < keys.length; i++) {\r\n            var attribs = keys[i].split('.',2);\r\n            var contextKey = attribs[0];\r\n            var attribute = attribs[1];\r\n            var vueDataValue = this.$data.vueData[contextKey];\r\n            if (vueDataValue && typeof vueDataValue === 'object' && Array.isArray(vueDataValue) === false) {\r\n                // object\r\n                if(!attribute) {\r\n                    Object.keys(vueDataValue).forEach(function (propertyKey) {\r\n                        if (!propertyKey.includes(\"_\") ) {\r\n                            //  properties taht start with _ are private and don't belong to the serialized entity\r\n                            // we filter field with modifiers (like <field>_display and <field>_fmt)\r\n                            this._vueDataParamsKey(params, contextKey, propertyKey, vueDataValue)\r\n                        }\r\n                    }.bind(this));\r\n                } else {\r\n                    this._vueDataParamsKey(params, contextKey, attribute, vueDataValue)\r\n                }\r\n            } else if (vueDataValue && Array.isArray(vueDataValue) === true) {\r\n                // array\r\n                vueDataValue.forEach(function (value, index) {\r\n                    if(!attribute) {\r\n                        Object.keys(value).forEach(function (propertyKey) {\r\n                            if (!propertyKey.includes(\"_\") ) {\r\n                                //  properties that start with _ are private and don't belong to the serialized entity\r\n                                // we filter field with modifiers (like <field>_display and <field>_fmt)\r\n                                this._vueDataParamsKey(params, contextKey +']['+ index , propertyKey, value)\r\n                            }\r\n                        }.bind(this));\r\n                    } else {\r\n                        this._vueDataParamsKey(params, contextKey +']['+ index, attribute, value)\r\n                    }\r\n                }.bind(this));\r\n            } else {\r\n                //primitive\r\n                this.appendToFormData(params, 'vContext[' + contextKey + ']', vueDataValue);\r\n            }\r\n        }\r\n        return params;\r\n\r\n    },\r\n    _vueDataParamsKey: function(params, contextKey, propertyKey, vueDataValue) {\r\n        let vueDataFieldValue = vueDataValue[propertyKey];\r\n        if (Array.isArray(vueDataFieldValue)) {\r\n            if (!vueDataFieldValue || vueDataFieldValue.length == 0) {\r\n                this.appendToFormData(params, 'vContext[' + contextKey + '][' + propertyKey + ']', \"\"); // reset array with an empty string\r\n            } else {\r\n                vueDataFieldValue.forEach(function (value, index) {\r\n                    if (vueDataFieldValue[index] && typeof vueDataFieldValue[index] === 'object') {\r\n                        this.appendToFormData(params, 'vContext[' + contextKey + '][' + propertyKey + ']', vueDataFieldValue[index]['_v_inputValue']);\r\n                    } else {\r\n                        this.appendToFormData(params, 'vContext[' + contextKey + '][' + propertyKey + ']', vueDataFieldValue[index]);\r\n                    }\r\n                }.bind(this));\r\n            }\r\n        } else {\r\n            if (vueDataFieldValue && typeof vueDataFieldValue === 'object') {\r\n                this.appendToFormData(params, 'vContext[' + contextKey + '][' + propertyKey + ']', vueDataFieldValue['_v_inputValue']);\r\n            } else {\r\n                this.appendToFormData(params, 'vContext[' + contextKey + '][' + propertyKey + ']', vueDataFieldValue);\r\n            }\r\n        }\r\n    },\r\n    objectToFormData: function (object) {\r\n        const formData = new FormData();\r\n        Object.keys(object).forEach(function (key) {\r\n            this.appendToFormData(formData, key, object[key])\r\n        }.bind(this));\r\n        return formData;\r\n    },\r\n\r\n    appendToFormData: function (formData, name, value) {\r\n        if (value != null) {\r\n            formData.append(name, value)\r\n        } else {\r\n            formData.append(name, \"\")\r\n        }\r\n    },\r\n\r\n    isFormData: function (val) {\r\n        return (typeof FormData !== 'undefined') && (val instanceof FormData);\r\n    },\r\n    /**\r\n     * Capture the <CTL-V> paste event, only allow plain-text, no images.         *\r\n     * see: https://stackoverflow.com/a/28213320         *\r\n     * @param {object} evt - array of files\r\n     * @author Daniel Thompson-Yvetot\r\n     * @license MIT\r\n     */\r\n    pastePlainTextCapture (evt, editorRef) {\r\n      // Let inputs do their thing, so we don't break pasting of links.\r\n      if (evt.target.nodeName === 'INPUT') return\r\n      let text, onPasteStripFormattingIEPaste\r\n      evt.preventDefault()\r\n      if (evt.originalEvent && evt.originalEvent.clipboardData.getData) {\r\n        text = evt.originalEvent.clipboardData.getData('text/plain')\r\n        this.$refs[editorRef].runCmd('insertText', text)\r\n      }\r\n      else if (evt.clipboardData && evt.clipboardData.getData) {\r\n        text = evt.clipboardData.getData('text/plain')\r\n        this.$refs[editorRef].runCmd('insertText', text)\r\n      }\r\n      else if (window.clipboardData && window.clipboardData.getData) {\r\n        if (!onPasteStripFormattingIEPaste) {\r\n          onPasteStripFormattingIEPaste = true\r\n          this.$refs[editorRef].runCmd('ms-pasteTextOnly', text)\r\n        }\r\n        onPasteStripFormattingIEPaste = false\r\n      }\r\n    },\r\n    editorHandlerFixHelper(tags, regexp, doBlockName, undoBlockName, eVm, caret) {\r\n        if(caret.hasParents(tags, true)) { \r\n            eVm.runCmd('formatBlock', undoBlockName);\r\n            \r\n            if(!caret.range.commonAncestorContainer.hasChildNodes()) {\r\n                 var currentNode = caret.selection.focusNode.parentNode;\r\n                while(currentNode && currentNode !== caret.el) {\r\n                    if(tags.includes(currentNode.nodeName.toLowerCase())) {\r\n                        currentNode.outerHTML = currentNode.outerHTML.replace(regexp,\"\");\r\n                    }\r\n                    currentNode = currentNode.parentNode;\r\n                }                    \r\n            } else {\r\n               var inSelection = false;\r\n                var startNode = caret.range.startContainer;\r\n                while(startNode && startNode !== caret.el && startNode.parentNode !== caret.range.commonAncestorContainer) {\r\n                    startNode = startNode.parentNode;\r\n                }                \r\n                var endNode = caret.range.endContainer;\r\n                while(endNode && endNode !== caret.el && endNode.parentNode !== caret.range.commonAncestorContainer) {\r\n                    endNode = endNode.parentNode;\r\n                }\r\n                caret.range.commonAncestorContainer.childNodes.forEach(\r\n                    function (currentNode) {\r\n                        if(currentNode === startNode) {\r\n                            inSelection = true;\r\n                        }\r\n                        if(inSelection) {\r\n                            currentNode.outerHTML = currentNode.outerHTML.replace(regexp,\"\");\r\n                        }\r\n                        if(currentNode === endNode) {\r\n                            inSelection = false;                            \r\n                        }\r\n                    }\r\n                )\r\n            }\r\n        } else {\r\n            eVm.runCmd('formatBlock', doBlockName);\r\n        }\r\n    },\r\n    editorHandlerBlockquoteFix(e,eVm,caret) {\r\n        this.editorHandlerFixHelper(['blockquote'], /<\\/?blockquote[^>]*\\/?>/g, 'blockquote', 'div', eVm, caret);\r\n    },\r\n    editorHandlerParagrapheFix(e,eVm,caret) {\r\n        this.editorHandlerFixHelper(['h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'h7', 'h8', 'h9'], /<\\/?h[1-9][^>]*\\/?>/g, 'div', 'div', eVm, caret);            \r\n    }\r\n}\r\n","import * as Quasar from \"quasar\"\r\n\r\nimport VChatbot from './components/VChatbot.vue'\r\nimport VCommands from './components/VCommands.vue'\r\nimport VComments from './components/VComments.vue'\r\nimport VExtensionsStore from './components/VExtensionsStore.vue'\r\nimport VFacets from './components/VFacets.vue'\r\nimport VGeopointInput from './components/VGeopointInput.vue'\r\nimport VHandles from './components/VHandles.vue'\r\nimport VJsonEditor from './components/VJsonEditor.vue'\r\nimport VNotifications from './components/VNotifications.vue'\r\nimport VMap from './components/VMap.vue'\r\nimport VMapLayer from './components/VMapLayer.vue'\r\nimport VTree from './components/VTree.vue'\r\nimport VFileUpload from './components/VFileUpload.vue'\r\n\r\nimport VDashboardChart from './components/dashboard/VDashboardChart.vue'\r\n\r\nimport VAlertUnsavedUpdates from './directives/VAlertUnsavedUpdates'\r\nimport VAutofocus from './directives/VAutofocus'\r\nimport VIfUnsavedUpdates from './directives/VIfUnsavedUpdates'\r\nimport VMinify from './directives/VMinify'\r\nimport VScrollSpy from './directives/VScrollSpy'\r\n\r\nimport VMethods from './methods'\r\n\r\nimport EnUs from './lang/vertigo-ui-lang-en-us'\r\nimport Fr from './lang/vertigo-ui-lang-fr'\r\n\r\nvar VertigoUi = {\r\n\r\n  getBoundMethods : function(obj, methods) {\r\n    let boundMethods = {};\r\n    Object.keys(methods)\r\n        .forEach(methodName => boundMethods[methodName] = methods[methodName].bind(obj));\r\n    return boundMethods;\r\n  },\r\n\r\n   install : function (vueApp , options) {\r\n      \r\n    // components\r\n    vueApp.component(\"v-chatbot\", VChatbot);\r\n    vueApp.component(\"v-commands\", VCommands);\r\n    vueApp.component(\"v-comments\", VComments);\r\n    vueApp.component(\"v-extensions-store\", VExtensionsStore);\r\n    vueApp.component(\"v-facets\", VFacets);\r\n    vueApp.component(\"v-geopoint-input\", VGeopointInput);\r\n    vueApp.component(\"v-handles\", VHandles);\r\n    vueApp.component(\"v-json-editor\", VJsonEditor);\r\n    vueApp.component(\"v-notifications\", VNotifications);\r\n    vueApp.component(\"v-map\", VMap);\r\n    vueApp.component(\"v-map-layer\", VMapLayer);\r\n    vueApp.component(\"v-tree\", VTree)\r\n    vueApp.component(\"v-file-upload\", VFileUpload);\r\n    vueApp.component(\"v-dashboard-chart\", VDashboardChart);\r\n\r\n    // directives\r\n    vueApp.directive(\"alert-unsaved-updates\", VAlertUnsavedUpdates);\r\n    vueApp.directive(\"autofocus\", VAutofocus);\r\n    vueApp.directive(\"if-unsaved-updates\", VIfUnsavedUpdates);\r\n    vueApp.directive(\"minify\", VMinify);\r\n    vueApp.directive(\"scroll-spy\", VScrollSpy);\r\n    \r\n    if (!options.axios) {\r\n        console.error('You have to install axios')\r\n        return\r\n    }\r\n\r\n    vueApp.axios = options.axios;\r\n    vueApp.$http = options.axios;\r\n\r\n    Object.defineProperties(vueApp.config.globalProperties, {\r\n        axios: {\r\n            get() {\r\n            return options.axios\r\n            }\r\n        },\r\n    \r\n        $http: {\r\n            get() {\r\n            return options.axios\r\n            }\r\n        },\r\n\r\n        $vui: {\r\n            get() {\r\n                return VertigoUi.getBoundMethods(this, VMethods);\r\n            }\r\n        }\r\n    });\r\n   \r\n   \r\n },\r\n\r\n methods: VMethods,\r\n\r\n initData : function(instance, json) {\r\n    instance.vueData = json.vueData;\r\n\tinstance.componentStates = json.componentStates;\r\n    instance.uiMessageStack = json.uiMessageStack;\r\n    instance.vuiLang = json.vuiLang;\r\n },\r\n\r\n lang : {\r\n     enUS: EnUs,\r\n     fr: Fr\r\n }\r\n}\r\n\r\nif (window) {\r\n    window.VertigoUi = VertigoUi\r\n}\r\n\r\n\r\n\r\nexport default VertigoUi;","export default {\r\n        ajaxErrors: {\r\n            code401: 'UnAuthorized, you may login with an authorized account',\r\n            code403: 'Forbidden, your havn&quote;t enought rights',\r\n            code404: 'API Route is Missing or Undefined',\r\n            code405: 'API Route Method Not Allowed',\r\n            code500: 'Server Error'\r\n        },\r\n        comments: {\r\n            title : \"Comments\",\r\n            inputLabel : \"Insert here a comment\",\r\n            actionlabel : \"Publish\",\r\n            cancel :\"Cancel\",\r\n            save : \"Save\"\r\n        },\r\n        chatbot: {\r\n            errorMessage: \"An error occured sending the message\",\r\n            tryAgain: \"Try again\",\r\n            suggestedAnswers : \"Suggested answers\",\r\n            inputPlaceHolder : \"Enter here a message\",\r\n            restartMessage : \"Conversation is restarting\"\r\n        },\r\n        facets : {\r\n            showAll : \"Show all\",\r\n            showLess : \"Show less\"\r\n        },\r\n        notifications : {\r\n            days : \"days\",\r\n            hours : \"hours\",\r\n            minutes : \"min\",\r\n            seconds : \"s\"\r\n        },\r\n        commands : {\r\n            globalPlaceholder : \"Type / to show all available commands\",\r\n            executeCommand : \"Press Enter to execute command\",\r\n            linkLabel : \"Show details\"\r\n        },\r\n\t\tuploader : {\r\n\t\t\tclear_all : \"Clear All\",\r\n\t\t\tremoveUploaded : \"Remove Uploaded Files\",\r\n\t\t\tremove : \"Remove\",\r\n\t\t\tadd : \"Pick Files\",\r\n\t\t\tupload : \"Upload Files\",\r\n\t\t\tclear : \"Abort Upload\",\r\n\t\t\tfileErrorTooBig : \"Error : This file is too large\",\r\n\t\t\tfileErrorUnknown : \"Unknown error : This file cannot be uploaded\",\r\n\t\t},\r\n        handles : {\r\n            placeholder : \"Enter a handle : format is type/code\"\r\n        }\r\n    };","export default {\r\n        ajaxErrors: {\r\n            code401: 'Non autoris&eacute;, essayez de vous reconnecter',\r\n            code403: 'Vous n&quote;avez pas les droits suffisants pour effectuer cette action',\r\n            code404: 'API introuvable',\r\n            code405: 'API non autoris&eacute;e',\r\n            code500: 'Erreur serveur'\r\n        },\r\n        comments: {\r\n            title : \"Commentaires\",\r\n            inputLabel : \"Insérer un commentaire ici\",\r\n            actionlabel : \"Publier\",\r\n            cancel :\"Annuler\",\r\n            save : \"Sauver\"\r\n        },\r\n        chatbot: {\r\n            errorMessage: \"Une erreur est survenue lors de l'envoi du message\",\r\n            tryAgain: \"Essayez de nouveau\",\r\n            suggestedAnswers : \"Réponses suggérées\",\r\n            inputPlaceHolder : \"Ecrire un message\",\r\n            restartMessage : \"Redémarrage de la conversation\"\r\n        },\r\n        facets : {\r\n            showAll : \"Voir plus\",\r\n            showLess : \"Voir moins\"\r\n        },\r\n        notifications : {\r\n            days : \"jours\",\r\n            hours : \"heures\",\r\n            minutes : \"min\",\r\n            seconds : \"s\"\r\n        },\r\n        commands : {\r\n            globalPlaceholder : \"Taper / pour afficher les commandes disponibles\",\r\n            executeCommand : \"Appuyer sur entrée pour executer la commande\",\r\n            linkLabel : \"Voir les détails\"\r\n        },\r\n\t\tuploader : {\r\n\t\t\tclear_all : \"Annuler tous\",\r\n\t\t\tremoveUploaded : \"Supprimer tous\",\r\n\t\t\tremove : \"Supprimer\",\r\n\t\t\tadd : \"Ajouter un fichier\",\r\n\t\t\tupload : \"Envoyer\",\r\n\t\t\tclear : \"Annuler\",\r\n\t\t\tfileErrorTooBig : \"Erreur : Le fichier est trop volumineux\",\r\n\t\t\tfileErrorUnknown : \"Erreur inconnue : Ce fichier ne peut pas être envoyé\",\r\n\t\t},\r\n        handles : {\r\n            placeholder : \"Entrer un handle de la forme type/code\"\r\n        }\r\n    };"],"names":["_sfc_main","btn","sanitizedString","response","value","httpResponse","currentMessage","watingTime","lastMsg","cmd","milliseconds","resolve","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_openBlock","_createElementBlock","_createVNode","_component_q_scroll_area","_createElementVNode","_Fragment","_renderList","_ctx","msg","index","_createBlock","_component_q_chat_message","_component_q_rating","$event","_toDisplayString","_component_q_btn","_cache","$options","_component_q_spinner_dots","_component_q_input","_withKeys","$props","val","update","abort","command","selection","commitCommand","keyEvent","paramValue","actualParams","param","newOptions","element","newParams","actualValue","isFirst","args","_createTextVNode","_component_q_select","event","_component_q_separator","Quasar","newComment","creationDate","diff","_component_q_badge","_component_q_drawer","_component_q_list","_component_q_item_label","_component_big","_component_q_item","_component_q_item_section","comment","_component_q_avatar","_component_q_icon","_component_q_popup_edit","availableExtensions","availableExtension","color","extension","_component_q_card","_normalizeStyle","_component_q_toggle","facetCode","facetValueCodeTranslator","facet","facetValueCode","facetValue","facetValueByCode","obj","facetValues","selectedFacetValues","selectedFacet","selectedFacetValue","_component_q_chip","_component_q_checkbox","newVal","newInputValue","handle","key","_component_q_field","newList","sortedList","b","newElements","lastOldElement","newIdx","notif","type","typeIcon","_component_q_menu","ol","found","vm","checkForMap","view","osmSource","osmLayer","mapControls","buildCustomControls","e","mapExtent","wgs84Extent","topLeft","bottomRight","evt","opt_options","options","_renderSlot","newItemsCoordString","newClusterCoordString","i","geoField","arrayOfFeatures","object","geoObject","iconFeature","arrayOfClusterFeatures","maxZoom","maxZoomResolved","extentPadded","valueCoord","el","geohash","bounds","latMin","lonMin","latMax","lonMax","lat","lon","evenBit","chr","idx","n","bitN","lonMid","latMid","olMap","clusterSource","clusterLayer","styleIcon","styleCache","feature","size","agregateFeatures","fSize","style","popup","coordinates","pixel","hit","draw","coord","button","target","rse","list","subTreeKey","map","node","roots","_component_q_tree","format","humanStorageSize","props","xhrParams","fileInfoUri","uiFileInfos","uiFileInfo","error","uploadInfo","newFileInforUris","file","info","a","c","removedFile","indexOfFile","quasarFiles","files","quasarUploader","quasarFileSize","totalSize","remoteFilesSize","_component_q_uploader","_mergeProps","_createSlots","_withCtx","slotProps","_normalizeClass","_component_q_circular_progress","_component_q_spinner","_component_q_uploader_add_trigger","_component_q_tooltip","define","constructor","factory","prototype","extend","parent","definition","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","channels","color_formatHex","color_formatHex8","color_formatHsl","color_formatRgb","hslConvert","m","l","rgbn","Rgb","rgba","hsla","r","g","rgbConvert","o","rgb","opacity","k","clampi","clampa","rgb_formatHex","rgb_formatHex8","rgb_formatRgb","hex","h","s","Hsl","min","max","hsl","m2","m1","hsl2rgb","clamph","clampt","constant","x","linear","d","t","exponential","y","hue","gamma","nogamma","interpolateRgb","rgbGamma","start","end","colorRgb","colorHsl","interpolateHsl","d3","getColors","colorName","nbSeries","mainColors","interpolation","_interpolateHsl","_interpolateCatmul","_interpolateLinear","resultColors","isCycle","d3Color","nbColors","_point2PointColors","c1","c2","c3","c4","empty","nc1","nc2","nc3","nc4","red","_catmull","green","blue","colorInterpolation","startJ","interpolatedColor","nbInterpolatedColor","nbInterpolatedColorDegree","j","result","inP0","p1","p2","inP3","delta","p0","p3","translatedData","newValue","oldValue","dataQuery","datas","dataMetrics","timedSeries","queryGroupBy","dataLabels","dataColors","chartTitle","additionalOptions","xLabels","chartOptions","chartJsDataSets","chartJsType","realLabels","metric","bubblesData","pieData","ctx","finalOptions","graphChart","chartData","datasets","myColors","myBgColors","maxRadius","xAxisType","yAxisType","context","data","base","graphs","graph","point","optionKey","axisType","minMax","dataMeasures","groupBy","newSeries","serie","radiusField","field","dataValues","xAxisMeasure","_endsWith","string","suffix","lastTime","stepSize","dataTime","labels","label","dateTimeDim","item","sources","source","VAlertUnsavedUpdates","binding","vnode","watchKeys","uiMessageStack","hasError","watchKey","VAutofocus","doFocus","nextTick","VIfUnsavedUpdates","Vue","VMinify","elMaxi","topOffset","topOffsetElSelector","leftOffset","leftOffsetElSelector","elMini","elChild","scrollContainer","currentYScroll","currentXScroll","currentTopOffset","currentLeftOffset","elMiniHeight","elMaxiHeight","offset","offsetElSelector","defaultOffset","direction","currentOffset","offsetElement","offsetRect","VScrollSpy","elNav","name","position","top","scannerLine1","debugMode","startingOffset","fixedPos","fixeTrigger","scanner","elAs","scannerLines","startLinearLine","lastScrollLine","_x","_y","scrollPosition","scrollBreakpoints","blockTop","elScrollId","elScroll","toScroll","duration","windowHeight","scrollHeight","scrollEnd","scrollStart","scrollDelta","scannerLine","sortDate","isDate","v","isNumber","VMethods","notifyMessages","notifyMessage","uiMessage","objectkey","fieldKey","subFieldKey","valueField","labelField","filterFunction","searchValue","rawList","searchNormalized","params","pagination","componentStates","vueData","oldPagination","componentId","firstRowIndex","lastRowIndex","sortBy","descending","sortedColumn","column","dir","A","B","collator","url","minQueryLength","terms","finalList","objectName","fieldName","rowIndex","option","date1","date2","rowA","rowB","modalId","finalUrl","paramsString","contextKey","multiple","selectedFacetsContextKey","criteriaContextKey","searchUrl","collectionComponentId","collectionPagination","showMoreCount","referer","newData","component","paramsIn","paramsInResolved","actionName","delay","fieldsErrors","keys","attribs","attribute","vueDataValue","propertyKey","vueDataFieldValue","formData","editorRef","text","onPasteStripFormattingIEPaste","tags","regexp","doBlockName","undoBlockName","eVm","caret","inSelection","startNode","endNode","currentNode","VertigoUi","methods","boundMethods","methodName","vueApp","VChatbot","VCommands","VComments","VExtensionsStore","VFacets","VGeopointInput","VHandles","VJsonEditor","VNotifications","VMap","VMapLayer","VTree","VFileUpload","VDashboardChart","instance","json"],"mappings":"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","x_google_ignoreList":[13,14,15,16,17,18,26,27]}