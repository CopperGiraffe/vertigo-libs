<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">

<title>Movies</title>
<script src="https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js"> </script>
<script th:src="@{/static/js/v-components/v-table.js}"> </script>

</head>
<body>
   <h1>Movies</h1>
   <h1>List</h1>
  
	
  	<div id="page">
	  <form id="search">
	  	
	    Search <input name="query" v-model="rawData.searchQuery">
	  </form>
	
	<v-table
		component-id="movie1"
		:list="rawData.movies"
		:filter-key="rawData.searchQuery"
		:columns="['name', 'power']">
		<template slot="header" scope="slotProps">
			<v-table-header v-bind:columns="slotProps.columns" v-bind:list-state="slotProps.listState" ></v-table-header>
		</template>
	</v-table>
	
</div>


<!-- Init the vue page -->
<script>
var vueData = {};
var data = {
		  rawData : vueData,
		  componentStates : {}
	  };
vueData.searchQuery = '';

vueData.movies =  [
    { name: 'Chuck Norris', power: Infinity },
    { name: 'Bruce Lee', power: 9000 },
    { name: 'Jackie Chan', power: 7000 },
    { name: 'Jet Li', power: 8000 }
  ];

data.componentStates.movies2 = {
		listState : {
			page : 1
		}
}

var demo = new Vue({
  el: '#page',
  data: data
})
</script>
	
	<!-- anything we want -->
	<form action="#" th:action="@{/movies/toto}"  method="post">
	
		<input type="hidden" name="top" value="30">
		<input type="hidden" name="skip" value="60">
        <p><button type="submit" >Submit</button></p>
   		<input type="hidden" name="CTX" th:value="${model.vContext[CTX]}">
   </form>
</body>
</html>