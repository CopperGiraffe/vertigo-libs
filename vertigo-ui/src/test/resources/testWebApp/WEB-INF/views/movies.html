<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" 
  xmlns:vu="http://www.morphbit.com/thymeleaf/component"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{templates/mmcLayout}"
>
	<head>
		<title>Movie List</title>
		<script th:src="@{/vertigo-ui/static/js/v-components/v-scroll-spy.js}"></script>
		<script th:src="@{/vertigo-ui/static/js/v-components/v-facets.js}"></script>
	</head>
	
	<body>
		
		<section layout:fragment="content-nav">
			<q-list link style="height:100%">
			      <nav v-scroll-spy="{offset:50}">
			        <q-item tag="a" href="#first">First section label</q-item>			        
			        <q-item tag="a" href="#second">Second section label</q-item>
			        <q-item tag="a" href="#third">Third section label</q-item>
			        </nav>
	        </q-list>		    
		</section>
		
		<section layout:fragment="content" >
			<vu:include-data object="result_list" field="'*'"/>
			<vu:include-data-primitive key="result_facets"/>
			<vu:include-data-primitive key="result_totalcount"/>
			<vu:include-data-primitive key="result_selectedFacets"/>
			<v-facets v-bind:facets="vueData.result_facets" v-bind:selected-facets="vueData.result_selectedFacets" component-id="result" @toogle-facet="toogleFacet"></v-facets>
			<div id="first">
			<h1>First</h1>
			<vu:table list="movies" componentId="movieTable" selectable="true" sortUrl="@{/movies/_sort}" >
				<vu:column field="movId" >
					<a th::href="|'@{/movie/}?movId='+props.row.movId|" >{{props.row.movId}}</a>
				</vu:column>
				<vu:column field="title" sortable="true" />
				<vu:column name="tata" label="Tata">
					another column  : {{props.row.movId}} : {{props.row.title}}
				</vu:column>
				<vu:column name="action" label="Actions">
					<q-btn label="View detail" th:@click="|openModal('movieDetailModal', '@{/movie/}', { 'movId' : props.row.movId })|"></q-btn>
				</vu:column>
			</vu:table>
			</div>
			
			<div id="second">
			<h1>Second</h1>
			<vu:table list="movies" componentId="movieTable2" selectable="true" sortUrl="@{/movies/_sort}">
				<vu:column field="movId" />
				<vu:column field="title" sortable="true" />
			</vu:table>
			</div>
			
			<div id="third">
			<h1>Third</h1>
			aaaa<br/>aaaa<br/>aaaa<br/>aaaa<br/>aaaa<br/>aaaa<br/></div>
			<vu:modal componentId="movieDetailModal" closeLabel="Close" />
		</section>
	</body>
</html>