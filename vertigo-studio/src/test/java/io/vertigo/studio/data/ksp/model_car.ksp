package io.vertigo.studio.domain.car

create DtDefinition DT_CAR {
		id  id  			{ domain:DO_ID,			label:"identifiant de la voiture" }
		field manufacturer  { domain:DO_KEYWORD, 	label:"Constructeur",  				required : "true"}
		field model   		{ domain:DO_FULL_TEXT, 	label:"Modèle",  					required : "true"}
		field description   { domain:DO_FULL_TEXT, 	label:"Descriptif"  				required : "true"}
		field year   		{ domain:DO_INTEGER, 	label:"Année",  					required : "true"}
		field kilo   		{ domain:DO_INTEGER, 	label:"Kilométrage",  				required : "true"}
		field price   		{ domain:DO_INTEGER, 	label:"Prix",  						required : "true"}
		field consommation	{ domain:DO_CONSO, 	    label:"Consommation",  				required : "true"}
}

create DtDefinition DT_MOTOR_TYPE {
		stereotype : "StaticMasterData",
		id mtyCd 			{ domain:DO_STRING,			label:"id"}
		field label  		{ domain:DO_FULL_TEXT, 		label:"Label",		required : "true"}		
}

create Association A_MTY_CAR {
  	fkFieldName : "mtyCd"
    
  	dtDefinitionA : DT_CAR,
	dtDefinitionB : DT_MOTOR_TYPE
			
	navigabilityA : "false"
	navigabilityB : "true"
	
	multiplicityA:"0..*"
	multiplicityB:"0..1"
	
	labelA : "Car"
	labelB : "Motor type"
	roleA : "Car"
	roleB : "MotorType"
},

create Task TK_LIST_CARS {
	className : "io.vertigo.studio.data.domain.CarEngine"
	request : "hello"
    attribute dtoCarIn 	{domain:DO_DT_CAR_DTO, required:"true", inOut :"in"}
    attribute dtoCarOut 	{domain:DO_DT_CAR_DTO, required:"true", inOut :"out"}
}